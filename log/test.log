  [1m[35m (118.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "rails_invoicer_test"[0m
  [1m[35m (406.2ms)[0m  [1m[35mCREATE DATABASE "rails_invoicer_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.2ms)[0m  [1m[35mCREATE TABLE "account_details" ("id" serial primary key, "user_id" integer, "account_id" integer, "role" character varying, "enabled" boolean, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_account_details_on_account_id" ON "account_details" USING btree ("account_id")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_account_details_on_user_id" ON "account_details" USING btree ("user_id")[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE TABLE "accounts" ("id" serial primary key, "organization_name" character varying, "business_email" character varying, "created_by" integer, "enabled" boolean, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "clients" ("id" serial primary key, "name" character varying, "email" character varying, "phone_number" character varying, "address" text, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "account_id" integer)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_clients_on_account_id" ON "clients" USING btree ("account_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "currencies" ("id" serial primary key, "country" character varying, "iso_alpha2" character varying, "iso_alpha3" character varying, "iso_numeric" character varying, "currency_name" character varying, "currency_code" character varying, "currency_symbol" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "invoice_lines" ("id" serial primary key, "invoice_id" integer, "product_id" integer, "description" text, "quantity" integer, "discount_percentage" decimal(19,2), "discount_flat" decimal(19,2), "price" decimal(19,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "line_total" decimal(19,2))[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX  "index_invoice_lines_on_invoice_id" ON "invoice_lines" USING btree ("invoice_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_invoice_lines_on_product_id" ON "invoice_lines" USING btree ("product_id")[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" serial primary key, "account_id" integer, "due_date" date, "invoice_date" date, "client_id" integer, "notes" text, "currency_id" integer, "invoice_number" character varying, "total_amount" decimal(19,2), "total_tax" decimal(19,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "status" character varying)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE  INDEX  "index_invoices_on_account_id" ON "invoices" USING btree ("account_id")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX  "index_invoices_on_client_id" ON "invoices" USING btree ("client_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_invoices_on_currency_id" ON "invoices" USING btree ("currency_id")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" serial primary key, "name" character varying, "description" character varying, "text" character varying, "product_type" character varying, "reorder_level" integer, "can_be_sold" boolean, "can_be_purchased" boolean, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "account_id" integer)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_products_on_account_id" ON "products" USING btree ("account_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "taxes" ("id" serial primary key, "name" character varying, "description" character varying, "text" character varying, "amount" decimal(5,2), "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "account_id" integer)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_taxes_on_account_id" ON "taxes" USING btree ("account_id")[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" serial primary key, "email" character varying, "password_digest" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "first_name" character varying, "last_name" character varying)[0m
  [1m[35m (4.3ms)[0m  [1m[35mALTER TABLE "account_details" ADD CONSTRAINT "fk_rails_da53da21c1"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "account_details" ADD CONSTRAINT "fk_rails_36d7cb76df"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "clients" ADD CONSTRAINT "fk_rails_bed59fd791"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "invoice_lines" ADD CONSTRAINT "fk_rails_93b334df88"
FOREIGN KEY ("invoice_id")
  REFERENCES "invoices" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "invoice_lines" ADD CONSTRAINT "fk_rails_697b5c9f81"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "invoices" ADD CONSTRAINT "fk_rails_afb4b1e584"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "invoices" ADD CONSTRAINT "fk_rails_a9aec430df"
FOREIGN KEY ("client_id")
  REFERENCES "clients" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "invoices" ADD CONSTRAINT "fk_rails_44a7fbeec1"
FOREIGN KEY ("currency_id")
  REFERENCES "currencies" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "products" ADD CONSTRAINT "fk_rails_6dc06b37ef"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "taxes" ADD CONSTRAINT "fk_rails_9d8f34e478"
FOREIGN KEY ("account_id")
  REFERENCES "accounts" ("id")
[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying PRIMARY KEY)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES ('20170103225818')[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO schema_migrations (version) VALUES ('20161221212136'), ('20161221212253'), ('20161221212452'), ('20161221221951'), ('20161221223439'), ('20161221223505'), ('20161221224327'), ('20161224130412'), ('20161224140341'), ('20161224162916'), ('20161224162954'), ('20161224163029'), ('20161226162323'), ('20161226162340'), ('20161228164423'), ('20170103141835'), ('20170103215155');

[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", 2017-02-06 22:45:03 UTC], ["updated_at", 2017-02-06 22:45:03 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 22:56:53 +0000
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 22:57:44 +0000
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 22:58:08 +0000
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 22:58:35 +0000
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 22:59:38 +0000
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:00:21 +0000
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:01:22 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 50ms (ActiveRecord: 8.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:03:01 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 26ms (ActiveRecord: 5.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:03:49 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 30ms (ActiveRecord: 7.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:04:03 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 28ms (ActiveRecord: 5.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:04:54 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (1.09ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:05:41 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (0.69ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:06:47 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (0.67ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:07:06 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (0.72ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:11:26 UTC], ["updated_at", 2017-02-06 23:11:26 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:11:26 UTC], ["updated_at", 2017-02-06 23:11:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:11:26 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with ActiveModelSerializers::Adapter::Json (0.66ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:12:01 UTC], ["updated_at", 2017-02-06 23:12:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:12:01 UTC], ["updated_at", 2017-02-06 23:12:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:12:01 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 3, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:12:01", updated_at: "2017-02-06 23:12:01">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.5ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:12:58 UTC], ["updated_at", 2017-02-06 23:12:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:12:58 UTC], ["updated_at", 2017-02-06 23:12:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:12:58 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 5, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:12:58", updated_at: "2017-02-06 23:12:58">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.54ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:13:34 UTC], ["updated_at", 2017-02-06 23:13:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:13:34 UTC], ["updated_at", 2017-02-06 23:13:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:13:34 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 7, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:13:34", updated_at: "2017-02-06 23:13:34">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.5ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:14:28 UTC], ["updated_at", 2017-02-06 23:14:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:14:28 UTC], ["updated_at", 2017-02-06 23:14:28 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:14:28 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 9, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:14:28", updated_at: "2017-02-06 23:14:28">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.49ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:15:28 UTC], ["updated_at", 2017-02-06 23:15:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:15:28 UTC], ["updated_at", 2017-02-06 23:15:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:15:28 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 11, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:15:28", updated_at: "2017-02-06 23:15:28">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.67ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:16:02 UTC], ["updated_at", 2017-02-06 23:16:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:16:02 UTC], ["updated_at", 2017-02-06 23:16:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:16:02 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 13, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:16:02", updated_at: "2017-02-06 23:16:02">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.53ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:17:28 UTC], ["updated_at", 2017-02-06 23:17:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:17:28 UTC], ["updated_at", 2017-02-06 23:17:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:17:28 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 15, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:17:28", updated_at: "2017-02-06 23:17:28">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.48ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:17:28 UTC], ["updated_at", 2017-02-06 23:17:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:17:28 UTC], ["updated_at", 2017-02-06 23:17:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:17:28 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 17, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:17:28", updated_at: "2017-02-06 23:17:28">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.42ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:18:57 UTC], ["updated_at", 2017-02-06 23:18:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:18:57 UTC], ["updated_at", 2017-02-06 23:18:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:18:57 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 19, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:18:57", updated_at: "2017-02-06 23:18:57">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.53ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:18:57 UTC], ["updated_at", 2017-02-06 23:18:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:18:57 UTC], ["updated_at", 2017-02-06 23:18:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:18:57 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 21, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:18:57", updated_at: "2017-02-06 23:18:57">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.41ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:19:34 UTC], ["updated_at", 2017-02-06 23:19:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:19:34 UTC], ["updated_at", 2017-02-06 23:19:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:19:34 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 23, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:19:34", updated_at: "2017-02-06 23:19:34">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.5ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:19:34 UTC], ["updated_at", 2017-02-06 23:19:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:19:34 UTC], ["updated_at", 2017-02-06 23:19:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:19:34 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 25, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:19:34", updated_at: "2017-02-06 23:19:34">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.41ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:19:47 UTC], ["updated_at", 2017-02-06 23:19:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:19:47 UTC], ["updated_at", 2017-02-06 23:19:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:19:47 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 27, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:19:47", updated_at: "2017-02-06 23:19:47">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.49ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:19:47 UTC], ["updated_at", 2017-02-06 23:19:47 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:19:47 UTC], ["updated_at", 2017-02-06 23:19:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:19:47 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 29, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:19:47", updated_at: "2017-02-06 23:19:47">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.48ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:20:11 UTC], ["updated_at", 2017-02-06 23:20:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:20:11 UTC], ["updated_at", 2017-02-06 23:20:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:20:11 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 31, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:20:11", updated_at: "2017-02-06 23:20:11">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.5ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:20:11 UTC], ["updated_at", 2017-02-06 23:20:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:20:11 UTC], ["updated_at", 2017-02-06 23:20:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:20:11 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 33, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:20:11", updated_at: "2017-02-06 23:20:11">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.41ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:20:39 UTC], ["updated_at", 2017-02-06 23:20:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:20:39 UTC], ["updated_at", 2017-02-06 23:20:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:20:39 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 35, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:20:39", updated_at: "2017-02-06 23:20:39">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.64ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:20:39 UTC], ["updated_at", 2017-02-06 23:20:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:20:39 UTC], ["updated_at", 2017-02-06 23:20:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:20:39 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 37, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:20:39", updated_at: "2017-02-06 23:20:39">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.42ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:21:08 UTC], ["updated_at", 2017-02-06 23:21:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:21:08 UTC], ["updated_at", 2017-02-06 23:21:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:21:08 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 39, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:21:08", updated_at: "2017-02-06 23:21:08">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.49ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:21:08 UTC], ["updated_at", 2017-02-06 23:21:08 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:21:08 UTC], ["updated_at", 2017-02-06 23:21:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:21:08 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts"[0m
No serializer found for resource: #<Account id: 41, organization_name: "the shoe shop", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:21:08", updated_at: "2017-02-06 23:21:08">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.54ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:21:34 UTC], ["updated_at", 2017-02-06 23:21:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:21:34 UTC], ["updated_at", 2017-02-06 23:21:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:21:34 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
No serializer found for resource: #<Account id: 44, organization_name: "coffee on a lounge", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:21:34", updated_at: "2017-02-06 23:21:34">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.51ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:21:34 UTC], ["updated_at", 2017-02-06 23:21:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:21:34 UTC], ["updated_at", 2017-02-06 23:21:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:21:34 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
No serializer found for resource: #<Account id: 46, organization_name: "coffee on a lounge", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:21:34", updated_at: "2017-02-06 23:21:34">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.42ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:41:18 UTC], ["updated_at", 2017-02-06 23:41:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:41:18 UTC], ["updated_at", 2017-02-06 23:41:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:41:18 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
No serializer found for resource: #<Account id: 48, organization_name: "coffee on a lounge", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:41:18", updated_at: "2017-02-06 23:41:18">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.5ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:41:18 UTC], ["updated_at", 2017-02-06 23:41:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:41:18 UTC], ["updated_at", 2017-02-06 23:41:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:41:18 +0000
Processing by Admin::AccountsController#index as HTML
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."created_at" DESC[0m
No serializer found for resource: #<Account id: 50, organization_name: "coffee on a lounge", business_email: nil, created_by: nil, enabled: nil, created_at: "2017-02-06 23:41:18", updated_at: "2017-02-06 23:41:18">
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Account::ActiveRecord_Relation (0.44ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:44:52 UTC], ["updated_at", 2017-02-06 23:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:44:52 UTC], ["updated_at", 2017-02-06 23:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:44:52 +0000
Processing by Admin::AccountsController#index as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:44:52 UTC], ["updated_at", 2017-02-06 23:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:44:52 UTC], ["updated_at", 2017-02-06 23:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:44:52 +0000
Processing by Admin::AccountsController#index as HTML
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:46:22 UTC], ["updated_at", 2017-02-06 23:46:22 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:46:22 UTC], ["updated_at", 2017-02-06 23:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:46:22 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.85ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:46:22 UTC], ["updated_at", 2017-02-06 23:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:46:22 UTC], ["updated_at", 2017-02-06 23:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:46:22 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.31ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:46:56 UTC], ["updated_at", 2017-02-06 23:46:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:46:56 UTC], ["updated_at", 2017-02-06 23:46:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:46:56 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:46:56 UTC], ["updated_at", 2017-02-06 23:46:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:46:56 UTC], ["updated_at", 2017-02-06 23:46:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:46:56 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.12ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:48:46 UTC], ["updated_at", 2017-02-06 23:48:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:48:46 UTC], ["updated_at", 2017-02-06 23:48:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:48:46 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.42ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:48:46 UTC], ["updated_at", 2017-02-06 23:48:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:48:46 UTC], ["updated_at", 2017-02-06 23:48:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:48:46 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.36ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:48:46 UTC], ["updated_at", 2017-02-06 23:48:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:48:46 UTC], ["updated_at", 2017-02-06 23:48:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-06 23:48:46 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:49:11 UTC], ["updated_at", 2017-02-06 23:49:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:49:11 UTC], ["updated_at", 2017-02-06 23:49:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:49:11 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.3ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:49:11 UTC], ["updated_at", 2017-02-06 23:49:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:49:11 UTC], ["updated_at", 2017-02-06 23:49:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:49:11 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.28ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:49:11 UTC], ["updated_at", 2017-02-06 23:49:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:49:11 UTC], ["updated_at", 2017-02-06 23:49:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-06 23:49:11 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:59:40 UTC], ["updated_at", 2017-02-06 23:59:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:59:40 UTC], ["updated_at", 2017-02-06 23:59:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:59:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.31ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:59:40 UTC], ["updated_at", 2017-02-06 23:59:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:59:40 UTC], ["updated_at", 2017-02-06 23:59:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-06 23:59:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.96ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-06 23:59:40 UTC], ["updated_at", 2017-02-06 23:59:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-06 23:59:40 UTC], ["updated_at", 2017-02-06 23:59:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-06 23:59:40 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.07ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:06:55 UTC], ["updated_at", 2017-02-07 01:06:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:06:55 UTC], ["updated_at", 2017-02-07 01:06:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:06:55 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.51ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:06:55 UTC], ["updated_at", 2017-02-07 01:06:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:06:55 UTC], ["updated_at", 2017-02-07 01:06:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:06:55 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:06:55 UTC], ["updated_at", 2017-02-07 01:06:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:06:55 UTC], ["updated_at", 2017-02-07 01:06:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:06:55 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.0ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:07:06 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.25ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:07:06 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.52ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:07:06 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 93], ["role", "admin"], ["created_at", 2017-02-07 01:07:06 UTC], ["updated_at", 2017-02-07 01:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:07:42 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.38ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:07:42 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.24ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:07:42 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.65ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 100], ["role", "admin"], ["created_at", 2017-02-07 01:07:42 UTC], ["updated_at", 2017-02-07 01:07:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:09:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.38ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:09:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.34ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:09:38 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.09ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 107], ["role", "admin"], ["created_at", 2017-02-07 01:09:38 UTC], ["updated_at", 2017-02-07 01:09:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:10:17 UTC], ["updated_at", 2017-02-07 01:10:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:10:17 UTC], ["updated_at", 2017-02-07 01:10:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:10:17 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.3ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:10:17 UTC], ["updated_at", 2017-02-07 01:10:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:10:17 UTC], ["updated_at", 2017-02-07 01:10:17 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:10:17 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.45ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:10:17 UTC], ["updated_at", 2017-02-07 01:10:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:10:17 UTC], ["updated_at", 2017-02-07 01:10:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:10:17 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.0ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:10:18 UTC], ["updated_at", 2017-02-07 01:10:18 UTC]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 114], ["role", "admin"], ["created_at", 2017-02-07 01:10:18 UTC], ["updated_at", 2017-02-07 01:10:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:11:08 UTC], ["updated_at", 2017-02-07 01:11:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:11:08 UTC], ["updated_at", 2017-02-07 01:11:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:11:08 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.31ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:11:08 UTC], ["updated_at", 2017-02-07 01:11:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:11:08 UTC], ["updated_at", 2017-02-07 01:11:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:11:08 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:11:08 UTC], ["updated_at", 2017-02-07 01:11:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:11:08 UTC], ["updated_at", 2017-02-07 01:11:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:11:08 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.96ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:11:09 UTC], ["updated_at", 2017-02-07 01:11:09 UTC]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 121], ["role", "admin"], ["created_at", 2017-02-07 01:11:09 UTC], ["updated_at", 2017-02-07 01:11:09 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:11:21 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.32ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:11:21 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.21ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:11:21 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 128], ["role", "admin"], ["created_at", 2017-02-07 01:11:21 UTC], ["updated_at", 2017-02-07 01:11:21 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:12:11 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.4ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:12:11 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.28ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:12:11 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 135], ["role", "admin"], ["created_at", 2017-02-07 01:12:11 UTC], ["updated_at", 2017-02-07 01:12:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:12:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.27ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:12:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:12:27 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["account_id", 142], ["role", "admin"], ["created_at", 2017-02-07 01:12:27 UTC], ["updated_at", 2017-02-07 01:12:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."first_name" = $1 LIMIT $2[0m  [["first_name", "joe"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:14:08 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.72ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:14:08 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.21ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:14:08 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$iFUrxq4TCuUCcVAafN8eq.QofXuaQf.RRepF96FmXhFJAnhCwJjZK"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 1], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 1], ["account_id", 149], ["role", "admin"], ["created_at", 2017-02-07 01:14:08 UTC], ["updated_at", 2017-02-07 01:14:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."first_name" = $1 LIMIT $2[0m  [["first_name", "joe"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:14:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.31ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:14:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:14:38 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.99ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gjIfF2IrKAUpITZ/8ESl7O7GEGv/dTu49EbT2QlaGx5K6bjNVUIFy"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 2], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 2], ["account_id", 156], ["role", "admin"], ["created_at", 2017-02-07 01:14:38 UTC], ["updated_at", 2017-02-07 01:14:38 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."first_name" = $1 LIMIT $2[0m  [["first_name", "joe"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:14:46 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.25ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:14:46 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.16ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:14:46 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.07ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$0vomKTvHGPJhHtW1zmu41eptJGeZplyGtqhZ7tR9er9e8LZCdGMaO"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 3], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 3], ["account_id", 163], ["role", "admin"], ["created_at", 2017-02-07 01:14:46 UTC], ["updated_at", 2017-02-07 01:14:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:15:05 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:15:05 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.39ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:15:05 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.1ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$z7Etql8/C.vH.zb5HR6fPOXe3X3Cn16NPVxzz8drclYOF.zPXdPtO"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 4], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 4], ["account_id", 170], ["role", "admin"], ["created_at", 2017-02-07 01:15:05 UTC], ["updated_at", 2017-02-07 01:15:05 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@email.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:15:16 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.21ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:15:16 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.46ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:15:16 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.45ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$SXcJMNc1ovbojgY89Hri6eqoMN2VsLUJLjcBfnL/Ysl/.sZkMpCLe"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 5], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 5], ["account_id", 177], ["role", "admin"], ["created_at", 2017-02-07 01:15:16 UTC], ["updated_at", 2017-02-07 01:15:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:17:51 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:17:51 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.36ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:17:51 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$sJdKvhqn739oKt/PRq1zA.WXCmqEAA2s2SRvcKTA748WdZjGbZCVq"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 6], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 6], ["account_id", 184], ["role", "admin"], ["created_at", 2017-02-07 01:17:51 UTC], ["updated_at", 2017-02-07 01:17:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 6]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:18:23 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.48ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:18:23 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.33ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:18:23 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.32ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$rjmbqBK4fYBecPfUDq/Y8OvPv3R28ulKAVjvZ5o.JUuZkOFBceACi"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 7], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 7], ["account_id", 191], ["role", "admin"], ["created_at", 2017-02-07 01:18:23 UTC], ["updated_at", 2017-02-07 01:18:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 7]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:25:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.76ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:25:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:25:38 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.24ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$q2uVN3RLsumgz7SnbvXxC.44qchLyna4qnaP7IY6W.7E5ndBuqEjq"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 8], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 8], ["account_id", 198], ["role", "admin"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 8]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$86RAqycvvPvjEgxNIabE3.5gOs.bjQ/ezyRUEwXcngu7x1EVpK/9S"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 9], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 9], ["account_id", 199], ["role", "admin"], ["created_at", 2017-02-07 01:25:38 UTC], ["updated_at", 2017-02-07 01:25:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 9]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:26:13 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.45ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:26:13 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.29ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:26:13 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.16ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$m483i4qbpngwCLz.lZeyXu8F07BA6EAaNYomRyEYgriotJ/T5eGgK"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 10], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 10], ["account_id", 206], ["role", "admin"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 10]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$s0dlLsHZgs82P47SGX5NaOwFOsV.7hMMnP3U8hPLBAhpdtFXozChu"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 11], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 11], ["account_id", 207], ["role", "admin"], ["created_at", 2017-02-07 01:26:13 UTC], ["updated_at", 2017-02-07 01:26:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 11]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:32:19 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:32:19 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.49ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:32:19 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.25ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:32:19 +0000
Processing by SessionController#register as HTML
  Parameters: {"first_name"=>"billy", "last_name"=>"strong", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 21ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:32:19 +0000
Processing by SessionController#register as HTML
  Parameters: {"first_name"=>"billy", "last_name"=>"strong", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$cZJ5ib8djbFXEVGQcI7c1u52JmLtZXQmqXCkrTYdTfoRfeBITWaha"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 12], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 12], ["account_id", 214], ["role", "admin"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gcnMNxDJm3OY3ewAeKZTM.EN657QQ4HsVaW.obn9rGa5u8PPJSMfa"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 13], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 13], ["account_id", 215], ["role", "admin"], ["created_at", 2017-02-07 01:32:19 UTC], ["updated_at", 2017-02-07 01:32:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 13]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:32:52 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:32:52 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:32:52 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:32:52 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, password, password_confirmation
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.07ms)
Completed 422 Unprocessable Entity in 34ms (Views: 1.2ms | ActiveRecord: 4.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:32:52 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.06ms)
Completed 422 Unprocessable Entity in 5ms (Views: 0.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$CMUbgZVhQP98yLFeL6B0G.edieEy1SEaSoxVpbgyq9kG6tq/fJhe6"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 14], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 14], ["account_id", 222], ["role", "admin"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 14]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Mtc3qFnRkVJhYXtmeknjw.W1xYczBxlTwcyo/N/zzVKpXUSdO6EMm"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 15], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 15], ["account_id", 223], ["role", "admin"], ["created_at", 2017-02-07 01:32:52 UTC], ["updated_at", 2017-02-07 01:32:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 15]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:33:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:33:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:33:53 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.27ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:33:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 42ms (ActiveRecord: 4.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:33:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$G7cHUz2KIqvmgsRG3eID3OZwPY4bCA.c/mpz1YX2G1u9dlBEwLNv6"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 16], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 16], ["account_id", 230], ["role", "admin"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 16]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$HF28Y7n6vZG/5.LDrlYTQOBDEy8FMo3hUn1n0J4g7DbiOkymdZUci"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 17], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 17], ["account_id", 231], ["role", "admin"], ["created_at", 2017-02-07 01:33:53 UTC], ["updated_at", 2017-02-07 01:33:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 17]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:34:13 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.28ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:34:13 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:34:13 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:34:13 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$8C6XLWpPnpSu9FLk3kwzteeZvngSbsNAZr6aOn6yJOzGr6Dg9y58G"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 18], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 18], ["account_id", 238], ["role", "admin"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 201 Created in 65ms (Views: 1.3ms | ActiveRecord: 11.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:34:13 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$QKodiXUY0A0Ej3ZFQbiYSOyw4pXrppQYhJtDUiSutw5IKwDegX.y2"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 19], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 19], ["account_id", 239], ["role", "admin"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 9ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$1XZaUQdNydVm3awtZc9J/uK3oAm4J9NwO9cMYLYOJvwEcSSa2NXre"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 20], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 20], ["account_id", 240], ["role", "admin"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 20]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$DxinGWPbDqFYxLAHvd7UMOWAMSofasf.SQTn6u1RIEvkNTMoZ62Jq"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 21], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 21], ["account_id", 241], ["role", "admin"], ["created_at", 2017-02-07 01:34:13 UTC], ["updated_at", 2017-02-07 01:34:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 21]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:34:24 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:34:24 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:34:24 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.01ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:34:24 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Gog4soSUKPHJLGYBHd0RNugAus2MLYy5NhAWmRxgq1zZbxbC3QagS"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 22], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 22], ["account_id", 248], ["role", "admin"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 66ms (Views: 1.3ms | ActiveRecord: 9.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:34:24 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$C3J1UCudrJgI/n1dnr6H5OAPumfjeJa5yv/c8eZpJfZNi1OW940/2"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 23], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 23], ["account_id", 249], ["role", "admin"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$cR3feze.rVSwDmRqlgwdxe5reQ/xM9dTTQ9ZHTPOvMoWR5pHQuzvW"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 24], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 24], ["account_id", 250], ["role", "admin"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 24]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gycu8m/zsOkzypkcKvSmeOLPcWCiAWzqGg0cmw09f3kF5bhpOegjy"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 25], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 25], ["account_id", 251], ["role", "admin"], ["created_at", 2017-02-07 01:34:24 UTC], ["updated_at", 2017-02-07 01:34:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 25]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:35:04 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:35:04 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (5.18ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:35:04 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.52ms)
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:35:04 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$JG8GnHIo2cs8Krh6XsqSsekzfn/FHTgsnijcV.rTf4l7iCMxA8gCy"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 26], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 26], ["account_id", 258], ["role", "admin"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 201 Created in 63ms (Views: 1.3ms | ActiveRecord: 10.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:35:04 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$pjjnjIE5/HI4LoDZ4BOBxuhUHR9QswheEKxxYNV6A7zFR1jwTzXXy"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 27], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 27], ["account_id", 259], ["role", "admin"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 201 Created in 10ms (Views: 0.6ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$VdkG4PXgC7bMrSCpiJ4kQOoVDgohqcKQ5EkwKzqn7yb81FzyjvoYC"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 28], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 28], ["account_id", 260], ["role", "admin"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Wd/wnRFiX8PXrNUVZzo.E.QX19cP17/p1FpfHFakXaANw/X0JpMha"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 29], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 29], ["account_id", 261], ["role", "admin"], ["created_at", 2017-02-07 01:35:04 UTC], ["updated_at", 2017-02-07 01:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 29]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:36:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.35ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:36:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.16ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:36:40 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:36:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$1IJIDmkwgS7wijHO9oy4ROOH8hlGLHwSbl2viAhrypUNSiplU9u5e"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 30], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 30], ["account_id", 268], ["role", "admin"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.34ms)
Completed 201 Created in 77ms (Views: 1.8ms | ActiveRecord: 11.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:36:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$GgfjwC/7AmO2py5y9tgmjO4IzEnHjH1C7jeKNuQi7WV/NV7WcZ11S"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 31], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 31], ["account_id", 269], ["role", "admin"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 8ms (Views: 0.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$1nFT2dF25GCwUsXlIKMHOukFKrZxKN1W0q9doZSln2w.fdhADfVKe"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 32], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 32], ["account_id", 270], ["role", "admin"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 32]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$R0oqI5kiE4oXM9dhVc6XsuCwYDRHt3t3zjnrNHQpbiso7xoJqug9q"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 33], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 33], ["account_id", 271], ["role", "admin"], ["created_at", 2017-02-07 01:36:40 UTC], ["updated_at", 2017-02-07 01:36:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.4ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 33]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:37:34 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.68ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:37:34 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.5ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:37:34 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:37:34 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$4S6hbYwqFpUomXvcLDnDdOLyVZspK14mIMDUvqUhgglCy2TfxAENq"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 34], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 34], ["account_id", 278], ["role", "admin"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 201 Created in 69ms (Views: 2.1ms | ActiveRecord: 11.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:37:34 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$0giY10Eas4iIrOk4Oa41I.1Lk0gXp98G.XGKwkMC0yWec6Ev2KBUy"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 35], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 35], ["account_id", 279], ["role", "admin"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$oj7rgUVw8LYgkXq8pt7I1eFpQhHWiw1f1nt4s0FaKnCJngFjuQ0M2"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 36], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 36], ["account_id", 280], ["role", "admin"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 36]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$GzzbPEy9rTSJ.8zQHCg3sOVlJZHZVg5RoKITK.P93eU4u2OtaSn8i"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 37], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 37], ["account_id", 281], ["role", "admin"], ["created_at", 2017-02-07 01:37:34 UTC], ["updated_at", 2017-02-07 01:37:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 37]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:37:48 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.27ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:37:48 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.38ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:37:48 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:37:48 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$1iadh5z3BMVbWrxkCdL7uODB9lXNzbnvy5GGu0bd.elrzQDPZXFza"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 38], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 38], ["account_id", 288], ["role", "admin"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 201 Created in 63ms (Views: 1.3ms | ActiveRecord: 10.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:37:48 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$3GvdWUhUNBZNGAHKs.9ge.KbyUPN.7lbYVMqLf5G0uy97yo0dGR56"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 39], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 39], ["account_id", 289], ["role", "admin"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$y6pjehx4MkQzJvkh1A2UMucjZ2GqsNcZ79UPu5Hawfop3tDktU49q"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 40], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 40], ["account_id", 290], ["role", "admin"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 40]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$7HTYgDNnqlyPRdXbghoO0uIkI3OPbksxrtFWjU5oAVPWcY/PMqol2"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 41], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 41], ["account_id", 291], ["role", "admin"], ["created_at", 2017-02-07 01:37:48 UTC], ["updated_at", 2017-02-07 01:37:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 41]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:39:51 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.44ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:39:51 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:39:51 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.08ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:39:51 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$JtHSDNw4KouXGo7eXeUcxO9AjCtQglqxs2BD/cnfcPok7Eu.WqOb6"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 42], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 42], ["account_id", 298], ["role", "admin"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 61ms (Views: 1.3ms | ActiveRecord: 9.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:39:51 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$f5UlgBwhQhabVlg2AYwAOOf6JWDvAI2iip3XNbpG2kAT1jpvRFI0."], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 43], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 43], ["account_id", 299], ["role", "admin"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 201 Created in 12ms (Views: 0.6ms | ActiveRecord: 2.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$OJ4x4sf6wHBwVqWiB6DVLOFcAkGmKuLCCvzB3.tt4PwvFjnOJXSzC"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 44], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 44], ["account_id", 300], ["role", "admin"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 44]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$a6y/ZE2ebYOwejQx/uf3WeXbDL4lAtm5SXwZvLI7TmgCnO75avef2"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 45], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 45], ["account_id", 301], ["role", "admin"], ["created_at", 2017-02-07 01:39:51 UTC], ["updated_at", 2017-02-07 01:39:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 45]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:40:30 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.85ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:40:30 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:40:30 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:40:30 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$mw8H9e3qJkwSwpMyP0PswOOMecKJnC0s0NVLdpbvp8SArDKeUekHq"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 46], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 46], ["account_id", 308], ["role", "admin"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 58ms (Views: 1.5ms | ActiveRecord: 9.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:40:30 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$CKUlsgsAAgfnS2fsHeEyZO.gbDUiglrQB8vJJ14DGL7uuVle73ICC"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 47], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 47], ["account_id", 309], ["role", "admin"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$jm5wNrVywT5yNq7rLnMsZOJrJMczvYX0aKoAtgZvC0z4srjay8xhW"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 48], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 48], ["account_id", 310], ["role", "admin"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 48]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$doXM4mu3TTORikbHkOQSAekNp/s0JrPHS7JlGvtrSYK6qGB0bpl8K"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 49], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 49], ["account_id", 311], ["role", "admin"], ["created_at", 2017-02-07 01:40:30 UTC], ["updated_at", 2017-02-07 01:40:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 49]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:41:22 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.9ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:41:22 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.43ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:41:22 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.02ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:41:22 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$3Qm8SUArcbux7OyT9rD3v.8ZTEHUrFqIpeZ5Oy9/mhy8/yQgiz7V6"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 50], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 50], ["account_id", 318], ["role", "admin"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.39ms)
Completed 201 Created in 62ms (Views: 1.6ms | ActiveRecord: 10.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:41:22 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$pk9lSX2SC2NcZdCBPbBnq.T0Gw5cdQWCOPIoEcZ4ov69VI6vttAEK"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 51], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 51], ["account_id", 319], ["role", "admin"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$vxze2FeURCmauiE5bXmV.uVF/LKqCXODhJ4me8zfr9r11FzFjoaVO"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 52], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 52], ["account_id", 320], ["role", "admin"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 52]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lbahz4np8HUs5bHld3pl1ulU9xoCTWJD3RBtsb7.Mm5.QJ1/HFJUm"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 53], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 53], ["account_id", 321], ["role", "admin"], ["created_at", 2017-02-07 01:41:22 UTC], ["updated_at", 2017-02-07 01:41:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 53]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:43:26 UTC], ["updated_at", 2017-02-07 01:43:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:43:26 UTC], ["updated_at", 2017-02-07 01:43:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:43:26 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.19ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:43:26 UTC], ["updated_at", 2017-02-07 01:43:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:43:26 UTC], ["updated_at", 2017-02-07 01:43:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:43:26 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:43:26 UTC], ["updated_at", 2017-02-07 01:43:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:43:26 UTC], ["updated_at", 2017-02-07 01:43:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:43:26 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.01ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:43:26 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$uoWJC6n2Pznm2b8KxUhFIeJ7Ugp1K30sCkLXckrhtdcm.oa6nR30C"], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 54], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 54], ["account_id", 328], ["role", "admin"], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 60ms (Views: 1.3ms | ActiveRecord: 10.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:43:27 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$HsoLIWQWvbKWUlllvMnpbuwqjGiRuDpoQvSYWcQ1sHjPukzxWfNQ."], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 55], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 55], ["account_id", 329], ["role", "admin"], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bM9byqbbMDKckZp3RJuaSeI..vmR.X67B9WRRrRjPIi1W6JKK/mau"], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 56], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 56], ["account_id", 330], ["role", "admin"], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 56]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Ss998fVQbf4pEo9kB0wxS.BV6LjGBse2zXLqrwCXur59pVbeGVgU6"], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 57], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 57], ["account_id", 331], ["role", "admin"], ["created_at", 2017-02-07 01:43:27 UTC], ["updated_at", 2017-02-07 01:43:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 57]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:43:39 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.35ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:43:39 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.25ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:43:39 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.93ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:43:39 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$9KYHF43Jk27mDkpvnPTHA..2WvLCEaorh/p4qU7lv1nxZ9Z/wR2x."], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 58], ["created_at", 2017-02-07 01:43:39 UTC], ["updated_at", 2017-02-07 01:43:39 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 58], ["account_id", 338], ["role", "admin"], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 62ms (Views: 2.0ms | ActiveRecord: 10.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:43:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$5P5L3zIw5yATcxqmqAI8uOsS4NV/rS/m6Eb1T4Y6P/6dFik.U9lS2"], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 59], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 59], ["account_id", 339], ["role", "admin"], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:43:40 +0000
Processing by SessionController#register as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$jhVKG9V0EM4kfuDr6mbo8esJgV2.nruyKoNEpuCHMDM862aQ.RXdK"], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 60], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 60], ["account_id", 340], ["role", "admin"], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 60]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qoldfPgLcGpR1umix4YNlO/A2tGqEOB8TkfvAr4JZBaOOVVUYt.ce"], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 61], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 61], ["account_id", 341], ["role", "admin"], ["created_at", 2017-02-07 01:43:40 UTC], ["updated_at", 2017-02-07 01:43:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 61]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:45:17 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.21ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:45:17 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.34ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:45:17 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:17 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$/H26pv/Ye9qvUaIFv0B3huMNka4tN6oc0zZuVJHchNrHdjgQoTMB6"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 62], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 62], ["account_id", 348], ["role", "admin"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 61ms (Views: 1.4ms | ActiveRecord: 10.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:17 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$zyzqWulecFHnluAkD0ZW.eAAlOjTVE4vIYkcz.77RgMHxAcNeIsZu"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 63], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 63], ["account_id", 349], ["role", "admin"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 10ms (Views: 0.7ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:17 +0000
Processing by SessionController#register as HTML
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PsWDBXArGI.F6u1Edh0O4.9xr3lcdAI41Nzn7cfxLx2i6fmAjEHHe"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 64], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 64], ["account_id", 350], ["role", "admin"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 64]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$ZwkTBp3cZC81E3zt.4wJau5fY3JvI47SVjvwcGuacJdRor5rAS5.W"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 65], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 65], ["account_id", 351], ["role", "admin"], ["created_at", 2017-02-07 01:45:17 UTC], ["updated_at", 2017-02-07 01:45:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 65]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:45:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.71ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:45:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:45:40 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.24ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$N0vAyjRzAXbjQOoKT4ppAuRTPE2hH33hmfJcLj0ucGz.yKPTTkwC2"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 66], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 66], ["account_id", 358], ["role", "admin"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 201 Created in 58ms (Views: 1.9ms | ActiveRecord: 9.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$tDuPD5H2qzv1Wxi1jCWU9entdCM./1RH7Lh0T6vvSFj9D43JcuN1e"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 67], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 67], ["account_id", 359], ["role", "admin"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:40 +0000
Processing by SessionController#register as HTML
Completed 400 Bad Request in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$JYoPxcaMpNYxei24X5iIEesmWsPiprU4uw./1Gf6U1Esaa48204zK"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 68], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 68], ["account_id", 360], ["role", "admin"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 68]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$CewrUoYTmMft2ec4GrTuaej/KS.49VoIwWzoPRXvCNdfpk3uStyiG"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 69], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 69], ["account_id", 361], ["role", "admin"], ["created_at", 2017-02-07 01:45:40 UTC], ["updated_at", 2017-02-07 01:45:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 69]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:45:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.25ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:45:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.12ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:45:53 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.99ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$N.KSxV7Gtm7et6c7SGBFRunX/bm2iHUzwY5W/iM.ozFFMfwqVNZXG"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 70], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 70], ["account_id", 368], ["role", "admin"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 63ms (Views: 1.4ms | ActiveRecord: 11.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$AERp3ggLUSmqd.r.cRwpReZH2zmG.8I0v8FSBYBX1zrEtV.Coo8kq"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 71], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 71], ["account_id", 369], ["role", "admin"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:45:53 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 422 Unprocessable Entity in 436ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$2NmZWM15Bu1qwxWTcvYca.ZCUyQFW01w2r5sZNqghynJpMjGT26My"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 72], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 72], ["account_id", 370], ["role", "admin"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 72]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$9lvhGQJpsmbQCIVXd69azOebnBjCGrMSxPmjeOsBOh8MeulXvY8/m"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 73], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 73], ["account_id", 371], ["role", "admin"], ["created_at", 2017-02-07 01:45:53 UTC], ["updated_at", 2017-02-07 01:45:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 73]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:46:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:46:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:46:35 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.08ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:46:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$9pwIQFuwfAxdLuludSSOke3zOcLRhe29CgMS7636d/3frZLMRz9pS"], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 74], ["created_at", 2017-02-07 01:46:35 UTC], ["updated_at", 2017-02-07 01:46:35 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 74], ["account_id", 378], ["role", "admin"], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 50ms (Views: 1.3ms | ActiveRecord: 9.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:46:36 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$XEh9BMy9j3nRYMvv9/Sak.cmh0K9fZ/ARcPsjjzhaG4tRWpPnXaYu"], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 75], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 75], ["account_id", 379], ["role", "admin"], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:46:36 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$cXSJBJ0vXokc84OP73fryOoVkFDbfIpglRZZ3..E6AJ287Z9fKjBu"], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 76], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 76], ["account_id", 380], ["role", "admin"], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 76]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$FhzFJNczhoKTR09LrrDlKOFNRyGRa6kNIzQJ2Y.b6D55kTkf9jp62"], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 77], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 77], ["account_id", 381], ["role", "admin"], ["created_at", 2017-02-07 01:46:36 UTC], ["updated_at", 2017-02-07 01:46:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 77]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:46:49 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:46:49 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.44ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:46:49 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.96ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:46:49 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Gc4LMfGmfMHsgj3GHPuq.eEFqpynab4qn.3IRwhx0/MD5YforhnLm"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 78], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 78], ["account_id", 388], ["role", "admin"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 63ms (Views: 1.3ms | ActiveRecord: 10.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:46:49 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ThIvg9dObSwXIkfMzcpfvezgK5xkuxNOyHaZHxbogxSNVIg/5fwD."], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 79], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 79], ["account_id", 389], ["role", "admin"], ["created_at", 2017-02-07 01:46:49 UTC], ["updated_at", 2017-02-07 01:46:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:46:49 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 389ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$xkwlELm2./4IYgL96Z5n3.YppyDwiXfc1mIW11w/C4IwUgRPndq9K"], ["created_at", 2017-02-07 01:46:50 UTC], ["updated_at", 2017-02-07 01:46:50 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 80], ["created_at", 2017-02-07 01:46:50 UTC], ["updated_at", 2017-02-07 01:46:50 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 80], ["account_id", 390], ["role", "admin"], ["created_at", 2017-02-07 01:46:50 UTC], ["updated_at", 2017-02-07 01:46:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 80]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gay0asEWTr1Z.mP3W0Z.8ueMvrALsHxAsMbhA.wrb2VSK4rvohg4K"], ["created_at", 2017-02-07 01:46:50 UTC], ["updated_at", 2017-02-07 01:46:50 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 81], ["created_at", 2017-02-07 01:46:50 UTC], ["updated_at", 2017-02-07 01:46:50 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 81], ["account_id", 391], ["role", "admin"], ["created_at", 2017-02-07 01:46:50 UTC], ["updated_at", 2017-02-07 01:46:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 81]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:47:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.18ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:47:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.44ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:47:02 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:47:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$wKpv3hduk6dNymwT.rr9pOaPT/jJUY9st6/PnQHrLMWJ71TvAPjdS"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 82], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 82], ["account_id", 398], ["role", "admin"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.3ms)
Completed 201 Created in 65ms (Views: 1.6ms | ActiveRecord: 11.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:47:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$P0k6s//n22bxzlUWaQjme.maXf3I5jEBRdrw2E9xdJn8r52eW/lv."], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 83], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 83], ["account_id", 399], ["role", "admin"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:47:02 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 422 Unprocessable Entity in 405ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$yvrxv1aU48nTT.rvo4YjCevvHYdX3.tSQv274oHr9Ve8gR2uMcD02"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 84], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 84], ["account_id", 400], ["role", "admin"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 84]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$QeeD5RDq96Kwbll/aakvf.D07ViKRTrXQz8bsPMegYzOozwQve2yC"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 85], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 85], ["account_id", 401], ["role", "admin"], ["created_at", 2017-02-07 01:47:02 UTC], ["updated_at", 2017-02-07 01:47:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 85]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:47:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:47:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.47ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:47:53 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:47:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$rou5XW9n6bjSw8VsUJ6i0OmZ0Sy4kwHNEHBEYWFlnkI9YyS25kNzW"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 86], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 86], ["account_id", 408], ["role", "admin"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 201 Created in 62ms (Views: 1.5ms | ActiveRecord: 10.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:47:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$dZWJ7wR0LHdQSs5zXBo/WeiOqcSAvAZBSYdnsZ2JU0OR.QnkbsTc6"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 87], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 87], ["account_id", 409], ["role", "admin"], ["created_at", 2017-02-07 01:47:53 UTC], ["updated_at", 2017-02-07 01:47:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:47:53 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 394ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lng.IRJM/na79meJImV83uSx2xj3bxNCxt8vMwNm5TKAbEGtVIGtG"], ["created_at", 2017-02-07 01:47:54 UTC], ["updated_at", 2017-02-07 01:47:54 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 88], ["created_at", 2017-02-07 01:47:54 UTC], ["updated_at", 2017-02-07 01:47:54 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 88], ["account_id", 410], ["role", "admin"], ["created_at", 2017-02-07 01:47:54 UTC], ["updated_at", 2017-02-07 01:47:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 88]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$HeOOyYwjAKThmxIksJe57OrB/N2BykUI2CXr/8SBte3GmqS7TrHdW"], ["created_at", 2017-02-07 01:47:54 UTC], ["updated_at", 2017-02-07 01:47:54 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 89], ["created_at", 2017-02-07 01:47:54 UTC], ["updated_at", 2017-02-07 01:47:54 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 89], ["account_id", 411], ["role", "admin"], ["created_at", 2017-02-07 01:47:54 UTC], ["updated_at", 2017-02-07 01:47:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 89]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:48:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.13ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:48:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.23ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:48:40 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.08ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:48:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ThvIIutOOw/M18mRnIJnyuisMG7Y19oz1LU4BEdT2muE2HmAGQEIe"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 90], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 90], ["account_id", 418], ["role", "admin"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 201 Created in 60ms (Views: 1.3ms | ActiveRecord: 9.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:48:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$1Ow.EofRBdkwrNDEU7SIJOWiMrZJIpbUxzUdUE1J6A1K1SFggrk.O"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 91], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 91], ["account_id", 419], ["role", "admin"], ["created_at", 2017-02-07 01:48:40 UTC], ["updated_at", 2017-02-07 01:48:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:48:40 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 393ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$dhNQ9bL1LOEsPeRp03hvs.741ffDInoHGuvA.UZyDLrj7S0teYSd."], ["created_at", 2017-02-07 01:48:41 UTC], ["updated_at", 2017-02-07 01:48:41 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 92], ["created_at", 2017-02-07 01:48:41 UTC], ["updated_at", 2017-02-07 01:48:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 92], ["account_id", 420], ["role", "admin"], ["created_at", 2017-02-07 01:48:41 UTC], ["updated_at", 2017-02-07 01:48:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 92]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$usc/.WlHvFYSb/WO4ZlJzumTfoF1jtLtg/Zitvn4b5YbnuFwhrM16"], ["created_at", 2017-02-07 01:48:41 UTC], ["updated_at", 2017-02-07 01:48:41 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 93], ["created_at", 2017-02-07 01:48:41 UTC], ["updated_at", 2017-02-07 01:48:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 93], ["account_id", 421], ["role", "admin"], ["created_at", 2017-02-07 01:48:41 UTC], ["updated_at", 2017-02-07 01:48:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 93]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:54:52 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.21ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 01:54:52 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 01:54:52 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.21ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:54:52 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Om1x6V1RR8S4XnIUc9QJ/OpI8l4fkFYS9bNd6wwLD9jVHLIRn8q0y"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 94], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 94], ["account_id", 428], ["role", "admin"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 201 Created in 65ms (Views: 1.3ms | ActiveRecord: 9.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:54:52 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$giKxBi5KS2QaME4P0uWLu.g51JmIVV8G7t.CaFxqYN.X5VEY2JwTG"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 95], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 95], ["account_id", 429], ["role", "admin"], ["created_at", 2017-02-07 01:54:52 UTC], ["updated_at", 2017-02-07 01:54:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 01:54:52 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 435ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lz5W0tboHWyHW14VkEWs.O2MxGZzElDk3ih515IYaIKQp0CCbW8CS"], ["created_at", 2017-02-07 01:54:53 UTC], ["updated_at", 2017-02-07 01:54:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 96], ["created_at", 2017-02-07 01:54:53 UTC], ["updated_at", 2017-02-07 01:54:53 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 96], ["account_id", 430], ["role", "admin"], ["created_at", 2017-02-07 01:54:53 UTC], ["updated_at", 2017-02-07 01:54:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 96]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$wsncr/hfEPWRuk7RrUNb/erjUUcWI1sBP6ZbM/YZGLi.DKsrq7eS6"], ["created_at", 2017-02-07 01:54:53 UTC], ["updated_at", 2017-02-07 01:54:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 97], ["created_at", 2017-02-07 01:54:53 UTC], ["updated_at", 2017-02-07 01:54:53 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 97], ["account_id", 431], ["role", "admin"], ["created_at", 2017-02-07 01:54:53 UTC], ["updated_at", 2017-02-07 01:54:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 97]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:03:23 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.3ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:03:23 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:03:23 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.11ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:03:23 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$VeUDc13K0kyLZ1eGyw96Weiolet3ipKDXyIxcZZDjNY0yPKBWunr6"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 98], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 98], ["account_id", 438], ["role", "admin"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 68ms (Views: 1.3ms | ActiveRecord: 9.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:03:23 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$8Le8h3ZTruGXDlMzmrIAae/DVkH9wPUcedr.LardCxyqAAGkxotBu"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 99], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 99], ["account_id", 439], ["role", "admin"], ["created_at", 2017-02-07 02:03:23 UTC], ["updated_at", 2017-02-07 02:03:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:03:23 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 449ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PuE0cN.n/zBkRMlW77iQ9OUxKfGpmOz4wpeQiCZYHl6rsdb08DwYC"], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 100], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 100], ["account_id", 440], ["role", "admin"], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$8H4BkgqGbA3ICfm5v6X8WuvwCPzf97usIYokvDO9LnAifLF2UMMuq"], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 101], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 101], ["account_id", 441], ["role", "admin"], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 101]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$S6QGMwKR/6YiQ1Cb4.KFG.FVLuTJZ8fuTjbThvGNsL.ezDcT8G0hq"], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 102], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 102], ["account_id", 442], ["role", "admin"], ["created_at", 2017-02-07 02:03:24 UTC], ["updated_at", 2017-02-07 02:03:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 102]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:17:23 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:17:23 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.12ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:17:23 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:17:23 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$/MGwZzzD7qjPvHenXyfq2uEoCYYL/HAF9rlBI6n9NA3IJmW0Ru5KG"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 103], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 103], ["account_id", 449], ["role", "admin"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 59ms (Views: 1.4ms | ActiveRecord: 9.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:17:23 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$LSGJeIA5ckQ4o0bV9noGs.Ky1RN1BpnOBWvYrd2ILlqtsa7kdc4NW"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 104], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 104], ["account_id", 450], ["role", "admin"], ["created_at", 2017-02-07 02:17:23 UTC], ["updated_at", 2017-02-07 02:17:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 9ms (Views: 0.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:17:23 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 461ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$RnqYCvTNI/FhK0w08Z2Tnu5cOVgULQeQTPFUi79SPYWbEmBfggARi"], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 105], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 105], ["account_id", 451], ["role", "admin"], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$085kHT5Q9LlvPZX4JkA.3OJNq./vZkeTnaIqJFrtOW31rITjUwyYi"], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 106], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 106], ["account_id", 452], ["role", "admin"], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 106]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$G4Pr9cvR1AiR9x/kNMpFfeodPErfAOA1SKBL9GJHAf8kuHmqbhFFq"], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 107], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 107], ["account_id", 453], ["role", "admin"], ["created_at", 2017-02-07 02:17:24 UTC], ["updated_at", 2017-02-07 02:17:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 107]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:18:12 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.37ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:18:12 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.38ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:18:12 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:18:12 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$idXGOcvEGMOpur3JgmaoP.6.vjSwftpz2SpdK0EtfuDpqTfszi3my"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 108], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 108], ["account_id", 460], ["role", "admin"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 53ms (Views: 1.2ms | ActiveRecord: 11.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:18:12 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$wwAEh4SHuVivggUOmriSfOJyMMswukcavPZEzmR7m8kTP75HNW1sW"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 109], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 109], ["account_id", 461], ["role", "admin"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 9ms (Views: 0.4ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:18:12 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 422 Unprocessable Entity in 415ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$D6fLL2mieJzRgs1mVNdxmeZq7odRJtu7O3uwz0z2TIRfAdAjfAGYK"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 110], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 110], ["account_id", 462], ["role", "admin"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qYToUKMdZcBizN62sNjUlOYxLs7TsRIW1QZC/tYvXrZlASq8uYYdO"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 111], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 111], ["account_id", 463], ["role", "admin"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 111]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$39sGtjkNG.gs11KDTuh.hOYkPtMVms40EnGlGEggjsSOjh7g8Equq"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 112], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 112], ["account_id", 464], ["role", "admin"], ["created_at", 2017-02-07 02:18:12 UTC], ["updated_at", 2017-02-07 02:18:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 112]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:20:41 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.51ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:20:41 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:20:41 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:20:41 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$6Ed.30rZkPRdsPa6sxsv8Ofk.JQoi7hZrpgP4LwbAhJwfFvAiAGiq"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 113], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 113], ["account_id", 471], ["role", "admin"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 63ms (Views: 1.6ms | ActiveRecord: 10.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:20:41 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$HlnOUL8M0dDNYLZWzqFSPuZFrLnGWuUQSlFMv18zgoHWLhWcIxFaC"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 114], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 114], ["account_id", 472], ["role", "admin"], ["created_at", 2017-02-07 02:20:41 UTC], ["updated_at", 2017-02-07 02:20:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 201 Created in 11ms (Views: 0.7ms | ActiveRecord: 2.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:20:41 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 401ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$I9qK5Yy66qeTwnMCvL01t.XUIMXsAtr/lY8oo9sJKWeqHfyVSFmoO"], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 115], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 115], ["account_id", 473], ["role", "admin"], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$eqhMRMHrl7UXmm9wA9ndX.XvWLPSpZfkIjPccGS9NrxUqBwMHORLG"], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 116], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 116], ["account_id", 474], ["role", "admin"], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 116]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$0VuPdqG60RiSUAb.6SjTOuU/MSNJ7HeRhexQG0e6u86epNvwgacJK"], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 117], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 117], ["account_id", 475], ["role", "admin"], ["created_at", 2017-02-07 02:20:42 UTC], ["updated_at", 2017-02-07 02:20:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 117]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:23:33 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.5ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:23:33 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.24ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:23:33 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.11ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:23:33 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$G/5tVsHERyMyx4Ci9R009.OnLZQEsa8IDA7dflVN6KZhb.DCMNSHa"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 118], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 118], ["account_id", 482], ["role", "admin"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 201 Created in 61ms (Views: 1.4ms | ActiveRecord: 10.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:23:33 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$GUqOLREZtKiyE2GPbThBQOlpYDT.ALDaP42bvuMzVLU56BxgdFGqq"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 119], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 119], ["account_id", 483], ["role", "admin"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:23:33 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 426ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$cNGPVsD8s75zOM6zrak4mOW/lQmPz9ftnpwiI7QB4fsCQ112.Yqqe"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 120], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 120], ["account_id", 484], ["role", "admin"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/taxes" for 127.0.0.1 at 2017-02-07 02:23:33 +0000
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$biLDHqNkfKbSrTHcfLmpNeIlBTWxzunoRT5bsVh40CexGemGXNBbe"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 121], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 121], ["account_id", 485], ["role", "admin"], ["created_at", 2017-02-07 02:23:33 UTC], ["updated_at", 2017-02-07 02:23:33 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 121]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$n698cK7Y5LsCiXScgqxLHeA03W7qSZhHlP9AwKca/wVGzKywmT.5u"], ["created_at", 2017-02-07 02:23:34 UTC], ["updated_at", 2017-02-07 02:23:34 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 122], ["created_at", 2017-02-07 02:23:34 UTC], ["updated_at", 2017-02-07 02:23:34 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 122], ["account_id", 486], ["role", "admin"], ["created_at", 2017-02-07 02:23:34 UTC], ["updated_at", 2017-02-07 02:23:34 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 122]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:24:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:24:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.77ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:24:02 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.24ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:24:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$oKtACuXV9gtx5d8gQW3h4uqZIUvAKulGO.aE0wtOKcIIF4fno6QQm"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 123], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 123], ["account_id", 493], ["role", "admin"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 71ms (Views: 1.6ms | ActiveRecord: 16.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:24:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$e7UlViDP6dOnjr04rAMpvOVWWTq5qnSR/x3WH0nvD0tB3ZBw6lq9K"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 124], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 124], ["account_id", 494], ["role", "admin"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:24:02 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 403ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/axdZ.J1.kHINe5rTw.uWOSENlD3WHWgcI60TFG9aYzLP5Z1MeluW"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 125], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 125], ["account_id", 495], ["role", "admin"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$BwT4ErQ3RBb7iSxiLfn5oO6ejpaciSbpYFUP3Slnln87iebH75xbm"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 126], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 126], ["account_id", 496], ["role", "admin"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 126]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Eaq675ZFzUaj3RR2EZhRXOL9WBcB3E4Ln/ijhCoYSUYhZ/mJLszb6"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 127], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 127], ["account_id", 497], ["role", "admin"], ["created_at", 2017-02-07 02:24:02 UTC], ["updated_at", 2017-02-07 02:24:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 127]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:24:42 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.63ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:24:42 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.43ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:24:42 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:24:42 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$SwnUIN68TGgrMMGBUyqpL.XkEAaxwsltsdbNYDQyYXtawKmMZzmsG"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 128], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 128], ["account_id", 504], ["role", "admin"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 61ms (Views: 1.3ms | ActiveRecord: 11.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:24:42 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$qVAULfnmqRnhCowYOzI9T.WqQIRzI8E.HtFL/ul.FNJetXDguc7cK"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 129], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 129], ["account_id", 505], ["role", "admin"], ["created_at", 2017-02-07 02:24:42 UTC], ["updated_at", 2017-02-07 02:24:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:24:42 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 401ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$NzA30kUfcvLCiF/rAyl8D.Iw/KLQFgrIJ7Mdzhpj5RiyDo0FLiXY6"], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 130], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 130], ["account_id", 506], ["role", "admin"], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$p0BRXkt8k5U58YDnvHo5ceUa4/hOSnJb6KrY2eGKwcDrY4UKhgZLC"], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 131], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 131], ["account_id", 507], ["role", "admin"], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 131]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$TMJr0BWb4Cz.g/r7S/FkL.vxoL7YYpgWUwS1cfsAO6juPItVqHN0."], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 132], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 132], ["account_id", 508], ["role", "admin"], ["created_at", 2017-02-07 02:24:43 UTC], ["updated_at", 2017-02-07 02:24:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 132]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:26:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.9ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:26:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:26:02 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.16ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:26:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$HDUMNjyYPFIQu39jIvuUD.0ssAH/LSUJRsZZwnDgNcz0XpKT3dQw6"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 133], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 133], ["account_id", 515], ["role", "admin"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 69ms (Views: 1.5ms | ActiveRecord: 10.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:26:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$/B9XGA5XhnMKX9Tri9BQy.wucJdNfSDW6GyJF34PxxA/cABKH9NEi"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 134], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 134], ["account_id", 516], ["role", "admin"], ["created_at", 2017-02-07 02:26:02 UTC], ["updated_at", 2017-02-07 02:26:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:26:02 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 454ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$u1CGdFgp0LAJk4qQT5M18.Ar7MWyQM9wmvCZhpG/68dK9RrqDr1gi"], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 135], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 135], ["account_id", 517], ["role", "admin"], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$3ocuhvCyNdufqYV2dpLmLelV0MtdmiqgZAGWXBoyeQsYqrzeYJrIa"], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 136], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 136], ["account_id", 518], ["role", "admin"], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 136]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$HeH1pzNEsh8bkotN5gFfb.JOA/J1LQrH3/v2tGROXCoryq3dOVWby"], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 137], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 137], ["account_id", 519], ["role", "admin"], ["created_at", 2017-02-07 02:26:03 UTC], ["updated_at", 2017-02-07 02:26:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.4ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 137]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:26:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.22ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:26:53 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.19ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:26:53 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:26:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$mVYfBe1t3mNU3ATBbWc4be2DjRs2YLFMg1VePTRizMqXhrrKYRqNS"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 138], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 138], ["account_id", 526], ["role", "admin"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 64ms (Views: 1.7ms | ActiveRecord: 9.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:26:53 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ofeyCCq0VQylRgoYmJWE8e.AYk8futLae5FBkaddENu.f5zMguAKW"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 139], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 139], ["account_id", 527], ["role", "admin"], ["created_at", 2017-02-07 02:26:53 UTC], ["updated_at", 2017-02-07 02:26:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:26:53 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 398ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$DLv3QTU2W5CYmkCzvCuCAeSCYDWnW7vYjW.89CCm/HsWYbVcCfMma"], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 140], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 140], ["account_id", 528], ["role", "admin"], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/528/taxes" for 127.0.0.1 at 2017-02-07 02:26:54 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"528"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$UGH5U0jO3l1ybWWLZYLkCOv0.zba00B7MfHSWuxUMULwpLzUmo.RK"], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 141], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 141], ["account_id", 529], ["role", "admin"], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 141]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$S4G1xyJaDWT0Qhn5sNTCcORpQS.HlT1G.iZR6mPzJ/1pT6eeaeHyu"], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 142], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 142], ["account_id", 530], ["role", "admin"], ["created_at", 2017-02-07 02:26:54 UTC], ["updated_at", 2017-02-07 02:26:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 142]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:27:09 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.21ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:27:09 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:27:09 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:27:09 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$xQ.e./fWa6e3riBFO6gG9Ok1k80U14i4mTf7NIZTvF1ACAu4a88yu"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 143], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 143], ["account_id", 537], ["role", "admin"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 60ms (Views: 1.6ms | ActiveRecord: 10.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:27:09 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$5qadgnuMk/eDz/Rkwv0mZ.jTggbQJ9P3PNuic37AaNXYPpjNS14lW"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 144], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 144], ["account_id", 538], ["role", "admin"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 201 Created in 12ms (Views: 0.6ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:27:09 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 413ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PXNbkBuK7piSQlP2kvXdMObeDVc2D5.VkPadzIWQIigc5FlKibq7m"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 145], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 145], ["account_id", 539], ["role", "admin"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/539/taxes" for 127.0.0.1 at 2017-02-07 02:27:09 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"539"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$M6KbiX.542QCCBqSMRHuNeM7fVXT2phBe7/tWYXsSGffZJID2duiu"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 146], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 146], ["account_id", 540], ["role", "admin"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 146]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$0MIr13yrG3vpYVQtpQS98.JGK.Mq3f3QOcsVxf6NlCFXL6ay/ee9y"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 147], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 147], ["account_id", 541], ["role", "admin"], ["created_at", 2017-02-07 02:27:09 UTC], ["updated_at", 2017-02-07 02:27:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 147]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:27:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.45ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:27:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:27:27 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.01ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:27:27 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$PXNq.l.GpQdUs2Qc.jwkSOhSMDkhzC4PoRNmZeBDQ7qcbJv1T0Vxu"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 148], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 148], ["account_id", 548], ["role", "admin"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 62ms (Views: 1.5ms | ActiveRecord: 10.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:27:27 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$BmT9r2ARG4tJsFLYO500deM1ZqVY/VDCicK7wN0LQcVTBxwk3gg/u"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 149], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 149], ["account_id", 549], ["role", "admin"], ["created_at", 2017-02-07 02:27:27 UTC], ["updated_at", 2017-02-07 02:27:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:27:27 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 412ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$A02is7pzVhmy5B5TomNnUO6KV11Rof.EJqBtUTOP8J0I2AL2mHbM6"], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 150], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 150], ["account_id", 550], ["role", "admin"], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/550/taxes" for 127.0.0.1 at 2017-02-07 02:27:28 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"550"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$xik/cuOkvZf0fewzHZm/Qe1POzTTkkvfHpCSdyS2LvFeKXeMQPVMe"], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 151], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 151], ["account_id", 551], ["role", "admin"], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 151]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$E4nJM/1gFS7mbfwRRWZ4x.ICkCdpoQ0ipstALQwxOsLI12DLD1F9."], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 152], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 152], ["account_id", 552], ["role", "admin"], ["created_at", 2017-02-07 02:27:28 UTC], ["updated_at", 2017-02-07 02:27:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 152]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:28:01 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.35ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:28:01 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:28:01 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.0ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:28:01 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$5n1YoB2dY4B93.LlGxHWqOS.KquZAoW42.LdaO.FQLrQwVQ09go8a"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 153], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 153], ["account_id", 559], ["role", "admin"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 61ms (Views: 1.3ms | ActiveRecord: 10.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:28:01 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$MgWTnXquoiLdUtQ/Tt2EFem2/WoB1eBNrwZcrqGTnTEeDPjGJPERK"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 154], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 154], ["account_id", 560], ["role", "admin"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 10ms (Views: 0.6ms | ActiveRecord: 2.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:28:01 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 411ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Icv5lgPBlMqm8Jihzj9MwuUIUP6deoXNRGNdQPZQW.kT.TVSz5FS2"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 155], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 155], ["account_id", 561], ["role", "admin"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/561/taxes" for 127.0.0.1 at 2017-02-07 02:28:01 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"561"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$6tktbp7VNvyLH0Pz.6V7XOvMYF6UiunF/hxMqB9yRp24K5m4UlrDe"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 156], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 156], ["account_id", 562], ["role", "admin"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 156]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$jWLH0eJV7f6o0FMsQY.xgevacLn0Dl2Th12VlpUef03TtUUriLLlK"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 157], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 157], ["account_id", 563], ["role", "admin"], ["created_at", 2017-02-07 02:28:01 UTC], ["updated_at", 2017-02-07 02:28:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 157]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:29:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.27ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:29:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.29ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:29:35 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:29:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$4qYiz4sRdUjBZLG2dvwEJ..Td8mCT6DbtkzEFfrwNGxTZJqc67R.C"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 158], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 158], ["account_id", 570], ["role", "admin"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 63ms (Views: 1.6ms | ActiveRecord: 9.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:29:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$hl8j/jXQkH7ltq/2VpJVuO/4Xq2.t44Mfo1fwKMuMQ2gLz3NqNLHi"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 159], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 159], ["account_id", 571], ["role", "admin"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:29:35 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 426ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$7fa3axjcbw2H8ks2klvhKOQVHTxyfHnF5nBnEvsmgmGgXWX54Vzh."], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 160], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 160], ["account_id", 572], ["role", "admin"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/572/taxes" for 127.0.0.1 at 2017-02-07 02:29:35 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"572"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Tl4S3VPDesiz/1r4Nk3K9em66z6fHu7BAyNi3FJREfS7gTLYWqOZ6"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 161], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 161], ["account_id", 573], ["role", "admin"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 161]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$OOOh2p4LzHbiLUyl2ENZz.yQLTTMU4Q7UoEhoeiXuhlXm/7As.WQ2"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 162], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 162], ["account_id", 574], ["role", "admin"], ["created_at", 2017-02-07 02:29:35 UTC], ["updated_at", 2017-02-07 02:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 162]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:30:13 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.92ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:30:13 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.32ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:30:13 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.99ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:30:13 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$f5SguKyQq12wSBJh3CPiTe.RkwDYfktP2Ch7ljNHKwWkmmfC6ci82"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 163], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 163], ["account_id", 581], ["role", "admin"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 61ms (Views: 1.8ms | ActiveRecord: 9.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:30:13 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$vRPA.c0UivdcGXmK/Y2SjekYMqelK8cEMy05rg9EUsV.GcsExU4Ye"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 164], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 164], ["account_id", 582], ["role", "admin"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:30:13 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 403ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$37lsrpqcfrSAM2wEf6Po6.xEoIZ7/asob8xg/nNVldSy.mHZmyWy."], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 165], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 165], ["account_id", 583], ["role", "admin"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1/taxes" for 127.0.0.1 at 2017-02-07 02:30:13 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$6owMSbkvmHMFS/H4YGWezeorHznPh4fjVNqPPAA/eho4i8U.MZV/i"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 166], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 166], ["account_id", 584], ["role", "admin"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 166]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$w7c6lvNmMxX1l6hRBK2wR.DfOtwunExi/D1P/HFnOiXeGSRQHvKDe"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 167], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 167], ["account_id", 585], ["role", "admin"], ["created_at", 2017-02-07 02:30:13 UTC], ["updated_at", 2017-02-07 02:30:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 167]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:30:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:30:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.27ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:30:40 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.29ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:30:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$UsGpr.ji1TpzcYv5nYd/0.4AqOF9Fs3xuhuDqY1mqgnmCgUX2OpKO"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 168], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 168], ["account_id", 592], ["role", "admin"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 201 Created in 62ms (Views: 1.6ms | ActiveRecord: 12.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:30:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$NQwUBwBTvBoZjJqnoiFN..uSbAHmClhPeUPlb33d/awTvzwnjUtQ2"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 169], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 169], ["account_id", 593], ["role", "admin"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:30:40 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 433ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$zhueotLE5ciQwTqKHCkL9.cTQ4NxT7jrRHlH/sGlX9qcjXNK2tbV6"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 170], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 170], ["account_id", 594], ["role", "admin"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/594/taxes" for 127.0.0.1 at 2017-02-07 02:30:40 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"594"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PE9yUD58W787kOz9zSrtH.xuPEYPFnBc1ulLakwD5hO/KJOv784Ky"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 171], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 171], ["account_id", 595], ["role", "admin"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 171]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Eo/vS4YzAq/yD7xqe2dzKe3PBto0owCungV1pZ1OPjPN.cnS.ujGi"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 172], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 172], ["account_id", 596], ["role", "admin"], ["created_at", 2017-02-07 02:30:40 UTC], ["updated_at", 2017-02-07 02:30:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 172]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:31:14 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:31:14 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:31:14 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:14 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ASKLZJppfEq0G7czlD7ILuyRPSnkYdWbtEUSJvEEVQpjmHp58gZ7K"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 173], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 173], ["account_id", 603], ["role", "admin"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 201 Created in 62ms (Views: 1.4ms | ActiveRecord: 9.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:14 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$6SHw/RMDEZSVMsw7DZJUte4IQuP1pbQhizR2.642Ef3eSx9qU5Vou"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 174], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 174], ["account_id", 604], ["role", "admin"], ["created_at", 2017-02-07 02:31:14 UTC], ["updated_at", 2017-02-07 02:31:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:14 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 421ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$GvyzQJ3KipJBF3vT.XGmDeZZWqTzb/75gKLVnpf0OM9DklaIk0/BC"], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 175], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 175], ["account_id", 605], ["role", "admin"], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/605/taxes" for 127.0.0.1 at 2017-02-07 02:31:15 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"605"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$tM6doTHEQFbKL.hH9sB3Xe0Ec6JYR0deS0KVruTnQkllxbRMuzHCy"], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 176], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 176], ["account_id", 606], ["role", "admin"], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 176]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$QFuN4eTJwtuKnv2/AuOTC.l9JDZkw3UkPmutmtcUZ.GjeemyKWm4K"], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 177], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 177], ["account_id", 607], ["role", "admin"], ["created_at", 2017-02-07 02:31:15 UTC], ["updated_at", 2017-02-07 02:31:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 177]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:31:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.51ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:31:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:31:35 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.0ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$pghwzCLR.lyPBQ6CGlSUYO0X/VAl6BvYWewwUjsIu.r6N0JzjE49i"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 178], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 178], ["account_id", 614], ["role", "admin"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 64ms (Views: 1.5ms | ActiveRecord: 11.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$fDJWhd/0hjLcw/uwdmKGpO.r.eq7QekOQBfCCfaSr./YkQM445ebC"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 179], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 179], ["account_id", 615], ["role", "admin"], ["created_at", 2017-02-07 02:31:35 UTC], ["updated_at", 2017-02-07 02:31:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 201 Created in 12ms (Views: 0.7ms | ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:35 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 407ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$zD0oA3Oc6S7ZzsTQPYwANOD7hpil8o/h4gi.W9fGmiKZiYYvpHOG."], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 180], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 180], ["account_id", 616], ["role", "admin"], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/616/taxes" for 127.0.0.1 at 2017-02-07 02:31:36 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"616"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$NjCN97G4FdsQltBKhX.ck.PiK.h7e3jqyR.uIfY.FKvMDk8kyiOZ6"], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 181], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 181], ["account_id", 617], ["role", "admin"], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 181]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$SI5clkuxuUWZ/P5mhWuV.OgIDevu8wpc4YO5gMyLcUXyArX1PZiQ."], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 182], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 182], ["account_id", 618], ["role", "admin"], ["created_at", 2017-02-07 02:31:36 UTC], ["updated_at", 2017-02-07 02:31:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 182]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:31:48 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.24ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:31:48 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.36ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:31:48 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:48 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$fT2x7J6d81kno6Cl9S/Ro..iH5H4NWyngmQhp4A5octMG5Z1sX2W2"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 183], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 183], ["account_id", 625], ["role", "admin"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 61ms (Views: 1.5ms | ActiveRecord: 10.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:48 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$GRKUgISnvx06fp0DlbLL2OBEHFy8fOJfClQ7y160y0iCCx6vB88r."], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 184], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 184], ["account_id", 626], ["role", "admin"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:31:48 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 405ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$1hYDDFd.hka1yaoG1levCeLvJEPPTvcX4EkV8/b9W1R7R7Vc9ttfm"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 185], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 185], ["account_id", 627], ["role", "admin"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/627/taxes" for 127.0.0.1 at 2017-02-07 02:31:48 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"627"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$pfCoTSyJQRM5weYYwfW4bu3OdAD/BpqhHZUjEG1TMKMyn08RHnNwy"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 186], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 186], ["account_id", 628], ["role", "admin"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 186]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$uAaje30bW3aA.sMGs5ENMulvkKx0YKkzFlwR3D6OhOOW7y72n4K0e"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 187], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 187], ["account_id", 629], ["role", "admin"], ["created_at", 2017-02-07 02:31:48 UTC], ["updated_at", 2017-02-07 02:31:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 187]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:32:28 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.23ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 02:32:28 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 02:32:28 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:32:28 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$qqrjm0SxcKdFFFvoC0NW/uzujwv5aWc2aICdpinHFWOKWqf8So.wu"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 188], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 188], ["account_id", 636], ["role", "admin"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 65ms (Views: 1.8ms | ActiveRecord: 10.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:32:28 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$eOCFhFqQXxiWvYyz18lVJuGEQMM9MD/uyzci1AUm/BYbjf3HGv1UW"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 189], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 189], ["account_id", 637], ["role", "admin"], ["created_at", 2017-02-07 02:32:28 UTC], ["updated_at", 2017-02-07 02:32:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 11ms (Views: 0.7ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 02:32:28 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 398ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$uE0RaCaJn6mmtMGF7CO8wO.6v86VUK6DxNREHp2KZwJnxb5Qgdfw6"], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 190], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 190], ["account_id", 638], ["role", "admin"], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/638/taxes" for 127.0.0.1 at 2017-02-07 02:32:29 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"638"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$9MtsvOyKGL97NetjrWKnvuRrTd9xoTUablouN7PKXdjfdQxcxRRim"], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 191], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 191], ["account_id", 639], ["role", "admin"], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 191]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$0zwaYxBYDCUjHFPwRZnFZeTnXFW0Nr9qaI28.BAq2saONi.hF9BMW"], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 192], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 192], ["account_id", 640], ["role", "admin"], ["created_at", 2017-02-07 02:32:29 UTC], ["updated_at", 2017-02-07 02:32:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 192]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:13:45 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.39ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:13:45 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.27ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:13:45 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:13:45 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$evlHjmYIrVN85aBrfuGusOlb9Z88F6acr9xSX7GkXW8O0YiiNWr86"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 193], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35mSQL (4.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 193], ["account_id", 647], ["role", "admin"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 83ms (Views: 1.7ms | ActiveRecord: 13.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:13:45 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$WyzL8YK8PZAhawFnlN1AfeJRcJIWj2d/m3d4Az0.JsmRu5GdIn7ku"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 194], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 194], ["account_id", 648], ["role", "admin"], ["created_at", 2017-02-07 11:13:45 UTC], ["updated_at", 2017-02-07 11:13:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:13:45 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 449ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$XZRNGTcFFuVGr5UA2NoS/OtEuGs8qAEGzqk6bqoracL6WzaokXmcq"], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 195], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 195], ["account_id", 649], ["role", "admin"], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/649/taxes" for 127.0.0.1 at 2017-02-07 11:13:46 +0000
Processing by TaxesController#index as HTML
  Parameters: {"tenant_id"=>"649"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$XB2bBNzbrtdyJbCMTW8o/.oyuqzt5FMY2WeNXrrEcl1z9OWpjnYcC"], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 196], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 196], ["account_id", 650], ["role", "admin"], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 196]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bCQpwQ0EqEMR/WfVvCpr4uok6K4kv/IdCPlHMwyHaIP6tMJMLgI3u"], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 197], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 197], ["account_id", 651], ["role", "admin"], ["created_at", 2017-02-07 11:13:46 UTC], ["updated_at", 2017-02-07 11:13:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 197]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:14:59 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:14:59 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:14:59 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:14:59 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$OVyu.h3qHg9stcntiUZufO.kExMHTmmDzMq5UPrEzpat3.i2Xo4y2"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 198], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 198], ["account_id", 658], ["role", "admin"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 51ms (Views: 1.3ms | ActiveRecord: 9.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:14:59 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$EePEYioALXdqS1TsCjOSs.J.a50NMJ76PkRkuCgnnLU/Czx3WP9ny"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 199], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 199], ["account_id", 659], ["role", "admin"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 201 Created in 9ms (Views: 0.6ms | ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:14:59 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 413ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$JC6oKrsVCBZb/JtKhIpUj.H6vOP4kh53KKPJSzLqwj/6aclEm/V0."], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 200], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 200], ["account_id", 660], ["role", "admin"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/660/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:14:59 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"660"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$fbGdEcpZwO.a3Pj0UGuNIeg4grFoI/37mp6u.69S340JhQnOohASC"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 201], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 201], ["account_id", 661], ["role", "admin"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 201]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$CNR0/CnobP7TsdPuG71jZOAbmPxlmXP4eCjEXmFiRGoFNITEhyVgq"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 202], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 202], ["account_id", 662], ["role", "admin"], ["created_at", 2017-02-07 11:14:59 UTC], ["updated_at", 2017-02-07 11:14:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 202]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:15:09 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.27ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:15:09 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.13ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:15:09 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:15:09 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$AwVN9FztiJwcnCzTBO8cR.PB8kVr2mNbVCx0EHOCQca2kdk8p6KsG"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 203], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 203], ["account_id", 669], ["role", "admin"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 201 Created in 62ms (Views: 1.7ms | ActiveRecord: 10.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:15:09 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$FuMTCb5lhYPlv/J8IYywe.fqYMc.qVrwpdDhpdTJs2GpuvvfGt//q"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 204], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 204], ["account_id", 670], ["role", "admin"], ["created_at", 2017-02-07 11:15:09 UTC], ["updated_at", 2017-02-07 11:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:15:09 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 422ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bRwMMSZuPh0sRU125uvQk.Paf66IwElpiJNZDSdwXaKqZJ370iiYi"], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 205], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 205], ["account_id", 671], ["role", "admin"], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/671/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:15:10 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"671"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$WIxvdLuzvDKnDb5vLRxXKeX7FATtfEGeXC5aNeLpZbSmPnLxM0rHO"], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 206], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 206], ["account_id", 672], ["role", "admin"], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 206]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$MvmlfWrf9iEZ7bYbLrbaMu/bzM8TAc6LAyPpazHgEjsJB4wsSdVLy"], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 207], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 207], ["account_id", 673], ["role", "admin"], ["created_at", 2017-02-07 11:15:10 UTC], ["updated_at", 2017-02-07 11:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 207]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:16:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:16:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.41ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:16:29 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.93ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:16:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$9pRQPSqFkkwPiWoGytspbuun.IA8UOSfUtovn/Lsc48Z4JzgzU8T."], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 208], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 208], ["account_id", 680], ["role", "admin"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 67ms (Views: 1.7ms | ActiveRecord: 11.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:16:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$S0Kc1tb.wOjoY.kT5Sg4NecG4Eu.5lR3jcjn2CdehZyWOH1gAvn/O"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 209], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 209], ["account_id", 681], ["role", "admin"], ["created_at", 2017-02-07 11:16:29 UTC], ["updated_at", 2017-02-07 11:16:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:16:29 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 404ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$HZNH6/TYoocdMr5/n63g4u7EFBdn4vMxtDXb40ubHkWHEALSo6IM6"], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 210], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 210], ["account_id", 682], ["role", "admin"], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/682/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:16:30 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"682"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$o742ws/Cqgy4lCde4Ndq/.DGzw0womtlHvq0J91gZIHsXsk7XYzfu"], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 211], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 211], ["account_id", 683], ["role", "admin"], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 211]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$3icg21jYwQdGgBut59rgduMQGeaFqT3yaFwKH5GnwN.T2zPIPUe5e"], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 212], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 212], ["account_id", 684], ["role", "admin"], ["created_at", 2017-02-07 11:16:30 UTC], ["updated_at", 2017-02-07 11:16:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 212]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:16:54 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.46ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:16:54 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.14ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:16:54 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:16:54 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ybSo5Dw9SXEoiGvdt9GxUup879QQT/efX0Mgm/syjeDARPBGmpE/G"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 213], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 213], ["account_id", 691], ["role", "admin"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 63ms (Views: 1.6ms | ActiveRecord: 10.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:16:54 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$2k5E5rbffTkg8DuANAQ2CO.yA3seEyZwT1Ufte.bbQ5avVI2dsvg6"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 214], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 214], ["account_id", 692], ["role", "admin"], ["created_at", 2017-02-07 11:16:54 UTC], ["updated_at", 2017-02-07 11:16:54 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:16:54 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 428ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$L7JxSowmmBTsrtyDvo6sHesu2MbaI2q1aE054xctDuSXYkRoGImVK"], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 215], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 215], ["account_id", 693], ["role", "admin"], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/693/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:16:55 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"693"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$U4O36zG9H.sSYu77N9V1feUwATa6E926xQU.6nqIdx3QoI1R90SrO"], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 216], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 216], ["account_id", 694], ["role", "admin"], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 216]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Aby8ekSy.r/b3gPr.3SpluLzipbufVE3VPtDd.rKR.CNStd7vdJrm"], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 217], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 217], ["account_id", 695], ["role", "admin"], ["created_at", 2017-02-07 11:16:55 UTC], ["updated_at", 2017-02-07 11:16:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 217]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:18:14 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.22ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:18:14 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.1ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:18:14 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.97ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:18:14 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$evOe1KBqOnynfh/hv9jAD.iZBVnH8ysmz6GZBQdNEIDINhsrBJE9O"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 218], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 218], ["account_id", 702], ["role", "admin"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 60ms (Views: 1.3ms | ActiveRecord: 9.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:18:14 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$b5RTZJ/jbMe1rtS8Vm5YwOI3LV/GrnMFaHi/0rdM42UPI1YTwm9EK"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 219], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 219], ["account_id", 703], ["role", "admin"], ["created_at", 2017-02-07 11:18:14 UTC], ["updated_at", 2017-02-07 11:18:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:18:14 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 410ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$96svr.oNq.Jvut/9dioS1eottQdTLboC4UgLFhYNcQPRrWJs0EYCe"], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 220], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 220], ["account_id", 704], ["role", "admin"], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$xYYK8T9TkXt0c1TbvdjGPeIBdVsHeR5u6AiXjSm/arQvF63D3fSG."], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 221], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 221], ["account_id", 705], ["role", "admin"], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 221]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lr5YNMHBj8dPmP41FEPiuOQ1p4WKyNiL3EyFgr.ZQIObs3Hw8INNK"], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 222], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 222], ["account_id", 706], ["role", "admin"], ["created_at", 2017-02-07 11:18:15 UTC], ["updated_at", 2017-02-07 11:18:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 222]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:18:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.27ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:18:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.19ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:18:29 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.49ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:18:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$go2TicuaxSbvtA2tGVrpl.R2pJjfwueZFLdfDxXxXQeiWJ19knYsu"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 223], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 223], ["account_id", 713], ["role", "admin"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 201 Created in 63ms (Views: 2.2ms | ActiveRecord: 11.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:18:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Y5Tmw56yGCth8lvjqGefcubTfo9RliIfHwtV8u2gaR81NP58GTMeS"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 224], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 224], ["account_id", 714], ["role", "admin"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 12ms (Views: 0.6ms | ActiveRecord: 2.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:18:29 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 395ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$AJupDavJO.qLUn3TAqo8N.YXpBJHjJmXHhg/8.vbfgutQXnN5sa8K"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 225], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 225], ["account_id", 715], ["role", "admin"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$XVdJFwtZGe1oswN3LmNth.rhJQmRXqsW9RXBGZwP.w3.RkZwUTvFW"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 226], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 226], ["account_id", 716], ["role", "admin"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 226]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$YUXyWX.vvrSkQnuysadxzOm.Mrt4BN8VZxm.U9K40JFMbw4Zz5opy"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 227], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 227], ["account_id", 717], ["role", "admin"], ["created_at", 2017-02-07 11:18:29 UTC], ["updated_at", 2017-02-07 11:18:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 227]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:22 UTC], ["updated_at", 2017-02-07 11:21:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:22 UTC], ["updated_at", 2017-02-07 11:21:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:21:22 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.14ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:21:23 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.37ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:21:23 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:23 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$t.hUjN0KJSbLOzWKHRWGb.3z7.t3MpsclM.XyigJgs14Ruhygh9He"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 228], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 228], ["account_id", 724], ["role", "admin"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.39ms)
Completed 201 Created in 62ms (Views: 1.8ms | ActiveRecord: 10.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:23 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ljXZszjGrauFcoceYAoeeeHRq6cDilPwk3uXAtDnlQofPSGwmWPAq"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 229], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 229], ["account_id", 725], ["role", "admin"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:23 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 390ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$zIdRrF3hhU5GIXarXQ0db.WjtiaTWrAcbtkGBCcTxkiz4.7ARAC66"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 230], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 230], ["account_id", 726], ["role", "admin"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$674sVxaA0/nQR8piWMOfHOnn3q/8R.8UxXRUTemnyun27PNjxRRLa"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 231], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 231], ["account_id", 727], ["role", "admin"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 231]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$o.B6mc4iGepLnbzrYNIdSe153vosflh4zpXFhIVT4ozrqnZXyr53G"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 232], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 232], ["account_id", 728], ["role", "admin"], ["created_at", 2017-02-07 11:21:23 UTC], ["updated_at", 2017-02-07 11:21:23 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 232]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:21:39 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:21:39 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.17ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:21:39 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.73ms)
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:39 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$V9gDYYWNferojy8SlyqUXu8fUhveb1ICf0dSWfYcNUl8ZsYqkbkSC"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 233], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 233], ["account_id", 735], ["role", "admin"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 59ms (Views: 1.4ms | ActiveRecord: 9.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:39 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$TLjuamp1mG9rIJ4wM.AxFOeVhu.3Im5.eo23m43wlcj4i0c7cebnG"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 234], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 234], ["account_id", 736], ["role", "admin"], ["created_at", 2017-02-07 11:21:39 UTC], ["updated_at", 2017-02-07 11:21:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:39 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$KU5rQ.aElUB10nF.ljLGUerxumEJVGtmvpUY/TDXLAO3tcFGHSlGa"], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 235], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 235], ["account_id", 737], ["role", "admin"], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$u.9zOo4Aex84XvYe9s7eROKsdgnpboWMKeaCURbTvyr/WIzLsWJYK"], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 236], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 236], ["account_id", 738], ["role", "admin"], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 236]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$VnrPcBpFhSJP3Ahl.QXEgeNwS.P6EFY358ZksR7B1rCz3Ie0QXKiy"], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 237], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 237], ["account_id", 739], ["role", "admin"], ["created_at", 2017-02-07 11:21:40 UTC], ["updated_at", 2017-02-07 11:21:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 237]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:21:59 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:21:59 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.46ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:21:59 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:59 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$7aP4gt8z.5ibyFzNnvDzW.13MnF1WbyCvZ8lSJkVjYxoayBEmfeh6"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 238], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 238], ["account_id", 746], ["role", "admin"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 63ms (Views: 1.7ms | ActiveRecord: 10.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:59 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$MqgTJu42dWoTZon7eOFMpOHFRITa1rY7Jpy2iL4T3XQrGXE7Z2pg6"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 239], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 239], ["account_id", 747], ["role", "admin"], ["created_at", 2017-02-07 11:21:59 UTC], ["updated_at", 2017-02-07 11:21:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:21:59 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 401ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gOz..NZjl5aiLBy9UORQrOGeUYKwUVuQUcf9Sngh4WUBPTwdpUdHG"], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 240], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 240], ["account_id", 748], ["role", "admin"], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$IlPnXEt/qArqzhEAbgB.Ie0Dz8YEs7bAkUOPv3gBd4hqjjUB6HNfS"], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 241], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 241], ["account_id", 749], ["role", "admin"], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 241]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Oogo1pCAsjojgcwxmERBn.kJg1zAauyZp.ozcAIfhvAPssx4IFDDG"], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 242], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 242], ["account_id", 750], ["role", "admin"], ["created_at", 2017-02-07 11:22:00 UTC], ["updated_at", 2017-02-07 11:22:00 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 242]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:29:00 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.19ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:29:00 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.41ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:29:00 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:00 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$7ftGnFKgc2KvOLV3pBdxCeNpMbpITHK4.QVnyytWI/.sYd7KXLhYe"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 243], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 243], ["account_id", 757], ["role", "admin"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 201 Created in 61ms (Views: 1.4ms | ActiveRecord: 9.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:00 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$zmOUHHzl5MtR6GSCffZbUOlNkGET7HfKVAfgjk5SOHvaeT8rHiHCm"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 244], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 244], ["account_id", 758], ["role", "admin"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:00 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 422 Unprocessable Entity in 387ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$eNJmoc5O5bR3PavmP7bqm.TlmPag50MxGrIVZp/iWiPR2lqDxzZJ."], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 245], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 245], ["account_id", 759], ["role", "admin"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$fhMNBn8lkpHdnO/PhlPHlOHFTediuS/bE/1bTGK4EQweoHwe9FHyi"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 246], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 246], ["account_id", 760], ["role", "admin"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 246]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$vMCCmqkpMSA3iFU2H9yNWO7APwHKNWLHyIGOYHETovVdcpHxAjXfe"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 247], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 247], ["account_id", 761], ["role", "admin"], ["created_at", 2017-02-07 11:29:00 UTC], ["updated_at", 2017-02-07 11:29:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 247]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:29:24 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.22ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:29:24 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:29:24 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.01ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:24 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$lBJ7gGMTKpSwS1p4.M4Poe3hxLyQ5hCw5Rd25LRTwusBVTDygUeAe"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 248], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 248], ["account_id", 768], ["role", "admin"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 61ms (Views: 1.5ms | ActiveRecord: 10.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:24 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ycWV3JuohDWgnkbXgNgaVuPm8c/q1UjXyIsqkAiZYZ77rtxwKJEPC"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 249], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 249], ["account_id", 769], ["role", "admin"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:24 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 409ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$iWqPHAL4tirgyHsgv1K1MuDqbBuEvZbhuaHGVXTrEFWcUnE.oToB6"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 250], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 250], ["account_id", 770], ["role", "admin"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$BuRpc7ScYTRDepUTITyJduUKl1xWheRrL5EugYWfgrG.12vPSNTQe"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 251], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 251], ["account_id", 771], ["role", "admin"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 251]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$MDTwoxtltiP7zu6SqwgfCO3mygL7zM34PoFuhre/ZEkIWSDeSMgse"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 252], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 252], ["account_id", 772], ["role", "admin"], ["created_at", 2017-02-07 11:29:24 UTC], ["updated_at", 2017-02-07 11:29:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 252]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:29:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.25ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:29:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:29:35 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.2ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$YXwAkwnqAODXDFMxLLxzyeUnxFmabemmhLguV4BvTnEh/zGVJJJTu"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 253], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 253], ["account_id", 779], ["role", "admin"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 51ms (Views: 1.3ms | ActiveRecord: 9.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Rozlpv/lZbTngA8OVUW8SenMjxPcWlIJhJ89x3qSzGYQBZ/mi0Fny"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 254], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 254], ["account_id", 780], ["role", "admin"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 8ms (Views: 0.4ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:29:35 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 430ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$6TIaFqHtwNEru79tuF5zF.Mzz.mZtO1jIqx4N9YvXv9Yf65K6oJkG"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 255], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 255], ["account_id", 781], ["role", "admin"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$YxyQVGEnPNl0azcLZ7we0O850x29DCs3Y3fx4PkUwdipmH18dPrzG"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 256], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 256], ["account_id", 782], ["role", "admin"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 256]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PD2btqgavdqudFewNd.JMuUnehn5volQii7juNgBcg.AM0gBPsFne"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 257], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 257], ["account_id", 783], ["role", "admin"], ["created_at", 2017-02-07 11:29:35 UTC], ["updated_at", 2017-02-07 11:29:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 257]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:30:45 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.2ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:30:45 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.23ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:30:45 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:30:45 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Krj3y79Ly.MD5ladrBA8EuBEBlbAtGEE2RxX8b4Q0d4mOPICpMoeO"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 258], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 258], ["account_id", 790], ["role", "admin"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 57ms (Views: 1.6ms | ActiveRecord: 9.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:30:45 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$s3oBxbDyG5mp.kIukp4lSuA/XRCMRLt.H2VTnr6P/uZdMStgxg/vG"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 259], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 259], ["account_id", 791], ["role", "admin"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:30:45 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 396ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$UoxN0noVCDmDVby5ulWIbecQyzLxVAY3heY05mqijv1KszR9G60Ym"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 260], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 260], ["account_id", 792], ["role", "admin"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/792/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:30:45 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"792"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bDwWRIGzBlU2QZTYfiuArOKWBdXWAM5i7cgA9/w13gPJzGBY6WDtG"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 261], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 261], ["account_id", 793], ["role", "admin"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 261]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$itfS6H4yUj55GYt2RRDw0.f5iBrSSrr5f4cKum5CA8GSzJ6St6h8m"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 262], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 262], ["account_id", 794], ["role", "admin"], ["created_at", 2017-02-07 11:30:45 UTC], ["updated_at", 2017-02-07 11:30:45 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 262]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:31:00 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.25ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:31:00 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.4ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:31:00 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:31:00 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$kYFMUs3pIYMR105IM1qlFOHE0aq4ZPUp9it70QzaljMMrksWL7Sc6"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 263], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 263], ["account_id", 801], ["role", "admin"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 62ms (Views: 1.4ms | ActiveRecord: 11.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:31:00 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$xG0IZA8BBV.eq6R0NMBzpeqXsEALRQGTrYHgWRtsfDPsGwzwuu1tC"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 264], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 264], ["account_id", 802], ["role", "admin"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:31:00 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 408ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$DxhnUy7rQHphkWqPISGutuHjz5ws8AMhCjrXVKeFOKsYZpjdeQCfa"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 265], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 265], ["account_id", 803], ["role", "admin"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/803/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:31:00 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"803"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$9gayeJ0HN/2/9Q9STtZ6l.REuuoMa9caHAfgR.8FPr1jf8zym9QSy"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 266], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 266], ["account_id", 804], ["role", "admin"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 266]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$uTD5u7OUYoCw/rkqFgQQru50ymKShHF.RUDxn6huT4iHB3imnynWO"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 267], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 267], ["account_id", 805], ["role", "admin"], ["created_at", 2017-02-07 11:31:00 UTC], ["updated_at", 2017-02-07 11:31:00 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 267]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:31:37 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.21ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:31:37 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.44ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:31:37 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:31:37 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$THmfppZ9U7adaBocpk6z3ubRoT/xT4DQf/gFwoHDXSFcRv.ZdvXim"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 268], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 268], ["account_id", 812], ["role", "admin"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 54ms (Views: 1.3ms | ActiveRecord: 10.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:31:37 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$an2/MEwHtgd0lK9SxCR7BOnubGfjUNV1igVkObe1bfmCqovF1vgzS"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 269], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 269], ["account_id", 813], ["role", "admin"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:31:37 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 422 Unprocessable Entity in 411ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$h.khXZ0MloLD1E/JIkxXkOj9mjeJxlUXSK0cDWofPfo55Lgi38bWy"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 270], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 270], ["account_id", 814], ["role", "admin"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/814/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:31:37 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"814"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/TJB9zlSI6TMwmdAXfR.fO/Ah7xJmfXY65GsO5Tl39/m15OrGc0ka"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 271], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 271], ["account_id", 815], ["role", "admin"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 271]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$.fGWXFoGUzQgrhLZdqNH4e8TeFX9yZfnxDSDKD73c65zd7J4MTx8y"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 272], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 272], ["account_id", 816], ["role", "admin"], ["created_at", 2017-02-07 11:31:37 UTC], ["updated_at", 2017-02-07 11:31:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 272]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:32:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.24ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:32:35 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.16ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:32:35 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:32:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$EQCQjZ1JJSs6/U4AaQFuwOlnlIMmlU6LVKDy.sZXMveLIihEm4e1O"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 273], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 273], ["account_id", 823], ["role", "admin"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 51ms (Views: 1.5ms | ActiveRecord: 10.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:32:35 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$OE8mgYD8.KMBAq5Bu80/bu4KmdUkVvG.GOHR6GO3f7/HzVKQ02/HC"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 274], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 274], ["account_id", 824], ["role", "admin"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:32:35 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 416ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PDyKGVQmjxZjKYYpVkUzC.wZImZPOS8P5sAUHYNbMtrfN5dsmDF7y"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 275], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 275], ["account_id", 825], ["role", "admin"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/825/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:32:35 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"825"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$GOPP.IJ.6p7CdKT2a6Yv3eVjDodOtr3geQqjQdUrvWg9Vdj.9atUK"], ["created_at", 2017-02-07 11:32:35 UTC], ["updated_at", 2017-02-07 11:32:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 276], ["created_at", 2017-02-07 11:32:36 UTC], ["updated_at", 2017-02-07 11:32:36 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 276], ["account_id", 826], ["role", "admin"], ["created_at", 2017-02-07 11:32:36 UTC], ["updated_at", 2017-02-07 11:32:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 276]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$YQVEjshFNuI4b.CnIrFzweqJkDLcebvIHG44ogwfhQDs03/DJzku6"], ["created_at", 2017-02-07 11:32:36 UTC], ["updated_at", 2017-02-07 11:32:36 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 277], ["created_at", 2017-02-07 11:32:36 UTC], ["updated_at", 2017-02-07 11:32:36 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 277], ["account_id", 827], ["role", "admin"], ["created_at", 2017-02-07 11:32:36 UTC], ["updated_at", 2017-02-07 11:32:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 277]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:33:59 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.36ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:33:59 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.43ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:33:59 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:33:59 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$rmHlIrYVerGeS.PnYm9KD.yrvFuX4y/MBAELKENB4TS94Q4LwNRui"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 278], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 278], ["account_id", 834], ["role", "admin"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 61ms (Views: 1.3ms | ActiveRecord: 10.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:33:59 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$s1ST/bozttpdhKEC0Erz9eTaHzYa9qvFywp2/6ffgh9PB1kSg2OsW"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 279], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 279], ["account_id", 835], ["role", "admin"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 201 Created in 11ms (Views: 0.7ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:33:59 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 412ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$LLRKY581zrUEynltQYjOF.pHktjhOfzf82moyqnycfNkhM8FLAvHW"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 280], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 280], ["account_id", 836], ["role", "admin"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/836/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:33:59 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"836"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$0pGOSktq.TEwWYIuHsrNKebfqc4RDerG038E9dsURPCd029ci7/ea"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 281], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 281], ["account_id", 837], ["role", "admin"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 281]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$X0mzjKpliIYRcgqQvyBjlurqU4yUYV87NHhC3KnGP7.qw8TzQS7Bm"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 282], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 282], ["account_id", 838], ["role", "admin"], ["created_at", 2017-02-07 11:33:59 UTC], ["updated_at", 2017-02-07 11:33:59 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 282]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:38:07 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.33ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:38:07 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.19ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:38:07 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.0ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:38:07 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Ysrdz.af1I5RE3uNy.6o4ODwVUAEg5EaD7D0GzrrkkoahKznPlcde"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 283], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 283], ["account_id", 845], ["role", "admin"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 64ms (Views: 2.4ms | ActiveRecord: 10.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:38:07 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$4SzUKEpZY70JieNKQV0XAOETBvjx3uu/t8cNV3YRcbVot1/yoMcyi"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 284], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 284], ["account_id", 846], ["role", "admin"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 201 Created in 10ms (Views: 0.6ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:38:07 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 422 Unprocessable Entity in 398ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$aPUVc7WuATDZCReN31pSMOhMKpBwX0gdqAJr2a5oqukTC6G6ODmbe"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 285], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 285], ["account_id", 847], ["role", "admin"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/847/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:38:07 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"847"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$GoymT1tjgHYTzC8fVkr3ouE4EZ.TwIXsaQQdvw9dJdLni8h64i0Y2"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 286], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 286], ["account_id", 848], ["role", "admin"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 286]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$QEiVM/q0vC.gwZSZTwcHXON.I9LjPtOyPylr.DvYyGO6LDM3qBoQe"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 287], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 287], ["account_id", 849], ["role", "admin"], ["created_at", 2017-02-07 11:38:07 UTC], ["updated_at", 2017-02-07 11:38:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 287]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:39:11 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.31ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:39:11 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.39ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:39:11 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:11 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$9obMv0TAu3b3p7m/dFJO1OO5d1Uo/4boxMKf66scwHlhJfqLCkYHS"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 288], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 288], ["account_id", 856], ["role", "admin"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.36ms)
Completed 201 Created in 64ms (Views: 1.5ms | ActiveRecord: 10.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:11 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$5QxSAunU2bhtqT2oC56Iyetepu5WwOnXRpooCtyxEgcr.uqbSZsL6"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 289], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 289], ["account_id", 857], ["role", "admin"], ["created_at", 2017-02-07 11:39:11 UTC], ["updated_at", 2017-02-07 11:39:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:11 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 422ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$aGcFUorFQeF8VQqvKFqCkOBlXYY2SZ6gNBEmpiWcmbQGnE13h2qO."], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 290], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 290], ["account_id", 858], ["role", "admin"], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/858/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:39:12 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"858"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$WmyJKlXPepawEIaBEjueH.xsHVwLI1VX.ljlt0H20GG8odIDpY4cG"], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 291], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 291], ["account_id", 859], ["role", "admin"], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 291]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PIiyiuLFM7ZvxfaZdA.pyeHzxlXQx08iq/ZnJ5xxQGXY/8EygGZ3u"], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 292], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 292], ["account_id", 860], ["role", "admin"], ["created_at", 2017-02-07 11:39:12 UTC], ["updated_at", 2017-02-07 11:39:12 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 292]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:39:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.46ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:39:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:39:27 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:27 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$1Xp.yiB90J3b0G2Xcgw5MO.u.zEwOnq9YEeoEPp0T084vligDe86a"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 293], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 293], ["account_id", 867], ["role", "admin"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 64ms (Views: 1.5ms | ActiveRecord: 10.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:27 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$GiC/AO0.1MPW1.Bl5f1Lt.Q8iZ0W36M3hR8Vyqm0ON0RJacfp7phW"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 294], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 294], ["account_id", 868], ["role", "admin"], ["created_at", 2017-02-07 11:39:27 UTC], ["updated_at", 2017-02-07 11:39:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:27 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 430ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$YM.bKh8N5gUBbWW4IARbpO/.UDhbL4OlArBc5h.YyApF1KjLDwTQa"], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 295], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 295], ["account_id", 869], ["role", "admin"], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/869/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:39:28 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"869"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Fxw0M3S6zhGn8rMi7otlrufq5INhR70dQY6gB7qBp0F3stwPrdyv6"], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 296], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 296], ["account_id", 870], ["role", "admin"], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 296]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$uz.mRxOO51nRpMZbZ3TaAO0Ive.USA7JTPQFabaMnWfpMCHEPNUzm"], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 297], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 297], ["account_id", 871], ["role", "admin"], ["created_at", 2017-02-07 11:39:28 UTC], ["updated_at", 2017-02-07 11:39:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 297]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:39:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.26ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:39:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.64ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:39:43 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.27ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$t4fiJT30WukkEE.uO6csuuQAxpprnEv0Rxps.2st1zK5vADp7QOgm"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 298], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 298], ["account_id", 878], ["role", "admin"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 65ms (Views: 1.7ms | ActiveRecord: 10.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$b1Y4sEXFFD6s.r2QhlyLV.NBWJ1EiXiG/g0qt71d0MeTbMSvBCApi"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 299], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 299], ["account_id", 879], ["role", "admin"], ["created_at", 2017-02-07 11:39:43 UTC], ["updated_at", 2017-02-07 11:39:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:39:43 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 404ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gq9zz2m61NhzIXHP0fCxN.YjznBziZjNeGG8UIQZm8Q6IBsVYzXia"], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 300], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 300], ["account_id", 880], ["role", "admin"], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/880/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:39:44 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"880"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/Xexfe.xvdGrMtp8MO2IlukWftOK62.bNgH4kLhotXBpnXorOymRq"], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 301], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 301], ["account_id", 881], ["role", "admin"], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 301]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Wn1.TZsS7YcjE.WLymWsD.ADJt9FH6Lfd7DQ2OoXju8klEK8R3cfa"], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 302], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 302], ["account_id", 882], ["role", "admin"], ["created_at", 2017-02-07 11:39:44 UTC], ["updated_at", 2017-02-07 11:39:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 302]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:42:57 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.38ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:42:57 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.25ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:42:57 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:42:57 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$gPyW2rZfmy3Yj4lKMiYNhOx55ZJ7t1IOf44ukMR27jBtnO0D98eBC"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 303], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 303], ["account_id", 889], ["role", "admin"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 65ms (Views: 1.4ms | ActiveRecord: 10.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:42:57 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$/4K366s4gL.APG2NUHiyueHy68QjpAtMPjumVHUA4U8cdS39XkqEy"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 304], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 304], ["account_id", 890], ["role", "admin"], ["created_at", 2017-02-07 11:42:57 UTC], ["updated_at", 2017-02-07 11:42:57 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:42:57 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 422 Unprocessable Entity in 406ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$dpEFmtrPL5dOrAw.ftQDN.kAzzHnLhN93Qdai/YilXrcalcRpYuJ6"], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 305], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 305], ["account_id", 891], ["role", "admin"], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/891/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:42:58 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"891"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$sUpkCAilMz.RanZJd3lVaO/sLKNDsahiKiXJfaMZ9zBP8rFd1o2b2"], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 306], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 306], ["account_id", 892], ["role", "admin"], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 306]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bWVGuQMWhNJHj2ykMYIbD.CFQ32GVrmUycLHPNH7E8P1bdYtbWn9O"], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 307], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 307], ["account_id", 893], ["role", "admin"], ["created_at", 2017-02-07 11:42:58 UTC], ["updated_at", 2017-02-07 11:42:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 307]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:43:32 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:43:32 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.3ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:43:32 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:43:32 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$N6mZpxV/As/3tr8GsY0QGOGtrMgfd9kN9sRG2Sp/CO2OlPFMB21F."], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 308], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 308], ["account_id", 900], ["role", "admin"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 50ms (Views: 1.4ms | ActiveRecord: 10.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:43:32 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Ys9Udn8/GBptOBOy7Om.HuejrSoRz/MDfo/3ZhbS5d.QrGVb9iWZi"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 309], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 309], ["account_id", 901], ["role", "admin"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:43:32 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 421ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$rmLWVKHul8uB6k3Q7f.sJ.kbR7jZC9W.zG11M7XNl4Fpv9rbj6gC."], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 310], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 310], ["account_id", 902], ["role", "admin"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$4iix9lBOXbi0jaVrk2L.eOSk6iJArb93/eOXRDq6k7idCUQHoI4eS"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 311], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 311], ["account_id", 903], ["role", "admin"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 311]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Tcllq/VzsjP0EhIdR/UkK.itkKRFsYl.NzPIwnVRn.r.CZ2NNndVS"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 312], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 312], ["account_id", 904], ["role", "admin"], ["created_at", 2017-02-07 11:43:32 UTC], ["updated_at", 2017-02-07 11:43:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 312]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:44:15 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.3ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:44:15 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:44:15 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:44:15 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$6UwQnRK4iXoFzVnvVVWQvOHzT/V4E9y5pzcK9IYLYSdEOe5KdK3yq"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 313], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 313], ["account_id", 911], ["role", "admin"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 62ms (Views: 1.5ms | ActiveRecord: 10.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:44:15 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$zNwx.Q9.F3BiWanNkuWUPOHBI3bJVrlcRT6hbBUn2gked7sjr5pMa"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 314], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 314], ["account_id", 912], ["role", "admin"], ["created_at", 2017-02-07 11:44:15 UTC], ["updated_at", 2017-02-07 11:44:15 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:44:15 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 424ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$rPNq7N0oe67w1qiStdipK.WFqrJubL0urGfb7HPDgLfO3dfvtmCKW"], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 315], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 315], ["account_id", 913], ["role", "admin"], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$IPSBYJe8Cd3fCan59biTneyvS1y/3RCwvrUHqVzV7W68D3AFdqxny"], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 316], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 316], ["account_id", 914], ["role", "admin"], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 316]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$t8E1hbmIO3kEzwqAaGHVv.QK7Og6AZd/.eVoxWMo0jSdNQX/.Zd7O"], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 317], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 317], ["account_id", 915], ["role", "admin"], ["created_at", 2017-02-07 11:44:16 UTC], ["updated_at", 2017-02-07 11:44:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 317]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:44:52 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.85ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:44:52 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:44:52 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.33ms)
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:44:52 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$18lKYQrVxX9hxNiWKMNiSeZgFpKqqNDCR/M2V7ZKlcw6BHSrjfYFa"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 318], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 318], ["account_id", 922], ["role", "admin"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 63ms (Views: 1.6ms | ActiveRecord: 9.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:44:52 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$mbcUwEYidY6bFnyceVo8WurlydZow1VsnbI5K5JYI5nTGxnT0QLue"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 319], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 319], ["account_id", 923], ["role", "admin"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:44:52 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$ScUpgZ59nnKSw3wXP2lrw.MtmCMKZT2t0MHXjmvaq./RlO4uT6mMe"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 320], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 320], ["account_id", 924], ["role", "admin"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/924/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:44:52 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"924"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$9EK3bdkrYz5jfR0n.hJfPe/pgR/dVMwaZlanFpPd3GZEPjBV8HP5."], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 321], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 321], ["account_id", 925], ["role", "admin"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 321]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$COJnmqdsGmitQNGqDYRiPOMwRZSK5uOBWdYp8m6p1U.3tCx6tosh2"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 322], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 322], ["account_id", 926], ["role", "admin"], ["created_at", 2017-02-07 11:44:52 UTC], ["updated_at", 2017-02-07 11:44:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 322]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:46:22 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.69ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:46:22 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.11ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:46:22 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.99ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:46:22 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$q5k0vGseDSF.lRBmHOlqDuWlx1MkLnwSDFo8oupNKM1I8vJomXeju"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 323], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 323], ["account_id", 933], ["role", "admin"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 68ms (Views: 1.5ms | ActiveRecord: 11.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:46:22 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$NQ7XLEzBsdDhY7hj7ENYxOsmDcLqS/d710QjfQXM3FScvEmq48ZfG"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 324], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 324], ["account_id", 934], ["role", "admin"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:46:22 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 422 Unprocessable Entity in 404ms (Views: 0.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$z8cIpdNtOqhUDKFD/8IoRekey82.er4nNRtaOgD2Rv1wVSylJhTri"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 325], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 325], ["account_id", 935], ["role", "admin"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/935/taxes?Authorization=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQzODIsInN1YiI6MzI1fQ.Qn3npgA5NQsHdn48Ts2bscOnrsv5DDPMGwChUsNYTxY&page=1" for 127.0.0.1 at 2017-02-07 11:46:22 +0000
Processing by TaxesController#index as HTML
  Parameters: {"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQzODIsInN1YiI6MzI1fQ.Qn3npgA5NQsHdn48Ts2bscOnrsv5DDPMGwChUsNYTxY", "page"=>"1", "tenant_id"=>"935"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$eW0/9teTMhNrHmAbkMTICeNVIxDlrNqAsln5zwpTZRdau6blgQ7rC"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 326], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 326], ["account_id", 936], ["role", "admin"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 326]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$WepXCL8WoeZfwPjMEpRBlesH4cOOEYS/FQG05VEQEe60MSLNhMjRa"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 327], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 327], ["account_id", 937], ["role", "admin"], ["created_at", 2017-02-07 11:46:22 UTC], ["updated_at", 2017-02-07 11:46:22 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 327]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:46:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.22ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:46:38 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.11ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:46:38 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.21ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:46:38 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$N/fpnx.bj61bQbZaKqWP6.XM2OUHSbwe55teCsOA2IiNNSS14w5ju"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 328], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 328], ["account_id", 944], ["role", "admin"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 63ms (Views: 1.9ms | ActiveRecord: 10.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:46:38 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$EO76/Zsnarqb3y8eTRqpx.NlGDV60hH9jEKz6N/qmYNrH1huq5092"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 329], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 329], ["account_id", 945], ["role", "admin"], ["created_at", 2017-02-07 11:46:38 UTC], ["updated_at", 2017-02-07 11:46:38 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:46:38 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 425ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$VvWOqfxmEstXPkfljTg6y.DCGTma7OuLkxYuOoreBw34QQiVNHIZa"], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 330], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 330], ["account_id", 946], ["role", "admin"], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/946/taxes?Authorization=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQzOTksInN1YiI6MzMwfQ._WDuMkU5uB92InbVGsAft_FstuC2kYSkjXgB97jEznM&page=1" for 127.0.0.1 at 2017-02-07 11:46:39 +0000
Processing by TaxesController#index as HTML
  Parameters: {"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQzOTksInN1YiI6MzMwfQ._WDuMkU5uB92InbVGsAft_FstuC2kYSkjXgB97jEznM", "page"=>"1", "tenant_id"=>"946"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$4nLdR.Z66CQZwTrO7OSOr.E9zvR9LatUMLQyb/zkdooZ91sSwxUIK"], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 331], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 331], ["account_id", 947], ["role", "admin"], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 331]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$sj2b6OR0Zuy9J7.8ZCc1z.v7vRHkcQdhvpy9zMtbAolUuxTX0e1Fy"], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 332], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 332], ["account_id", 948], ["role", "admin"], ["created_at", 2017-02-07 11:46:39 UTC], ["updated_at", 2017-02-07 11:46:39 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 332]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:47:10 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.6ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:47:10 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.39ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:47:10 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.5ms)
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:47:10 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$kd7StMFcgXR87Ezl1psP3u6K1E0V6OUmjclMp0kC3Yi7SuxE4y5fi"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 333], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 333], ["account_id", 955], ["role", "admin"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 65ms (Views: 1.4ms | ActiveRecord: 10.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:47:10 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$zZvP6yHJaShZYJBkNsJ1z.NbZkhpcLxLff2zr9PxovGQ2YMzFp9Kq"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 334], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 334], ["account_id", 956], ["role", "admin"], ["created_at", 2017-02-07 11:47:10 UTC], ["updated_at", 2017-02-07 11:47:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:47:10 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 418ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$1nyZXNAqJNzoHG1A4SZ.6ul10r0gklNCrjigGoC6XB/GfXBCeKpP6"], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 335], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 335], ["account_id", 957], ["role", "admin"], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/957/taxes?Authorization=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQ0MzEsInN1YiI6MzM1fQ.SEcJtG2FHtUVEX-jkizpZZ9v0ZXM4AJ9JLKOAJ2Cm2Q&page=1" for 127.0.0.1 at 2017-02-07 11:47:11 +0000
Processing by TaxesController#index as HTML
  Parameters: {"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQ0MzEsInN1YiI6MzM1fQ.SEcJtG2FHtUVEX-jkizpZZ9v0ZXM4AJ9JLKOAJ2Cm2Q", "page"=>"1", "tenant_id"=>"957"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$tbkmI8rMdJ4ibU5YBUr7O.cIz6lv53GgVWNcqwO7yl5c5VQHstcG6"], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 336], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 336], ["account_id", 958], ["role", "admin"], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 336]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$4c4gjQ.TvNQfOfJv0GVi4u0PK/WiYRwpqlW3ehi48/ZobbYcObgPS"], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 337], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 337], ["account_id", 959], ["role", "admin"], ["created_at", 2017-02-07 11:47:11 UTC], ["updated_at", 2017-02-07 11:47:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 337]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:50:10 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.36ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:50:10 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:50:10 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:50:10 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$e6mla3eQ4qU0aaacoMD1LeKUwyJFrSDxpHsZhqnPlB5VNKf0AWVlm"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 338], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 338], ["account_id", 966], ["role", "admin"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 201 Created in 63ms (Views: 1.9ms | ActiveRecord: 10.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:50:10 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$kZudkJHjNMnt3hqN9XAeh.I6nbCH8sAiir57U/B6EfEtp5So5jW9W"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 339], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 339], ["account_id", 967], ["role", "admin"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:50:10 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 434ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$cxmxWVse/AuclZ1Bjm76eO5W8Zy7IfXQsG3IVS8FKhcbs.XeK3Yp2"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 340], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 340], ["account_id", 968], ["role", "admin"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/968/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQ2MTAsInN1YiI6MzQwfQ.nejGEPkDH1zu-Je5atVOK4Qiyn78eFeidvHpKK-KohU&page=1" for 127.0.0.1 at 2017-02-07 11:50:10 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQ2MTAsInN1YiI6MzQwfQ.nejGEPkDH1zu-Je5atVOK4Qiyn78eFeidvHpKK-KohU"}, "page"=>"1", "tenant_id"=>"968"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$LtuRtUHO2y39mz.z6eN5jeQk0lnVEoWO658L7xI9flLfpt.xelLci"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 341], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 341], ["account_id", 969], ["role", "admin"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 341]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$pNfdQuMqcIQts3b6imqW7OntDVA5alnYWLMm9P7upnmINiKiwY0V."], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 342], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 342], ["account_id", 970], ["role", "admin"], ["created_at", 2017-02-07 11:50:10 UTC], ["updated_at", 2017-02-07 11:50:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 342]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:50:41 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.27ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:50:41 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.53ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:50:41 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.05ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:50:41 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$NOXz..QDhdffA/YoziVIPux9tRr2A7VUNBhW7BGov6r90sdJeGDaC"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 343], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 343], ["account_id", 977], ["role", "admin"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 60ms (Views: 1.5ms | ActiveRecord: 9.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:50:41 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$DtjFWaqYn7OA62dvMa6N/uN7mjk9qCAwbWyFDwIAG3U4iCBjOYDPK"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 344], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 344], ["account_id", 978], ["role", "admin"], ["created_at", 2017-02-07 11:50:41 UTC], ["updated_at", 2017-02-07 11:50:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:50:41 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 425ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$EmH4hhbiD2mMbpRtVPO7keVk9ahoN502mL3oyQXKbozWGsuefACgK"], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 345], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 345], ["account_id", 979], ["role", "admin"], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/979/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQ2NDIsInN1YiI6MzQ1fQ.ztBEBKDe76JQ9RGxEesn-vH_UknaS5cUkOmKe7_b2OM&page=1" for 127.0.0.1 at 2017-02-07 11:50:42 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTQ2NDIsInN1YiI6MzQ1fQ.ztBEBKDe76JQ9RGxEesn-vH_UknaS5cUkOmKe7_b2OM"}, "page"=>"1", "tenant_id"=>"979"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$fUOjLf.Aa8SIx6X5iG7wJOw8WzejPrAnEYSzRg.ZUJPh2Lubcvmua"], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 346], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 346], ["account_id", 980], ["role", "admin"], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 346]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Tujbc1WLuxngoGqi89M5qOpYXsrDbbO9m.qhjJOg68CiplRJt3Ks2"], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 347], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 347], ["account_id", 981], ["role", "admin"], ["created_at", 2017-02-07 11:50:42 UTC], ["updated_at", 2017-02-07 11:50:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 347]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:52:46 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.71ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:52:46 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.45ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:52:46 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.12ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:52:46 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$V3WRZnZHxpE.STwm19iFPuRXmbjqa5AjWrdVyJD0kaoCuvSAvBBj."], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 348], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 348], ["account_id", 988], ["role", "admin"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 201 Created in 62ms (Views: 1.5ms | ActiveRecord: 9.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:52:46 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$elE5rA4qTWIp5VfznnWmd.OaPSwyeAusAEBesMElGA04JCbtnxf4K"], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 349], ["created_at", 2017-02-07 11:52:46 UTC], ["updated_at", 2017-02-07 11:52:46 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 349], ["account_id", 989], ["role", "admin"], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:52:47 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 424ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$RaeP.0kmdsvKHCs2ZW2NzehkzkmKd0CxTfodZXrYMUziK0SlH9Yn2"], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 350], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 350], ["account_id", 990], ["role", "admin"], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bNPznE9vJI.F328zTITGi.Ucucn4tpM7cBXLaticT8xaL931p.gLK"], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 351], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 351], ["account_id", 991], ["role", "admin"], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 351]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$69ERZHFZ7UQLII.7NcA9c.Hr4ev/pqyc.C5bj454d4OnBxLwA/XOS"], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 352], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 352], ["account_id", 992], ["role", "admin"], ["created_at", 2017-02-07 11:52:47 UTC], ["updated_at", 2017-02-07 11:52:47 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 352]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:53:24 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.31ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:53:24 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.51ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:53:24 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:53:24 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$I7Rhhwl4rUCN9KeOyCrXBuwmj2Pb8JC6IYktzaKxBwIq03M8bo8q."], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 353], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 353], ["account_id", 999], ["role", "admin"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 63ms (Views: 1.7ms | ActiveRecord: 10.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:53:24 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$WYEMu3KjWG54m4VCVKlAUui1k11dpIwLJ73e0VdBbjYN6dd7NRHcu"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 354], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 354], ["account_id", 1000], ["role", "admin"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:53:24 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 422 Unprocessable Entity in 406ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/HdOTiXx6y4MIu3Y0Kol9.NHjFvukxAGY26fsA1FAFkEfoe3kaHau"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 355], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 355], ["account_id", 1001], ["role", "admin"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1001/taxes?page=1" for 127.0.0.1 at 2017-02-07 11:53:24 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1001"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$oIj.EEomZZZ90tHJgLWuJOObuuhykBeUMHM.vjuv7Y3HLjCOLgS8i"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 356], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 356], ["account_id", 1002], ["role", "admin"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 356]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PRUnHLe3ciVWKQWHf5ayUOADhStF6hKThPn71SS81u21mI41RFj0e"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 357], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 357], ["account_id", 1003], ["role", "admin"], ["created_at", 2017-02-07 11:53:24 UTC], ["updated_at", 2017-02-07 11:53:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 357]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:57:17 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-02-07 11:57:17 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.35ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-02-07 11:57:17 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.01ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:57:17 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$bmDTSI8cmg9w9WkCor13iOtHij1iVYSpnd23wpYbmsOlpo/lu0.ui"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 358], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 358], ["account_id", 1010], ["role", "admin"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.27ms)
Completed 201 Created in 74ms (Views: 1.7ms | ActiveRecord: 11.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:57:17 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$znytT5Aqm32FCpWPxVjz6e.exvKSqzT2OneD1rCxO9RsW0.sKqSPm"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 359], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 359], ["account_id", 1011], ["role", "admin"], ["created_at", 2017-02-07 11:57:17 UTC], ["updated_at", 2017-02-07 11:57:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-02-07 11:57:17 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 422 Unprocessable Entity in 442ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qWA.LJGqqd5EJ6Jr9awFJe1zUCxf8uMmKqYL8VP1UhBz6bOO4s5gK"], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 360], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 360], ["account_id", 1012], ["role", "admin"], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1012/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTUwMzgsInN1YiI6MzYwfQ.YS2hVJE5Mzl9FGzW43xLsdZFNLrlkdx_3dk-klYmE7Y&xhr=true&page=1" for 127.0.0.1 at 2017-02-07 11:57:18 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODY1NTUwMzgsInN1YiI6MzYwfQ.YS2hVJE5Mzl9FGzW43xLsdZFNLrlkdx_3dk-klYmE7Y"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1012"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$yZg2bX90XdwN1ecMLiBNpet49gPkf7ukhf3sQ8/CzVIjGzc8PXf96"], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 361], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 361], ["account_id", 1013], ["role", "admin"], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 361]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$7mSE7WhAdJSOMX8y3/q7du7fiCIU.ZYl7OQ1/T1fyTNbLTCkk1B16"], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 362], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 362], ["account_id", 1014], ["role", "admin"], ["created_at", 2017-02-07 11:57:18 UTC], ["updated_at", 2017-02-07 11:57:18 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 362]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:31:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.22ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:31:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.1ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-06 20:31:43 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.03ms)
Completed 200 OK in 5ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:31:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (2.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$3/KdxE3o04uqEay2NeOtwuzxS4GRvNo1rAkhX5rMqXaxFXhUy3ndq"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 363], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35mSQL (6.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 363], ["account_id", 1021], ["role", "admin"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 86ms (Views: 2.2ms | ActiveRecord: 17.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:31:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$LqqgfttTmhX3VGcm.1K03.Bw6mlAmJvdUp9eFOnkHPXhtAZJ6Kt5m"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 364], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 364], ["account_id", 1022], ["role", "admin"], ["created_at", 2017-03-06 20:31:43 UTC], ["updated_at", 2017-03-06 20:31:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:31:43 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 443ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$zsJLtcorCpK.v7TEMkRqKujNe627q0Y1U16T6dbu3.RVIGmI9WBX."], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 365], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 365], ["account_id", 1023], ["role", "admin"], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1023/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg3MDQsInN1YiI6MzY1fQ.THt2p8ckhxpcOxLIMOGHoQBaxrts6lwBaAd5ua_y54E&xhr=true&page=1" for 127.0.0.1 at 2017-03-06 20:31:44 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg3MDQsInN1YiI6MzY1fQ.THt2p8ckhxpcOxLIMOGHoQBaxrts6lwBaAd5ua_y54E"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1023"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$WR3qYmjB9oztpMAGwPsUo.pemr/UQ8NvCNjDBUO0RwZhzDDQ4qa4y"], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 366], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 366], ["account_id", 1024], ["role", "admin"], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 366]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$aP1agB0Br2D4vudgL9Z1rOqG8lVB5K36MSWripkSwqNsOz5jBWE/G"], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 367], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 367], ["account_id", 1025], ["role", "admin"], ["created_at", 2017-03-06 20:31:44 UTC], ["updated_at", 2017-03-06 20:31:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 367]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:32:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:32:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.72ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-06 20:32:43 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:32:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$mSo74S33JZesktAJObm3Yuw1ETlVOoj.V2tmNDNcYGjr0P9VGSby."], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 368], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 368], ["account_id", 1032], ["role", "admin"], ["created_at", 2017-03-06 20:32:43 UTC], ["updated_at", 2017-03-06 20:32:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 73ms (Views: 1.7ms | ActiveRecord: 14.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:32:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$We9YDZds8uuiWxphUHHJLews9McBsGNGGdFZZHS3V9IT1mPfqzZo6"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 369], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 369], ["account_id", 1033], ["role", "admin"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:32:44 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 450ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$liLBLbA5BjR2.CwP.Dc3oeDyvZrYbG3rOCQgjnwc6wX2zpR3AiXxm"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 370], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 370], ["account_id", 1034], ["role", "admin"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1034/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg3NjQsInN1YiI6MzcwfQ.-2uZF2aaXPfzxd03v6zQORqcGj2nLadoXIhTWANkAl8&xhr=true&page=1" for 127.0.0.1 at 2017-03-06 20:32:44 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg3NjQsInN1YiI6MzcwfQ.-2uZF2aaXPfzxd03v6zQORqcGj2nLadoXIhTWANkAl8"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1034"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$UpcYERgjRlxaljjbPQY86./8KsnTHgVL6unCZ2rKO1WTeVYiZ5EvK"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 371], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 371], ["account_id", 1035], ["role", "admin"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 371]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$SaGxk5BZeapnCDEJh5BfWeLTRfnrjS.SlCzsbPGj0NKAQnS3deQpm"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 372], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 372], ["account_id", 1036], ["role", "admin"], ["created_at", 2017-03-06 20:32:44 UTC], ["updated_at", 2017-03-06 20:32:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.3ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 372]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:33:30 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.17ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:33:30 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.43ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-06 20:33:30 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:33:30 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$zagW/JUOkQnfcaLmNMYx2OtpuzbB2KlpirXS9LWbhzCpn1hrpgO1G"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 373], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 373], ["account_id", 1043], ["role", "admin"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 70ms (Views: 1.5ms | ActiveRecord: 11.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:33:30 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$tcOsDzjZ9yKNwlxSd6Mc..Wm4WzkIvGqmfuollabVTlImOiOMqOdS"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 374], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 374], ["account_id", 1044], ["role", "admin"], ["created_at", 2017-03-06 20:33:30 UTC], ["updated_at", 2017-03-06 20:33:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 201 Created in 10ms (Views: 0.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:33:30 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/Q5CzhXf.9WIsKBdwbv4ce7Rh1yflnPD7iPq4l1Q8t6KAggMDIL4G"], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 375], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 375], ["account_id", 1045], ["role", "admin"], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1045/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg4MTEsInN1YiI6Mzc1fQ.xXoLe0hIzQnDa3geRfQuf-C229wo1yeZV0lGe3Ai7ek&xhr=true&page=1" for 127.0.0.1 at 2017-03-06 20:33:31 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg4MTEsInN1YiI6Mzc1fQ.xXoLe0hIzQnDa3geRfQuf-C229wo1yeZV0lGe3Ai7ek"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1045"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$uq9nfNha0u2TWg1T04GmW.vFGzHVR3pPGRavj92XVRAfdu9j33n7e"], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 376], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 376], ["account_id", 1046], ["role", "admin"], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 376]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$DA/itR3JFT9dEi.bo9K3CuLwL4L0ORhmIYzATHWOrgarxfIp6v3By"], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 377], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 377], ["account_id", 1047], ["role", "admin"], ["created_at", 2017-03-06 20:33:31 UTC], ["updated_at", 2017-03-06 20:33:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:35:03 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.14ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:35:03 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.3ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-06 20:35:03 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.13ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:35:03 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$QiRpIKxI0eWy1h8mcfbFm.ynreHQeMC6th/qWp5ulJfsEtJjV56bm"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 378], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 378], ["account_id", 1054], ["role", "admin"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 73ms (Views: 1.4ms | ActiveRecord: 11.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:35:03 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$g855DknhNjkzGtte86TKjOSHTV/mLrf5rMJnoBhmY/HX1HBLQvaNq"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 379], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 379], ["account_id", 1055], ["role", "admin"], ["created_at", 2017-03-06 20:35:03 UTC], ["updated_at", 2017-03-06 20:35:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:35:03 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 419ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$ncqWu0dd8EXiIMHkvgc88.fqbuXBi6iu/G6fg8w8sXzd5kGoKQDla"], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 380], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 380], ["account_id", 1056], ["role", "admin"], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1056/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg5MDQsInN1YiI6MzgwfQ.9rJBCAjPNo4pdSP8IfRcgYOUy3XbAlewRZMVM7Q3n_c&xhr=true&page=1" for 127.0.0.1 at 2017-03-06 20:35:04 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg5MDQsInN1YiI6MzgwfQ.9rJBCAjPNo4pdSP8IfRcgYOUy3XbAlewRZMVM7Q3n_c"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1056"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bM1RMOMoHUi4m7a0PzC8Ee1Rja0bruaKXibm5F8fU2GHmrYB4y67K"], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 381], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 381], ["account_id", 1057], ["role", "admin"], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 381]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$BGpB5ZEuc4dLhgVaNyYG/uurirLakYclgNlBwTBzZM1CC4f5j3JKS"], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 382], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 382], ["account_id", 1058], ["role", "admin"], ["created_at", 2017-03-06 20:35:04 UTC], ["updated_at", 2017-03-06 20:35:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:36:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.22ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-06 20:36:27 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.19ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-06 20:36:27 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:36:27 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$6Pfami3dsyXcxaCOFUZWguEzqNfVN6hbi.NWkyva9pirehDYn3yOe"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 383], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 383], ["account_id", 1065], ["role", "admin"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 201 Created in 70ms (Views: 1.7ms | ActiveRecord: 12.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:36:27 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$B5NeAQuNRJEzKFbn8FCkXuibYB1hPo8nvrb4wpDDkO3aByigLok76"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 384], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 384], ["account_id", 1066], ["role", "admin"], ["created_at", 2017-03-06 20:36:27 UTC], ["updated_at", 2017-03-06 20:36:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 8ms (Views: 0.5ms | ActiveRecord: 1.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-06 20:36:27 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 398ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$SEhfBZBchjaewVwmftBY7OcNo0Y7emkLyavgwBsDt2vq7fh8k5Y9G"], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 385], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 385], ["account_id", 1067], ["role", "admin"], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1067/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg5ODgsInN1YiI6Mzg1fQ.SCOUu7abyOrmU2j71YuNHxvQZYR0AXL3p5OXD_eYg9E&xhr=true&page=1" for 127.0.0.1 at 2017-03-06 20:36:28 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTg5ODgsInN1YiI6Mzg1fQ.SCOUu7abyOrmU2j71YuNHxvQZYR0AXL3p5OXD_eYg9E"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1067"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$v5uH3LR354xD6TVKwIVRKekr2TzUap028jMRkcJPRivAMNc7Icyoq"], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 386], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 386], ["account_id", 1068], ["role", "admin"], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 386]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (2.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Z349gbTTYzPoR0HAfmbrEeAAlQEP.wl05P3wMZyQavRuBqRgkjEKC"], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 387], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 387], ["account_id", 1069], ["role", "admin"], ["created_at", 2017-03-06 20:36:28 UTC], ["updated_at", 2017-03-06 20:36:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$q7AkIOQHPRck4MoH3fUdruZVP.yjCcWazzEgpc5vi5ITRb86IJ6GO"], ["created_at", 2017-03-06 20:36:51 UTC], ["updated_at", 2017-03-06 20:36:51 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 388], ["created_at", 2017-03-06 20:36:51 UTC], ["updated_at", 2017-03-06 20:36:51 UTC]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 388], ["account_id", 1070], ["role", "admin"], ["created_at", 2017-03-06 20:36:51 UTC], ["updated_at", 2017-03-06 20:36:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1070/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTkwMTEsInN1YiI6Mzg4fQ.UwAIAGJKmwNsHzSYl1Q0-wkPwCUgvcuFj7yPBdVqz88&xhr=true&page=1" for 127.0.0.1 at 2017-03-06 20:36:51 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTkwMTEsInN1YiI6Mzg4fQ.UwAIAGJKmwNsHzSYl1Q0-wkPwCUgvcuFj7yPBdVqz88"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1070"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Bcebn.P5rFbtotLk0N5fS.Y4mW4nDKrJ4aQGsG7V/.Ffu5fAZg/bK"], ["created_at", 2017-03-06 20:38:04 UTC], ["updated_at", 2017-03-06 20:38:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 389], ["created_at", 2017-03-06 20:38:04 UTC], ["updated_at", 2017-03-06 20:38:04 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 389], ["account_id", 1071], ["role", "admin"], ["created_at", 2017-03-06 20:38:04 UTC], ["updated_at", 2017-03-06 20:38:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1071/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTkwODQsInN1YiI6Mzg5fQ.wgFOlK6ezu5pvTIA-E_M6Yio-KfSgx_MsJwoBtsPMWQ&xhr=true&page=1" for 127.0.0.1 at 2017-03-06 20:38:04 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5MTkwODQsInN1YiI6Mzg5fQ.wgFOlK6ezu5pvTIA-E_M6Yio-KfSgx_MsJwoBtsPMWQ"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1071"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 16:56:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.58ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 16:56:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.32ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 16:56:29 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.23ms)
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 16:56:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$0QrnZLIrdF0jFfRRzxysgOXHJ1PkzYYNn7BjDf9VAvkeLybwYNrSa"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 390], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35mSQL (3.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 390], ["account_id", 1078], ["role", "admin"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 201 Created in 80ms (Views: 2.0ms | ActiveRecord: 14.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 16:56:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$kUjJ5VBVbUrNCeMYZLmNbO5dN1zLFoYEiotpYyZEdMgoB0zrxeEki"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 391], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 391], ["account_id", 1079], ["role", "admin"], ["created_at", 2017-03-07 16:56:29 UTC], ["updated_at", 2017-03-07 16:56:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 201 Created in 10ms (Views: 0.6ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 16:56:29 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 465ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$S7PQ4bpMnuC0aj4L8lH74.LrHWGttKGloRaEzqbWyo/paQ5OlOFHK"], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 392], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 392], ["account_id", 1080], ["role", "admin"], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1080/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIxOTAsInN1YiI6MzkyfQ.t8BtOJpcJw0Ur5SnS4neRFt6pjq1hVQCkQ7nou_fvBk&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 16:56:30 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIxOTAsInN1YiI6MzkyfQ.t8BtOJpcJw0Ur5SnS4neRFt6pjq1hVQCkQ7nou_fvBk"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1080"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Y.McefE6haAXyyqQ7e/2jO22/wfU7KzDIVHLe4bfnOG9Xkr3oKFau"], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 393], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 393], ["account_id", 1081], ["role", "admin"], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 393]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$z6tFzC/sV5uZ3OkhZagY6On7vMyE1veZJ5cN58HVYTDZj0ubHk3/q"], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 394], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 394], ["account_id", 1082], ["role", "admin"], ["created_at", 2017-03-07 16:56:30 UTC], ["updated_at", 2017-03-07 16:56:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 16:56:50 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$pqZSctRHN5nMafh4CFSkC.yYpH.ZaLaVL0EXB8GfKBWktc4BinIbe"], ["created_at", 2017-03-07 16:56:50 UTC], ["updated_at", 2017-03-07 16:56:50 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 395], ["created_at", 2017-03-07 16:56:50 UTC], ["updated_at", 2017-03-07 16:56:50 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 395], ["account_id", 1083], ["role", "admin"], ["created_at", 2017-03-07 16:56:50 UTC], ["updated_at", 2017-03-07 16:56:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.37ms)
Completed 201 Created in 82ms (Views: 5.4ms | ActiveRecord: 17.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 16:56:50 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$OqF55wfv0SloZaPuowFZgeR5lFUCqQJxT0iDxRmX7AKFpx.sVmj16"], ["created_at", 2017-03-07 16:56:50 UTC], ["updated_at", 2017-03-07 16:56:50 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 396], ["created_at", 2017-03-07 16:56:50 UTC], ["updated_at", 2017-03-07 16:56:50 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 396], ["account_id", 1084], ["role", "admin"], ["created_at", 2017-03-07 16:56:50 UTC], ["updated_at", 2017-03-07 16:56:50 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 2.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 16:56:50 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$wT4gv/5BcBS7Z5cD1u3PXO8zKbY9XGOIuF8RyyRXOp8GusksSUE/S"], ["created_at", 2017-03-07 16:57:47 UTC], ["updated_at", 2017-03-07 16:57:47 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 397], ["created_at", 2017-03-07 16:57:47 UTC], ["updated_at", 2017-03-07 16:57:47 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 397], ["account_id", 1085], ["role", "admin"], ["created_at", 2017-03-07 16:57:47 UTC], ["updated_at", 2017-03-07 16:57:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1085/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIyNjcsInN1YiI6Mzk3fQ.P9T4YU_5tA2tdpwm6hZiIGDMjQQ91HdZwSrKx8YZYS4&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 16:57:47 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIyNjcsInN1YiI6Mzk3fQ.P9T4YU_5tA2tdpwm6hZiIGDMjQQ91HdZwSrKx8YZYS4"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1085"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$.Mvbii4OH7aFnpvckFfbUewa6yoyZE23r33FYbnwfnfuRrsRxDi2G"], ["created_at", 2017-03-07 16:59:30 UTC], ["updated_at", 2017-03-07 16:59:30 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 398], ["created_at", 2017-03-07 16:59:30 UTC], ["updated_at", 2017-03-07 16:59:30 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 398], ["account_id", 1086], ["role", "admin"], ["created_at", 2017-03-07 16:59:30 UTC], ["updated_at", 2017-03-07 16:59:30 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1086/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIzNzAsInN1YiI6Mzk4fQ._6by1rjwcYy8GRiOdzZ8c9Tc2NoYkJzsfWpnzBQZ8zQ&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 16:59:30 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIzNzAsInN1YiI6Mzk4fQ._6by1rjwcYy8GRiOdzZ8c9Tc2NoYkJzsfWpnzBQZ8zQ"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1086"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Sl0WB8lfZqXvQxDx1CvmU.g23Y4L3qM4Rs0IixqYhaD9GsdEjywcG"], ["created_at", 2017-03-07 16:59:48 UTC], ["updated_at", 2017-03-07 16:59:48 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 399], ["created_at", 2017-03-07 16:59:48 UTC], ["updated_at", 2017-03-07 16:59:48 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 399], ["account_id", 1087], ["role", "admin"], ["created_at", 2017-03-07 16:59:48 UTC], ["updated_at", 2017-03-07 16:59:48 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1087/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIzODgsInN1YiI6Mzk5fQ.N_GlY3glQN0wLJgYkoE0TEjPgi0aw76vaLOOaHIMPM4&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 16:59:48 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTIzODgsInN1YiI6Mzk5fQ.N_GlY3glQN0wLJgYkoE0TEjPgi0aw76vaLOOaHIMPM4"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1087"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/rA5pwTWDO/7Sj7.JBg2QuKu5/sKDj3NoRLXd7dAT0loSLdddNqZy"], ["created_at", 2017-03-07 17:01:52 UTC], ["updated_at", 2017-03-07 17:01:52 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 400], ["created_at", 2017-03-07 17:01:52 UTC], ["updated_at", 2017-03-07 17:01:52 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 400], ["account_id", 1088], ["role", "admin"], ["created_at", 2017-03-07 17:01:52 UTC], ["updated_at", 2017-03-07 17:01:52 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1088/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI1MTIsInN1YiI6NDAwfQ._puHaozpLVm6o7QYAH-O7qAlAFRaztHAOuqBHovOhqY&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 17:01:52 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI1MTIsInN1YiI6NDAwfQ._puHaozpLVm6o7QYAH-O7qAlAFRaztHAOuqBHovOhqY"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1088"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$IlHM.qKRlqKoL2JSbB3xiOho0UrypVQhazqUup08vVNFVKDQLIJYO"], ["created_at", 2017-03-07 17:02:02 UTC], ["updated_at", 2017-03-07 17:02:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 401], ["created_at", 2017-03-07 17:02:02 UTC], ["updated_at", 2017-03-07 17:02:02 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 401], ["account_id", 1089], ["role", "admin"], ["created_at", 2017-03-07 17:02:02 UTC], ["updated_at", 2017-03-07 17:02:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1089/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI1MjIsInN1YiI6NDAxfQ.u04gcoFltviS4tjeAVxoLxJ1gerepzbEVT8xp4vloII&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 17:02:02 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI1MjIsInN1YiI6NDAxfQ.u04gcoFltviS4tjeAVxoLxJ1gerepzbEVT8xp4vloII"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1089"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$2oYIpBabKiTMNRMt1Yu4Z.5Dz./bgMTVC9nEqivfC3OaZQS6WRsL2"], ["created_at", 2017-03-07 17:03:42 UTC], ["updated_at", 2017-03-07 17:03:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 402], ["created_at", 2017-03-07 17:03:42 UTC], ["updated_at", 2017-03-07 17:03:42 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 402], ["account_id", 1090], ["role", "admin"], ["created_at", 2017-03-07 17:03:42 UTC], ["updated_at", 2017-03-07 17:03:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1090/taxes?headers[HTTP_AUTHORIZATION]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI2MjIsInN1YiI6NDAyfQ.2cJOtc64r4Y6Jtqcz-a3MviunTCWcOcakYXGe_zHrgM&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 17:03:42 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"HTTP_AUTHORIZATION"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI2MjIsInN1YiI6NDAyfQ.2cJOtc64r4Y6Jtqcz-a3MviunTCWcOcakYXGe_zHrgM"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1090"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$LsK84oQOnjc..oPtWbM4nuHVWcpB6lEWfCxPteC7ItvCVA3lZ/r3u"], ["created_at", 2017-03-07 17:03:53 UTC], ["updated_at", 2017-03-07 17:03:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 403], ["created_at", 2017-03-07 17:03:53 UTC], ["updated_at", 2017-03-07 17:03:53 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 403], ["account_id", 1091], ["role", "admin"], ["created_at", 2017-03-07 17:03:53 UTC], ["updated_at", 2017-03-07 17:03:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1091/taxes?headers[Authorization]=Bearer+eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI2MzMsInN1YiI6NDAzfQ.miAW_iQf3C6kchfSwJWxGStmx8iAG7TumgJvvqc73EU&xhr=true&page=1" for 127.0.0.1 at 2017-03-07 17:03:53 +0000
Processing by TaxesController#index as HTML
  Parameters: {"headers"=>{"Authorization"=>"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJleHAiOjE0ODg5OTI2MzMsInN1YiI6NDAzfQ.miAW_iQf3C6kchfSwJWxGStmx8iAG7TumgJvvqc73EU"}, "xhr"=>"true", "page"=>"1", "tenant_id"=>"1091"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$0OjYUq9.VYG7TMbynlgBcejeFXo/N9ivW454R4GUdl6MvJZhHuxQe"], ["created_at", 2017-03-07 17:07:17 UTC], ["updated_at", 2017-03-07 17:07:17 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 404], ["created_at", 2017-03-07 17:07:17 UTC], ["updated_at", 2017-03-07 17:07:17 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 404], ["account_id", 1092], ["role", "admin"], ["created_at", 2017-03-07 17:07:17 UTC], ["updated_at", 2017-03-07 17:07:17 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$M7RdTykRGNrjauG7w76nF.lFkoLUc/6GDPG3u6/tDu1mxquTd6L4."], ["created_at", 2017-03-07 17:07:36 UTC], ["updated_at", 2017-03-07 17:07:36 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 405], ["created_at", 2017-03-07 17:07:36 UTC], ["updated_at", 2017-03-07 17:07:36 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 405], ["account_id", 1093], ["role", "admin"], ["created_at", 2017-03-07 17:07:36 UTC], ["updated_at", 2017-03-07 17:07:36 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1093/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:07:36 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1093"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PrYiyTxPXl0VZZigIe6QXOX0vBjfnHoAxDwQ3Pc8iZPy8pB4rExOS"], ["created_at", 2017-03-07 17:08:48 UTC], ["updated_at", 2017-03-07 17:08:48 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 406], ["created_at", 2017-03-07 17:08:48 UTC], ["updated_at", 2017-03-07 17:08:48 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 406], ["account_id", 1094], ["role", "admin"], ["created_at", 2017-03-07 17:08:48 UTC], ["updated_at", 2017-03-07 17:08:48 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1094/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:08:48 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1094"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", nil], ["LIMIT", 1]]
Filter chain halted as :authenticate_user rendered or redirected
Completed 401 Unauthorized in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$wVIlXsV7xRWS99Nrrmm44.N.gbJYoUYASzvJEm5l0jArOipK3N5Ki"], ["created_at", 2017-03-07 17:11:16 UTC], ["updated_at", 2017-03-07 17:11:16 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 407], ["created_at", 2017-03-07 17:11:16 UTC], ["updated_at", 2017-03-07 17:11:16 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 407], ["account_id", 1095], ["role", "admin"], ["created_at", 2017-03-07 17:11:16 UTC], ["updated_at", 2017-03-07 17:11:16 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1095/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:11:16 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1095"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 407]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1095]]
[active_model_serializers]   [1m[36mTax Load (1.2ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1095], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (4.69ms)
Completed 200 OK in 38ms (Views: 7.7ms | ActiveRecord: 5.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$OIQA5cHDe5pTwwhf61eNfe.HwL3jocTe4FH42n7tqxvSeuOImSrAS"], ["created_at", 2017-03-07 17:12:32 UTC], ["updated_at", 2017-03-07 17:12:32 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 408], ["created_at", 2017-03-07 17:12:32 UTC], ["updated_at", 2017-03-07 17:12:32 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 408], ["account_id", 1096], ["role", "admin"], ["created_at", 2017-03-07 17:12:32 UTC], ["updated_at", 2017-03-07 17:12:32 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1096/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:12:32 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1096"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 408], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 408]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1096]]
[active_model_serializers]   [1m[36mTax Load (0.8ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1096], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.01ms)
Completed 200 OK in 28ms (Views: 4.6ms | ActiveRecord: 3.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gS/gM4ovvuOpIIc0w8MpYeJSH3OQbynHxA2pREbffvLnZt2uGvYRm"], ["created_at", 2017-03-07 17:12:51 UTC], ["updated_at", 2017-03-07 17:12:51 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 409], ["created_at", 2017-03-07 17:12:51 UTC], ["updated_at", 2017-03-07 17:12:51 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 409], ["account_id", 1097], ["role", "admin"], ["created_at", 2017-03-07 17:12:51 UTC], ["updated_at", 2017-03-07 17:12:51 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1097/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:12:51 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1097"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 409]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1097]]
[active_model_serializers]   [1m[36mTax Load (0.8ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1097], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.98ms)
Completed 200 OK in 28ms (Views: 4.7ms | ActiveRecord: 4.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$t.9xlVzF92sKcHwRqbW6vO0RTvy9o/3aKAVGdjlUS8msZ5SSOJBFm"], ["created_at", 2017-03-07 17:13:02 UTC], ["updated_at", 2017-03-07 17:13:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 410], ["created_at", 2017-03-07 17:13:02 UTC], ["updated_at", 2017-03-07 17:13:02 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 410], ["account_id", 1098], ["role", "admin"], ["created_at", 2017-03-07 17:13:02 UTC], ["updated_at", 2017-03-07 17:13:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1098/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:13:02 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1098"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 410]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1098]]
[active_model_serializers]   [1m[36mTax Load (0.9ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1098], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.48ms)
Completed 200 OK in 33ms (Views: 5.9ms | ActiveRecord: 4.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$xFRFGdMo2kFZcM0tlRV0RuzDZmlu2ZeaCBJnQoRsOO4JfS6DOYgB6"], ["created_at", 2017-03-07 17:13:55 UTC], ["updated_at", 2017-03-07 17:13:55 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 411], ["created_at", 2017-03-07 17:13:55 UTC], ["updated_at", 2017-03-07 17:13:55 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 411], ["account_id", 1099], ["role", "admin"], ["created_at", 2017-03-07 17:13:55 UTC], ["updated_at", 2017-03-07 17:13:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1099/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:13:55 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1099"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 411]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1099]]
[active_model_serializers]   [1m[36mTax Load (0.9ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1099], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.28ms)
Completed 200 OK in 33ms (Views: 5.4ms | ActiveRecord: 4.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:14:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.35ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:14:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.09ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:14:02 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.02ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:14:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$jKOSF4MRbOpyxP1U8oxg4Ozwixg7WGBXKQtM2oXEG7kOl5xDuj11G"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 412], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 412], ["account_id", 1106], ["role", "admin"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.31ms)
Completed 201 Created in 71ms (Views: 2.3ms | ActiveRecord: 10.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:14:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$sOTte08XpJU16jJqTlgpGuOJK9T8RVWgtMDUwB0hwRgKU13zrwLYq"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 413], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 413], ["account_id", 1107], ["role", "admin"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:14:02 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 478ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lNQ72aOOFlT0LLtlo/UDEOI4EJ91PMwNI0pchkDw8ljwG/hdwI5ti"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 414], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 414], ["account_id", 1108], ["role", "admin"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1108/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:14:02 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1108"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 414]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1108]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1108], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.8ms)
Completed 200 OK in 24ms (Views: 0.8ms | ActiveRecord: 3.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$A93XG2L4LmZJ5Vmd4ceekOvBck.2Davc6YMzdyyXo8pOmVk4..YrW"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 415], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 415], ["account_id", 1109], ["role", "admin"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 415]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$SPoJBb4xXXds/4GwDCXqWOtakgZFZrAhXxOeIYPGWItEOTAmI6Wda"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 416], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 416], ["account_id", 1110], ["role", "admin"], ["created_at", 2017-03-07 17:14:02 UTC], ["updated_at", 2017-03-07 17:14:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:15:09 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.43ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:15:09 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.25ms)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:15:09 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.08ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:15:09 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$seE55gSwUvQIL4L6V1EpOuj3mAnAKGZJVTdU1md0MZPfjP5WPCJkC"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 417], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 417], ["account_id", 1117], ["role", "admin"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 201 Created in 67ms (Views: 2.9ms | ActiveRecord: 11.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:15:09 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$xZ1gvpQiYLAZERv8XOfMxeytVYOMOcbIMdxiqLwYzurTEBvb2bu.6"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 418], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 418], ["account_id", 1118], ["role", "admin"], ["created_at", 2017-03-07 17:15:09 UTC], ["updated_at", 2017-03-07 17:15:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:15:09 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$XG5SUq5Cf38vMiG8jTSjQ.CVZy4ytHsp8sa3AvdnMMriZFVIKGsV."], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 419], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 419], ["account_id", 1119], ["role", "admin"], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1119/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:15:10 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1119"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 419]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1119]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1119], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.87ms)
Completed 200 OK in 24ms (Views: 0.9ms | ActiveRecord: 3.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$iqQRcMnvjVjuPRD6WA5sKOs.lCZtiYzDJp3N.Q8WWbJRgFthDbt8i"], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 420], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 420], ["account_id", 1120], ["role", "admin"], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 420]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$738W1vBmKOj/FjDXyhUB8eAILGjvDuUBnGqks4BmRQyFiNbOHW3xu"], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 421], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 421], ["account_id", 1121], ["role", "admin"], ["created_at", 2017-03-07 17:15:10 UTC], ["updated_at", 2017-03-07 17:15:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:17:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.36ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:17:43 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.25ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:17:43 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.41ms)
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:17:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Egn6YFyaKVK1UzDTGMv9Q.jEu.qqsnpXCVwUMe.gFy4xBbQbPOmUi"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 422], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 422], ["account_id", 1128], ["role", "admin"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 66ms (Views: 1.7ms | ActiveRecord: 11.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:17:43 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$qHkqXcM9qoHf7qPPIHRXwu/yLeUnjt9vuweE11PGkrSbPIYeCg7GW"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 423], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 423], ["account_id", 1129], ["role", "admin"], ["created_at", 2017-03-07 17:17:43 UTC], ["updated_at", 2017-03-07 17:17:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:17:43 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 401ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$H3ksujEhpsWuD8YOJ8XTh.HK1TMDaWlrxe6m0gW13GXAXe19ItgcW"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 424], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 424], ["account_id", 1130], ["role", "admin"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1130/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:17:44 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1130"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 424]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1130]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1130], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.87ms)
Completed 200 OK in 25ms (Views: 0.9ms | ActiveRecord: 3.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$LuH5bfnPcStBikmFBhzejuu32jxxV/JvUIrJs74lmf07I8s7wPECW"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 425], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 425], ["account_id", 1131], ["role", "admin"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1131/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:17:44 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1131"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 425]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1131]]
[active_model_serializers]   [1m[36mTax Load (0.4ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1131], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.98ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$ETGVkCOogB3JVUetMnNRpuVsBsNV6foE7VVFcURqFDHJdygIbbA4C"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 426], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 426], ["account_id", 1132], ["role", "admin"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 426]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bS4nAt3LqJGmaXyDhsfdLuzw2XXOdvXiUqAAcECFW0zo8cfVrGaR2"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 427], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 427], ["account_id", 1133], ["role", "admin"], ["created_at", 2017-03-07 17:17:44 UTC], ["updated_at", 2017-03-07 17:17:44 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.29ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.41ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.56ms)
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$K4qUNFv9zzDJEELG/M4YmuKB02bujPfAOe0Uh1VVYr67ezdNiu8B2"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 428], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 428], ["account_id", 1140], ["role", "admin"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 52ms (Views: 1.5ms | ActiveRecord: 9.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$ygbCYk.4TwSz2r3lzyiM9.wp.EEMRRW72uefOnQw6VQBEK/5eC08S"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 429], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 429], ["account_id", 1141], ["role", "admin"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Gcgt0BVt.vxtu1jhotKABe7.yujQ1S4GSigtJUtP08o99fRVNUQ5i"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 430], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 430], ["account_id", 1142], ["role", "admin"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1142/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1142"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 430]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1142]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1142], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.88ms)
Completed 200 OK in 24ms (Views: 0.9ms | ActiveRecord: 3.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$awO2jmoXsEyPhe/lNDCliuqSA7rybZceBLxjg0AjrPbfpRTduNWcO"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 431], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 431], ["account_id", 1143], ["role", "admin"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1143/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:21:29 +0000
Processing by TaxesController#create as HTML
  Parameters: {"taxes"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1143"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 431]]
Completed 400 Bad Request in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$2Khbr8uKv69YOOrNZam75unHSpSil1wTg7sqzGGl3ks9MDoSPLC5."], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 432], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 432], ["account_id", 1144], ["role", "admin"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 432]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Y5iqxxk57Jvc.jAn4oyOAOP0ewKxYeWwPJ7H0ibZeqZwVSDQ.Jj7i"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 433], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 433], ["account_id", 1145], ["role", "admin"], ["created_at", 2017-03-07 17:21:29 UTC], ["updated_at", 2017-03-07 17:21:29 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.3ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.16ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.26ms)
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$SJ0KcQWmT7nVjD7Pbg3JEuQVpTdRwkWDbMFv/3YUNXG59kAh6HcVy"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 434], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 434], ["account_id", 1152], ["role", "admin"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.29ms)
Completed 201 Created in 59ms (Views: 1.8ms | ActiveRecord: 10.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$8a50MvHAtLCdvHSd8EWKEuzaY0ky7kiAuY3zoOdJ5X4FA0htbiiru"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 435], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 435], ["account_id", 1153], ["role", "admin"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 432ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Z6/v0nTn3KbV4vAztRQSHOCEDxQ1KqV4fvnEz4jGdoc6Y/ViWGPX2"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 436], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 436], ["account_id", 1154], ["role", "admin"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1154/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1154"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 436]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1154]]
[active_model_serializers]   [1m[36mTax Load (0.4ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1154], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 26ms (Views: 1.2ms | ActiveRecord: 4.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$xkOAx8rNbJ93DmRlZe43I.apOloGlXOBh7oT5ULNMbL2IkmYBZ2Q2"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 437], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 437], ["account_id", 1155], ["role", "admin"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1155/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:21:49 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1155"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 437], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 437]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1155], ["LIMIT", 1]]
  [1m[35mSQL (8.3ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fc17c31b060,'0.175E2',18(27)>], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC], ["account_id", 1155]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.45ms)
Completed 200 OK in 31ms (Views: 5.2ms | ActiveRecord: 11.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$vZmR.v4ZI/8jQLr11.UQQeIDZU4dg6jbvFdgz3ceaEvRzsRFGvUd2"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 438], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 438], ["account_id", 1156], ["role", "admin"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 438]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$tddpwGY3pYabTePGc1pX/.5fXUddbiliFTL74Y5l8vqfPWd4AWRUu"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 439], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 439], ["account_id", 1157], ["role", "admin"], ["created_at", 2017-03-07 17:21:49 UTC], ["updated_at", 2017-03-07 17:21:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:22:07 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.39ms)
Completed 200 OK in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:22:07 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.46ms)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:22:07 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.04ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:22:07 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$5WGauRblhlEZ4LlG/PwJpOB1iyBC/eapfoZrT9FJMBtVBekfaeHiC"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 440], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 440], ["account_id", 1164], ["role", "admin"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.22ms)
Completed 201 Created in 66ms (Views: 1.7ms | ActiveRecord: 9.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:22:07 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$4wGgJ3tRrx6ZMZWJbK.QnOehSYpZl39pnJ5v.dTq8M/fck5ddm.6K"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 441], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 441], ["account_id", 1165], ["role", "admin"], ["created_at", 2017-03-07 17:22:07 UTC], ["updated_at", 2017-03-07 17:22:07 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.25ms)
Completed 201 Created in 11ms (Views: 0.6ms | ActiveRecord: 2.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:22:07 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 414ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$rJeKp1tO8nek.onGiSdsuOmVGDwE6UwqVuHFAkyoV.HfSONLTe1dC"], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 442], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 442], ["account_id", 1166], ["role", "admin"], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1166/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:22:08 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1166"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 442]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1166]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1166], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.89ms)
Completed 200 OK in 28ms (Views: 0.9ms | ActiveRecord: 3.5ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$aE7dBY.OY.FN5AJxCCLTaOwC.gm.xeU3wDnBxuEl57ttlkFbR9dBO"], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 443], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 443], ["account_id", 1167], ["role", "admin"], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1167/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:22:08 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1167"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 443]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1167], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7f812cbf1620,'0.175E2',18(27)>], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC], ["account_id", 1167]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.4ms)
Completed 200 OK in 23ms (Views: 3.7ms | ActiveRecord: 4.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$H7Pmu5a1NG3VgIulFae6PORfuiPw30NcGjJR9iX06QRluD5sF1Cr."], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 444], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 444], ["account_id", 1168], ["role", "admin"], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 444]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$z3aNCD7zMC/r390.WD3XVOUZ6j//6S7p.yzqnH9GjGYyT5WEkKetO"], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 445], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 445], ["account_id", 1169], ["role", "admin"], ["created_at", 2017-03-07 17:22:08 UTC], ["updated_at", 2017-03-07 17:22:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.63ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.18ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.07ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$AnIUi.AmNa3jXM.Ix6beRuFwSlHAjG5BNwq8XVYtwXiUwdLHoxsOS"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 446], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 446], ["account_id", 1176], ["role", "admin"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 67ms (Views: 1.7ms | ActiveRecord: 11.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$CkDCGI7QxIKR3b7wXKyxJebgm40kHMx7C5S1QPwHbrIZaE0cFwH/i"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 447], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 447], ["account_id", 1177], ["role", "admin"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 10ms (Views: 0.6ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 409ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$e5yXo6p.TAbNbea.Y0ntlOHC1DPX549fGFc7m.wfCsqrA.IRMgM4i"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 448], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 448], ["account_id", 1178], ["role", "admin"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1178/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1178"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 448], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 448]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1178]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1178], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.93ms)
Completed 200 OK in 24ms (Views: 1.0ms | ActiveRecord: 3.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$n6G1aECYmp5ztfiwWtyC1e4m/jxLkDBvxR2IMAk5rGYOP0fPCUj6O"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 449], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 449], ["account_id", 1179], ["role", "admin"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1179/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:23:40 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1179"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 449]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1179], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fa24b83b590,'0.175E2',18(27)>], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC], ["account_id", 1179]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.4ms)
Completed 200 OK in 22ms (Views: 4.0ms | ActiveRecord: 4.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qGywHUkyzgMGxpEVYTSA6uthD.N5Z7mTGH9z9/yPaWmwJtsdRxavq"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 450], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 450], ["account_id", 1180], ["role", "admin"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 450]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$zXw5mUkORGsgu.O.6qsITulw5cl53M9JETK/TrfGS37lvMRVrpwlm"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 451], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 451], ["account_id", 1181], ["role", "admin"], ["created_at", 2017-03-07 17:23:40 UTC], ["updated_at", 2017-03-07 17:23:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.31ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.38ms)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.58ms)
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$2QfY9yPkpPt918dPv6fsuup41h/P3Jx1RbQLMCO5T6PKIQkVzOB2a"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 452], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 452], ["account_id", 1188], ["role", "admin"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.33ms)
Completed 201 Created in 62ms (Views: 2.3ms | ActiveRecord: 13.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$9dnI8Qloi56Tu9yFJhd9ouxaIvicwImRk8M4F1P8Lg4lxH2ykHcaK"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 453], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 453], ["account_id", 1189], ["role", "admin"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 201 Created in 10ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 438ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$S1xy9gseXDXewggbZLV/8eXnpRCgJ5156wJV3py58eudLmWt1Drv6"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 454], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 454], ["account_id", 1190], ["role", "admin"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1190/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1190"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 454]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1190]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1190], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.85ms)
Completed 200 OK in 24ms (Views: 0.8ms | ActiveRecord: 3.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$hCnd.x9tZQwTEizGMYGOROX/91rp01mYA/bKPFd573zOoBYDpSDvK"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 455], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 455], ["account_id", 1191], ["role", "admin"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1191/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:24:01 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1191"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 455]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1191], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fac6b96f888,'0.175E2',18(27)>], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC], ["account_id", 1191]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.4ms)
Completed 200 OK in 22ms (Views: 3.9ms | ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$b5Pp2Xr93FPMbrqMvjXdtOQwhvRQA9r8PJJnWntYZSbHxU25URG/m"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 456], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 456], ["account_id", 1192], ["role", "admin"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 456]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$x6QvK3QGtWdabs1iby8HkuJYy8QWIrivjGEV1BX6cF5cWgeba18qS"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 457], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 457], ["account_id", 1193], ["role", "admin"], ["created_at", 2017-03-07 17:24:01 UTC], ["updated_at", 2017-03-07 17:24:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:25:08 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.57ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-07 17:25:08 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.25ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-07 17:25:08 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.12ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:25:08 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$dUwG9iJaHUFh63P9MVoVhOMCdBh/S37FW7VrOeHcq70Oc9O1ef6pW"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 458], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 458], ["account_id", 1200], ["role", "admin"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.24ms)
Completed 201 Created in 69ms (Views: 1.7ms | ActiveRecord: 12.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:25:08 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$wPXeLj6miZuO4Y8p2CPJ6OfgKJ6sZrxt8zbSTHuZtX7quiUbVeNJq"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 459], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 459], ["account_id", 1201], ["role", "admin"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 11ms (Views: 0.5ms | ActiveRecord: 2.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-07 17:25:08 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 416ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$j/uaHeuLLSHD6.eCo8ObVuFvTzCuU.X2rvMOUubLpY/Tf8IiPL4JG"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 460], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 460], ["account_id", 1202], ["role", "admin"], ["created_at", 2017-03-07 17:25:08 UTC], ["updated_at", 2017-03-07 17:25:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1202/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:25:08 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1202"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 460]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1202]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1202], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.84ms)
Completed 200 OK in 24ms (Views: 0.9ms | ActiveRecord: 3.4ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$r5TD385n6S4/CpoOyJqtsu79ll9KqxGICJ8Gyj8DKWyMXPV0X0YGm"], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 461], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 461], ["account_id", 1203], ["role", "admin"], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1203/taxes?page=1" for 127.0.0.1 at 2017-03-07 17:25:09 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1203"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 461]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1203], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fe469ee4288,'0.175E2',18(27)>], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC], ["account_id", 1203]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.45ms)
Completed 200 OK in 22ms (Views: 4.7ms | ActiveRecord: 4.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$4xCY7JbVyh9ZG1kvxLYbrORNlDIGQ5moxXLRYB0JAtkb77x35K/ZC"], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 462], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 462], ["account_id", 1204], ["role", "admin"], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 462]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$1X6XyETkNvo1DNIxCAiPg.zXHl6AFiGBHUmvVSBbEjjVPimTTFLzK"], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 463], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 463], ["account_id", 1205], ["role", "admin"], ["created_at", 2017-03-07 17:25:09 UTC], ["updated_at", 2017-03-07 17:25:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (12.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PqdwKA4H/c80rYnAAuQ4H.6AZFYXVSqAa9FUs.Y16rYmNFbFHItFi"], ["created_at", 2017-03-08 22:00:13 UTC], ["updated_at", 2017-03-08 22:00:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (3.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 464], ["created_at", 2017-03-08 22:00:13 UTC], ["updated_at", 2017-03-08 22:00:13 UTC]]
  [1m[35mSQL (7.9ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 464], ["account_id", 1206], ["role", "admin"], ["created_at", 2017-03-08 22:00:13 UTC], ["updated_at", 2017-03-08 22:00:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1206/taxes?page=1" for 127.0.0.1 at 2017-03-08 22:00:13 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1206"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 464]]
  [1m[35m (6.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1206]]
[active_model_serializers]   [1m[36mTax Load (1.4ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1206], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.77ms)
Completed 200 OK in 43ms (Views: 6.3ms | ActiveRecord: 11.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Hsnvt164xOcjWiX1VqDwaOY3GQN5cqC9Ecd7MMzfbyFGmFW30xXRu"], ["created_at", 2017-03-08 22:00:14 UTC], ["updated_at", 2017-03-08 22:00:14 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 465], ["created_at", 2017-03-08 22:00:14 UTC], ["updated_at", 2017-03-08 22:00:14 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 465], ["account_id", 1207], ["role", "admin"], ["created_at", 2017-03-08 22:00:14 UTC], ["updated_at", 2017-03-08 22:00:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1207/taxes?page=1" for 127.0.0.1 at 2017-03-08 22:00:14 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1207"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 465]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1207], ["LIMIT", 1]]
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fb69c1cefa8,'0.175E2',18(27)>], ["created_at", 2017-03-08 22:00:14 UTC], ["updated_at", 2017-03-08 22:00:14 UTC], ["account_id", 1207]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.38ms)
Completed 200 OK in 25ms (Views: 4.5ms | ActiveRecord: 5.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Y2E8//4Sjq9r6oAcr6ezNuXQvLtSk2QqjtiU1pOhm1D31QEcogDvy"], ["created_at", 2017-03-08 22:16:56 UTC], ["updated_at", 2017-03-08 22:16:56 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 466], ["created_at", 2017-03-08 22:16:56 UTC], ["updated_at", 2017-03-08 22:16:56 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 466], ["account_id", 1208], ["role", "admin"], ["created_at", 2017-03-08 22:16:56 UTC], ["updated_at", 2017-03-08 22:16:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$yrlqGRJUgqVSXs.hmvJGAetJXfXgl0kIlCrFfbqVRSixyArzsrVYK"], ["created_at", 2017-03-08 22:18:57 UTC], ["updated_at", 2017-03-08 22:18:57 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 467], ["created_at", 2017-03-08 22:18:57 UTC], ["updated_at", 2017-03-08 22:18:57 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 467], ["account_id", 1209], ["role", "admin"], ["created_at", 2017-03-08 22:18:57 UTC], ["updated_at", 2017-03-08 22:18:57 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$ypJtar6cxXAopVE/8ywUiOEW/2HnMA..Euhx4bQrXfUcQZBCX9ciG"], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 468], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 468], ["account_id", 1210], ["role", "admin"], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (5.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1210], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:10 UTC], ["updated_at", 2017-03-08 22:19:10 UTC], ["account_id", 1210]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1210/invoices" for 127.0.0.1 at 2017-03-08 22:19:10 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"1", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"2", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"3", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"4", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"5", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"6", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"7", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"8", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"9", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"10", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}], "tenant_id"=>"1210"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 468]]
Completed 400 Bad Request in 17ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$tPQ6yOte6imeUEISo3eJQ.EOQ5nTOVyszcRjiAb0w7t.Y/4mZ7PNG"], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 469], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 469], ["account_id", 1211], ["role", "admin"], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1211], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:19:28 UTC], ["updated_at", 2017-03-08 22:19:28 UTC], ["account_id", 1211]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1211/invoices" for 127.0.0.1 at 2017-03-08 22:19:28 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"11", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"12", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"13", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"14", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"15", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"16", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"17", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"18", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"19", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"20", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1211"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 469]]
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: invvoice_date
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$iYb/0sok21jRt654B0enSu51QIidnVrji1a6UFat6AtheXtFiaMDe"], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 470], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 470], ["account_id", 1212], ["role", "admin"], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1212], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:19 UTC], ["updated_at", 2017-03-08 22:29:19 UTC], ["account_id", 1212]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1212/invoices" for 127.0.0.1 at 2017-03-08 22:29:19 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"21", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"22", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"23", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"24", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"25", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"26", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"27", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"28", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"29", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"30", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1212"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 470]]
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: invvoice_date
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$WEOHmg2jL3kyW9QqmRIYxu9tSLvYcETUfjZGX/70V3Chb4lH2uhxu"], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 471], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 471], ["account_id", 1213], ["role", "admin"], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1213], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:29:43 UTC], ["updated_at", 2017-03-08 22:29:43 UTC], ["account_id", 1213]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1213/invoices" for 127.0.0.1 at 2017-03-08 22:29:43 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"31", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"32", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"33", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"34", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"35", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"36", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"37", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"38", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"39", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"40", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1213"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 471], ["LIMIT", 1]]
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 471]]
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: invvoice_date
Completed 500 Internal Server Error in 51ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$25xnFxI4IX1uZCECt1/vn.wse8FH6UgiJvZd3yZsutASGEEt.EVtS"], ["created_at", 2017-03-08 22:33:01 UTC], ["updated_at", 2017-03-08 22:33:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 472], ["created_at", 2017-03-08 22:33:01 UTC], ["updated_at", 2017-03-08 22:33:01 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 472], ["account_id", 1214], ["role", "admin"], ["created_at", 2017-03-08 22:33:01 UTC], ["updated_at", 2017-03-08 22:33:01 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1214], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:02 UTC], ["updated_at", 2017-03-08 22:33:02 UTC], ["account_id", 1214]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1214/invoices" for 127.0.0.1 at 2017-03-08 22:33:02 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"41", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"42", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"43", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"44", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"45", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"46", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"47", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"48", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"49", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"50", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1214"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 472]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
Completed 500 Internal Server Error in 65ms (ActiveRecord: 8.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$.JOyZjpO0sLHzkTS/EtHQ.26K55OVIcFcrv2WDmwstSGuizqYQT.q"], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 473], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 473], ["account_id", 1215], ["role", "admin"], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:24 UTC], ["updated_at", 2017-03-08 22:33:24 UTC], ["account_id", 1215]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1215/invoices" for 127.0.0.1 at 2017-03-08 22:33:24 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"51", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"52", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"53", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"54", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"55", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"56", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"57", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"58", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"59", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"60", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1215"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 473]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1215], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 422 Unprocessable Entity in 544ms (Views: 5.3ms | ActiveRecord: 10.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$C9nxAdFZawLVL8DLzp/n4.hUkdDYB.SNtwI1NKAo1SePFeP109nlu"], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 474], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 474], ["account_id", 1216], ["role", "admin"], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:33:47 UTC], ["updated_at", 2017-03-08 22:33:47 UTC], ["account_id", 1216]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1216/invoices" for 127.0.0.1 at 2017-03-08 22:33:47 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"61", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"62", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"63", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"64", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"65", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"66", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"67", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"68", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"69", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"70", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1216"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 474]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1216], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 422 Unprocessable Entity in 528ms (Views: 4.3ms | ActiveRecord: 10.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$iBJWbCMdukwcoSdoXiYBeuveF.dQ7CiZRaP/cI4twlT/C4uXn7eOO"], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 475], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 475], ["account_id", 1217], ["role", "admin"], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:34:04 UTC], ["updated_at", 2017-03-08 22:34:04 UTC], ["account_id", 1217]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1217/invoices" for 127.0.0.1 at 2017-03-08 22:34:04 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"71", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"72", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"73", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"74", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"75", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"76", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"77", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"78", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"79", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"80", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1217"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 475]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1217], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 422 Unprocessable Entity in 529ms (Views: 5.4ms | ActiveRecord: 11.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$gOa86mC7qoHLazt2UkkJmuYK.fq.G8gR9CCcMnyBhKAnIDDD2CD22"], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 476], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 476], ["account_id", 1218], ["role", "admin"], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:06 UTC], ["updated_at", 2017-03-08 22:35:06 UTC], ["account_id", 1218]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1218/invoices" for 127.0.0.1 at 2017-03-08 22:35:06 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"81", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"82", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"83", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"84", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"85", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"86", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"87", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"88", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"89", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"90", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1218"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 476]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1218], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 543ms (Views: 5.0ms | ActiveRecord: 10.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$mDKEIfQEji/ZF4MdA81wk.OzSmdU/Vs.dyIAvPeoojYs7apPrYzVu"], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 477], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 477], ["account_id", 1219], ["role", "admin"], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:35:21 UTC], ["updated_at", 2017-03-08 22:35:21 UTC], ["account_id", 1219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1219/invoices" for 127.0.0.1 at 2017-03-08 22:35:21 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"91", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"92", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"93", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"94", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"95", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"96", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"97", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"98", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"99", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"100", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1219"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 477], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 477]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1219], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 422 Unprocessable Entity in 526ms (Views: 4.6ms | ActiveRecord: 11.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qIcqed6yakHsToa1cb1MdOz7SHrsyenaA23/N7G4G2jtXzY8FMTQG"], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 478], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 478], ["account_id", 1220], ["role", "admin"], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:11 UTC], ["updated_at", 2017-03-08 22:38:11 UTC], ["account_id", 1220]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1220/invoices" for 127.0.0.1 at 2017-03-08 22:38:11 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"101", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"102", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"103", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"104", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"105", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"106", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"107", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"108", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"109", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"110", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1220"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 478]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1220], ["LIMIT", 1]]
  [1m[36mProduct Load (2.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 422 Unprocessable Entity in 672ms (Views: 4.4ms | ActiveRecord: 15.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$YHDHMAiQ0/gJnzdH8H5SN.32ucGhQWs1X0nnMYh//OeCk5Z6kYj.2"], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 479], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 479], ["account_id", 1221], ["role", "admin"], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:38:26 UTC], ["updated_at", 2017-03-08 22:38:26 UTC], ["account_id", 1221]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1221/invoices" for 127.0.0.1 at 2017-03-08 22:38:26 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"111", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"112", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"113", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"114", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"115", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"116", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"117", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"118", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"119", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"120", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1221"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 479]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1221], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 512ms (Views: 3.6ms | ActiveRecord: 10.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$9727QfAFjrhVJfrvddw0cOD7yEBEdii2SAF1xpL1n3fYPLPhtcucu"], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (1.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 480], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 480], ["account_id", 1222], ["role", "admin"], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:41:14 UTC], ["updated_at", 2017-03-08 22:41:14 UTC], ["account_id", 1222]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1222/invoices" for 127.0.0.1 at 2017-03-08 22:41:14 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"121", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"122", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"123", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"124", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"125", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"126", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"127", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"128", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"129", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"130", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1222"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 480], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 480]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1222], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.23ms)
Completed 422 Unprocessable Entity in 537ms (Views: 4.4ms | ActiveRecord: 10.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$tfA0EiSstu3VqYANYD0hsuQhjy3wX/iYjJdHc6/IutmHFY/PJzPZi"], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 481], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 481], ["account_id", 1223], ["role", "admin"], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (8.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:43:58 UTC], ["updated_at", 2017-03-08 22:43:58 UTC], ["account_id", 1223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1223/invoices" for 127.0.0.1 at 2017-03-08 22:43:58 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"131", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"132", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"133", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"134", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"135", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"136", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"137", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"138", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"139", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"140", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1223"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 481]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1223], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 422 Unprocessable Entity in 529ms (Views: 3.9ms | ActiveRecord: 10.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$FaYcTHT5MUyb/Y48bzOVp.51Xln3o6H4Tb8DvOFnyi3bpmeFJgvXG"], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 482], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 482], ["account_id", 1224], ["role", "admin"], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:11 UTC], ["updated_at", 2017-03-08 22:44:11 UTC], ["account_id", 1224]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1224/invoices" for 127.0.0.1 at 2017-03-08 22:44:11 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"141", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"142", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"143", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"144", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"145", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"146", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"147", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"148", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"149", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"150", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1224"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 482]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1224], ["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 543ms (Views: 4.0ms | ActiveRecord: 12.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$tUgJFDsImSGXMQUIsY65AOYu1mBqsGC0BN000zsU2QrmLtY1ohGti"], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 483], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 483], ["account_id", 1225], ["role", "admin"], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:44:58 UTC], ["updated_at", 2017-03-08 22:44:58 UTC], ["account_id", 1225]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1225/invoices" for 127.0.0.1 at 2017-03-08 22:44:58 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"151", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"152", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"153", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"154", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"155", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"156", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"157", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"158", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"159", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"160", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1225"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 483]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1225], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 153], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 159], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 507ms (Views: 4.0ms | ActiveRecord: 10.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lZMAGHhoJfgANwcI749yOuETqNHE4hU71HPUuY/Ru//pG8iy4y/Ia"], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 484], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 484], ["account_id", 1226], ["role", "admin"], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:45:14 UTC], ["updated_at", 2017-03-08 22:45:14 UTC], ["account_id", 1226]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1226/invoices" for 127.0.0.1 at 2017-03-08 22:45:14 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"161", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"162", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"163", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"164", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"165", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"166", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"167", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"168", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"169", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"170", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1226"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 484]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1226], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 422 Unprocessable Entity in 518ms (Views: 3.7ms | ActiveRecord: 10.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$SoimytaojufFJYwQJiZGWOlHBygl94EVeOjlxvZ/ye2cLAF0980sq"], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 485], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 485], ["account_id", 1227], ["role", "admin"], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:49:18 UTC], ["updated_at", 2017-03-08 22:49:18 UTC], ["account_id", 1227]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1227/invoices" for 127.0.0.1 at 2017-03-08 22:49:18 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"171", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"172", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"173", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"174", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"175", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"176", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"177", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"178", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"179", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"180", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1227"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 485]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1227], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 422 Unprocessable Entity in 557ms (Views: 4.3ms | ActiveRecord: 10.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$D5w4Zkky1l2sv7iIKIFyDOoQulmnqMB0UUOHhxEo7vK1mdy3.ZLqG"], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 486], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 486], ["account_id", 1228], ["role", "admin"], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:03 UTC], ["updated_at", 2017-03-08 22:51:03 UTC], ["account_id", 1228]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1228/invoices" for 127.0.0.1 at 2017-03-08 22:51:03 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"181", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"182", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"183", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"184", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"185", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"186", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"187", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"188", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"189", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"190", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1228"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 486]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1228], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 617ms (Views: 4.4ms | ActiveRecord: 11.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$5Eujpf5P0AbbdKWzOVUFtu//Tm4./Rxa4kpYb0aAf0YT9I.RjJw/C"], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 487], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 487], ["account_id", 1229], ["role", "admin"], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:51:31 UTC], ["updated_at", 2017-03-08 22:51:31 UTC], ["account_id", 1229]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1229/invoices" for 127.0.0.1 at 2017-03-08 22:51:31 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invvoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"191", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"192", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"193", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"194", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"195", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"196", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"197", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"198", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"199", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"200", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1229"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 487]]
Unpermitted parameters: invvoice_date, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invvoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1229], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 422 Unprocessable Entity in 524ms (Views: 4.4ms | ActiveRecord: 10.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$nkuJe7OPYqtQJAQENJzZgO90qMAWZ8nni1fBbPaW1LutmHsVt/FNy"], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 488], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 488], ["account_id", 1230], ["role", "admin"], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:52:08 UTC], ["updated_at", 2017-03-08 22:52:08 UTC], ["account_id", 1230]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1230/invoices" for 127.0.0.1 at 2017-03-08 22:52:08 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"201", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"202", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"203", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"204", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"205", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"206", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"207", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"208", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"209", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"210", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1230"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 488]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1230], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 210], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 536ms (Views: 4.5ms | ActiveRecord: 10.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qDsEwUSrphgmWavYZUhsh.Lb38knzcCOVgtEWEYQFG7tfe1p420ce"], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (2.0ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 489], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 489], ["account_id", 1231], ["role", "admin"], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC], ["account_id", 1231]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 22:59:43 UTC], ["updated_at", 2017-03-08 22:59:43 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1231/invoices" for 127.0.0.1 at 2017-03-08 22:59:43 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency"=>"#<Currency:0x007fd4173f6ab8>", "client"=>"#<Client:0x007fd416126780>", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"211", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"212", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"213", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"214", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"215", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"216", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"217", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"218", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"219", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"220", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1231"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 489]]
Unpermitted parameters: currency, client, invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency, client, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1231], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 422 Unprocessable Entity in 536ms (Views: 4.1ms | ActiveRecord: 10.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$ZV5txfQY9bmPaa37ufdzvOCSoV7aTDolc.JQbcOdxwb1vO89/1zEe"], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 490], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 490], ["account_id", 1232], ["role", "admin"], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:27 UTC], ["updated_at", 2017-03-08 23:00:27 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:28 UTC], ["updated_at", 2017-03-08 23:00:28 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:28 UTC], ["updated_at", 2017-03-08 23:00:28 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:28 UTC], ["updated_at", 2017-03-08 23:00:28 UTC], ["account_id", 1232]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:00:28 UTC], ["updated_at", 2017-03-08 23:00:28 UTC], ["account_id", 1232]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:00:28 UTC], ["updated_at", 2017-03-08 23:00:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1232/invoices" for 127.0.0.1 at 2017-03-08 23:00:28 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"2", "client_id"=>nil, "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"221", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"222", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"223", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"224", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"225", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"226", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"227", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"228", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"229", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"230", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1232"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 490]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1232], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 422 Unprocessable Entity in 534ms (Views: 4.1ms | ActiveRecord: 11.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$NJcVLEtExY2K0FE0meIxiOz5.puKg4VK.7F6JVVlBP6Wx3cJygvbK"], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 491], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 491], ["account_id", 1233], ["role", "admin"], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC], ["account_id", 1233]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:01:55 UTC], ["updated_at", 2017-03-08 23:01:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (7.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Started POST "/1233/invoices" for 127.0.0.1 at 2017-03-08 23:01:56 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"3", "client_id"=>nil, "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"231", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"232", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"233", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"234", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"235", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"236", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"237", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"238", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"239", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"240", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1233"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 491]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1233], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.5ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 422 Unprocessable Entity in 85ms (Views: 3.8ms | ActiveRecord: 10.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$rZz.nQ2cKuVmK37SKCV2xu2LQBqDj6i2kjQcQo2k9qX.iPWdRYo4y"], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 492], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 492], ["account_id", 1234], ["role", "admin"], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1234], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC], ["account_id", 1234]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:02:20 UTC], ["updated_at", 2017-03-08 23:02:20 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$DOEgMSCedA9yZxl4laR74OCKJQ6FthkT.GVdMvzaJTikAgg.jcOUS"], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 493], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 493], ["account_id", 1235], ["role", "admin"], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1235], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC], ["account_id", 1235]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:02:46 UTC], ["updated_at", 2017-03-08 23:02:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$55KVgCQmYyiBwLF4XLJAN.1lvMFcjsq8hW1lyhQ7p2cQK48MYBhdy"], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 494], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 494], ["account_id", 1236], ["role", "admin"], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[35mSQL (7.5ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:04:04 UTC], ["updated_at", 2017-03-08 23:04:04 UTC], ["account_id", 1236]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1236/invoices" for 127.0.0.1 at 2017-03-08 23:04:04 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"6", "client_id"=>"1", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"261", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"262", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"263", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"264", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"265", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"266", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"267", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"268", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"269", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"270", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1236"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 494], ["LIMIT", 1]]
  [1m[36mAccount Load (2.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 494]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1236], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 422 Unprocessable Entity in 541ms (Views: 4.0ms | ActiveRecord: 13.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$cPwgY9mqysTSPHPXr6T4ueRbgnpESs9B6QFt3mMdFVDXH6UU66O0."], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 495], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 495], ["account_id", 1237], ["role", "admin"], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:04:49 UTC], ["updated_at", 2017-03-08 23:04:49 UTC], ["account_id", 1237]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1237/invoices" for 127.0.0.1 at 2017-03-08 23:04:49 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"7", "client_id"=>"2", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"271", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"272", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"273", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"274", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"275", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"276", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"277", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"278", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"279", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"280", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1237"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 495], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 495]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1237], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.5ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 273], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 524ms (Views: 3.9ms | ActiveRecord: 11.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$sCWrUyUD7lqa90k9faPgGOFH22v82zdSl0pCTjQunEMwQ8/XZauPm"], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 496], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 496], ["account_id", 1238], ["role", "admin"], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:05:19 UTC], ["updated_at", 2017-03-08 23:05:19 UTC], ["account_id", 1238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1238/invoices" for 127.0.0.1 at 2017-03-08 23:05:19 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"8", "client_id"=>"3", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"281", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"282", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"283", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"284", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"285", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"286", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"287", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"288", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"289", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"290", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1238"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 496], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 496]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1238], ["LIMIT", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 531ms (Views: 4.0ms | ActiveRecord: 11.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (8.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qG3Yd4Wo4xe.t/1CelrXWulX.PY9qk90uTPqR6E8TONdGFABe/z3m"], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 497], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 497], ["account_id", 1239], ["role", "admin"], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:07:09 UTC], ["updated_at", 2017-03-08 23:07:09 UTC], ["account_id", 1239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1239/invoices" for 127.0.0.1 at 2017-03-08 23:07:09 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"9", "client_id"=>"4", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"291", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"292", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"293", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"294", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"295", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"296", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"297", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"298", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"299", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"300", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1239"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 497]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1239], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.14ms)
Completed 422 Unprocessable Entity in 537ms (Views: 5.5ms | ActiveRecord: 13.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$wiDpFZ4rfOokHqMqY9O8guaT8tVn0rygn1Sq9cOc73//mgzuK1m.e"], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 498], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 498], ["account_id", 1240], ["role", "admin"], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:12:55 UTC], ["updated_at", 2017-03-08 23:12:55 UTC], ["account_id", 1240]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1240/invoices" for 127.0.0.1 at 2017-03-08 23:12:55 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"10", "client_id"=>"5", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"301", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"302", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"303", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"304", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"305", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"306", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"307", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"308", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"309", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"310", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1240"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 498]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1240], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 309], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 422 Unprocessable Entity in 589ms (Views: 4.2ms | ActiveRecord: 12.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (4.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$u72gMPFZVv6PER8sz/B1DeLnNF0DXnSQC/b4pb/Y8FMSAvr8VVEri"], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 499], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 499], ["account_id", 1241], ["role", "admin"], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:17:09 UTC], ["updated_at", 2017-03-08 23:17:09 UTC], ["account_id", 1241]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1241/invoices" for 127.0.0.1 at 2017-03-08 23:17:09 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"11", "client_id"=>"6", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"311", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"312", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"313", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"314", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"315", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"316", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"317", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"318", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"319", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"320", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1241"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 499]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1241], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 313], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 317], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 422 Unprocessable Entity in 565ms (Views: 4.4ms | ActiveRecord: 11.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$oT/F3B58hsu0dhZEiLVKSe6GJcNG2knBLXKTYnFIELVk7UIDztdDq"], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 500], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 500], ["account_id", 1242], ["role", "admin"], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:18:09 UTC], ["updated_at", 2017-03-08 23:18:09 UTC], ["account_id", 1242]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1242/invoices" for 127.0.0.1 at 2017-03-08 23:18:09 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"12", "client_id"=>"7", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"321", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"322", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"323", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"324", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"325", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"326", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"327", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"328", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"329", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"330", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1242"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 500], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 500]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1242], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 324], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 330], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 422 Unprocessable Entity in 574ms (Views: 3.9ms | ActiveRecord: 12.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$qxfgnw6oLmAq6ajkN.EvhOpReRmLxuO/oIe4nowBw8JjfPIY91elW"], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 501], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 501], ["account_id", 1243], ["role", "admin"], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1243], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:46:09 UTC], ["updated_at", 2017-03-08 23:46:09 UTC], ["account_id", 1243]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$bIkSm2qqQzc45VIiBapfaey5JPyObJ5dkdrqO3tO1CIdvJv3ml4hS"], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 502], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 502], ["account_id", 1244], ["role", "admin"], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:46:42 UTC], ["updated_at", 2017-03-08 23:46:42 UTC], ["account_id", 1244]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1244/invoices" for 127.0.0.1 at 2017-03-08 23:46:42 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"14", "client_id"=>"9", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"341", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"342", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"343", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"344", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"345", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"346", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"347", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"348", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"349", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"350", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1244"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 502]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1244], ["LIMIT", 1]]
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.5ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 343], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 349], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.15ms)
Completed 422 Unprocessable Entity in 531ms (Views: 5.9ms | ActiveRecord: 10.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$mybhlOdEPaXt3uvq63qHdehjPQXj6ssA9USQpAk45i3tT/y1phu.2"], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 503], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 503], ["account_id", 1245], ["role", "admin"], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:48:46 UTC], ["updated_at", 2017-03-08 23:48:46 UTC], ["account_id", 1245]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1245/invoices" for 127.0.0.1 at 2017-03-08 23:48:46 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"15", "client_id"=>"10", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"351", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"352", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"353", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"354", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"355", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"356", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"357", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"358", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"359", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"360", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1245"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 503]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1245], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 351], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 353], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 357], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 359], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 360], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 518ms (Views: 4.1ms | ActiveRecord: 11.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$P6C.qHja9AKEr2AqA55NsODbog88JzvQtaxRfUmW8wzg4WUMKGYxC"], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 504], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 504], ["account_id", 1246], ["role", "admin"], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:49:13 UTC], ["updated_at", 2017-03-08 23:49:13 UTC], ["account_id", 1246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1246/invoices" for 127.0.0.1 at 2017-03-08 23:49:13 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"16", "client_id"=>"11", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"361", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"362", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"363", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"364", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"365", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"366", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"367", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"368", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"369", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"370", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1246"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 504]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1246], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 361], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 362], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 370], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 522ms (Views: 3.9ms | ActiveRecord: 12.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/BA1DCIZ2eEVnsQNThjE..kxAODEJbq2NwYisfYStkRH2KBfIiLJy"], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 505], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 505], ["account_id", 1247], ["role", "admin"], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:50:53 UTC], ["updated_at", 2017-03-08 23:50:53 UTC], ["account_id", 1247]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1247/invoices" for 127.0.0.1 at 2017-03-08 23:50:53 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"17", "client_id"=>"12", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"371", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"372", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"373", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"374", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"375", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"376", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"377", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"378", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"379", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"380", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1247"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 505]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1247], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 371], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 380], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 526ms (Views: 4.3ms | ActiveRecord: 12.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$CS5NT4L2qZy2IFcFf6akoub.aVci2wMbRRBnNSINSwRlpnAO5.pBW"], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 506], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 506], ["account_id", 1248], ["role", "admin"], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:52:19 UTC], ["updated_at", 2017-03-08 23:52:19 UTC], ["account_id", 1248]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1248/invoices" for 127.0.0.1 at 2017-03-08 23:52:19 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"18", "client_id"=>"13", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"381", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"382", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"383", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"384", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"385", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"386", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"387", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"388", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"389", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"390", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1248"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 506]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1248], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 381], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 382], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 386], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 387], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 388], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 389], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 540ms (Views: 4.6ms | ActiveRecord: 11.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.8ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$P5r0cwAGF6hLyugBNvTZ9OiP9wv.TB0OOsL6IJ3GJnRdgaQLeFLfO"], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 507], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 507], ["account_id", 1249], ["role", "admin"], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:54:37 UTC], ["updated_at", 2017-03-08 23:54:37 UTC], ["account_id", 1249]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1249/invoices" for 127.0.0.1 at 2017-03-08 23:54:37 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"19", "client_id"=>"14", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"391", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"392", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"393", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"394", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"395", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"396", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"397", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"398", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"399", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"400", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1249"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 507]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1249], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.6ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 391], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 394], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 395], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 396], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 399], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 400], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.11ms)
Completed 422 Unprocessable Entity in 546ms (Views: 4.2ms | ActiveRecord: 13.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/Rr5mRFrnGxbUQOXjQjNnuoXk.MrvjMnHRlPmMzrGxlGeTk8woxQy"], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 508], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 508], ["account_id", 1250], ["role", "admin"], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:56:01 UTC], ["updated_at", 2017-03-08 23:56:01 UTC], ["account_id", 1250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1250/invoices" for 127.0.0.1 at 2017-03-08 23:56:01 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"20", "client_id"=>"15", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"401", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"402", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"403", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"404", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"405", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"406", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"407", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"408", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"409", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"410", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1250"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  [1m[36mAccount Load (1.2ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 508]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1250], ["LIMIT", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 402], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 404], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 405], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 406], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 408], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 422 Unprocessable Entity in 516ms (Views: 4.6ms | ActiveRecord: 12.7ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$fS1QTBX/ODTe7YrrN.Y6mu3fXBBcKJqr0.JjV.m8XXQmKn0hHcFC."], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 509], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 509], ["account_id", 1251], ["role", "admin"], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-08 23:56:24 UTC], ["updated_at", 2017-03-08 23:56:24 UTC], ["account_id", 1251]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1251/invoices" for 127.0.0.1 at 2017-03-08 23:56:24 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/08/2017", "currency_id"=>"21", "client_id"=>"16", "due_date"=>"03/19/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"411", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"412", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"413", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"414", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"415", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"416", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"417", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"418", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"419", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"420", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1251"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 509], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 509]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1251], ["LIMIT", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 417], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 524ms (Views: 4.0ms | ActiveRecord: 12.2ms)
  [1m[35m (2.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$iyc9wIapAaRSDeCUQS24jeByy82NH5OC2Xn16rv5gVt1AKuqnwbmO"], ["created_at", 2017-03-09 00:02:18 UTC], ["updated_at", 2017-03-09 00:02:18 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 510], ["created_at", 2017-03-09 00:02:18 UTC], ["updated_at", 2017-03-09 00:02:18 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 510], ["account_id", 1252], ["role", "admin"], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:02:19 UTC], ["updated_at", 2017-03-09 00:02:19 UTC], ["account_id", 1252]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1252/invoices" for 127.0.0.1 at 2017-03-09 00:02:19 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"22", "client_id"=>"17", "due_date"=>"03/20/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"421", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"422", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"423", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"424", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"425", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"426", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"427", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"428", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"429", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"430", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1252"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 510], ["LIMIT", 1]]
  [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 510]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1252], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 427], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 428], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.21ms)
Completed 422 Unprocessable Entity in 567ms (Views: 4.5ms | ActiveRecord: 13.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$rnLHpi5Ws0cwfcZfeNJQ7O341M5wd2A7zb38355v5NaGLg9IqQAuC"], ["created_at", 2017-03-09 00:03:28 UTC], ["updated_at", 2017-03-09 00:03:28 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 511], ["created_at", 2017-03-09 00:03:28 UTC], ["updated_at", 2017-03-09 00:03:28 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 511], ["account_id", 1253], ["role", "admin"], ["created_at", 2017-03-09 00:03:28 UTC], ["updated_at", 2017-03-09 00:03:28 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:03:29 UTC], ["updated_at", 2017-03-09 00:03:29 UTC], ["account_id", 1253]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1253/invoices" for 127.0.0.1 at 2017-03-09 00:03:29 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"23", "client_id"=>"18", "due_date"=>"03/20/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"431", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"432", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"433", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"434", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"435", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"436", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"437", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"438", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"439", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"440", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1253"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 511], ["LIMIT", 1]]
  [1m[36mAccount Load (1.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 511]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1253], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 435], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 437], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 438], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 439], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.1ms)
Completed 422 Unprocessable Entity in 564ms (Views: 4.6ms | ActiveRecord: 13.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$uLCHkAWGXsukKn9FAKHwJuLVMBMKUKGXpiclGvxCG59RsMw48YBhK"], ["created_at", 2017-03-09 00:04:08 UTC], ["updated_at", 2017-03-09 00:04:08 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 512], ["created_at", 2017-03-09 00:04:08 UTC], ["updated_at", 2017-03-09 00:04:08 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 512], ["account_id", 1254], ["role", "admin"], ["created_at", 2017-03-09 00:04:08 UTC], ["updated_at", 2017-03-09 00:04:08 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:04:09 UTC], ["updated_at", 2017-03-09 00:04:09 UTC], ["account_id", 1254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1254/invoices" for 127.0.0.1 at 2017-03-09 00:04:09 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"24", "client_id"=>"19", "due_date"=>"03/20/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"441", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"442", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"443", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"444", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"445", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"446", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"447", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"448", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"449", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"450", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1254"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 512], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 512]]
Unpermitted parameter: invoice_lines
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameter: description
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1254], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.7ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 444], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 448], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 422 Unprocessable Entity in 547ms (Views: 4.9ms | ActiveRecord: 12.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$o.SQN64dOplkXrqou2CyNexzHoTY3wgNPQ4FckiEZkitH8DZsWmDK"], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 513], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 513], ["account_id", 1255], ["role", "admin"], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:04:35 UTC], ["updated_at", 2017-03-09 00:04:35 UTC], ["account_id", 1255]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1255/invoices" for 127.0.0.1 at 2017-03-09 00:04:35 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"25", "client_id"=>"20", "due_date"=>"03/20/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"451", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"452", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"453", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"454", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"455", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"456", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"457", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"458", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"459", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"460", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1255"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 513], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 513]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1255], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 452], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 457], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 459], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 422 Unprocessable Entity in 509ms (Views: 4.4ms | ActiveRecord: 12.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$AJM12jCUAu/T58AOfv9zyu3iucC0cRSv/Z150Nof0rCXq5JqM5x96"], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 514], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 514], ["account_id", 1256], ["role", "admin"], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:07:06 UTC], ["updated_at", 2017-03-09 00:07:06 UTC], ["account_id", 1256]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1256/invoices" for 127.0.0.1 at 2017-03-09 00:07:06 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"26", "client_id"=>"21", "due_date"=>"03/20/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"461", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"462", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"463", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"464", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"465", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"466", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"467", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"468", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"469", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"470", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1256"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 514]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1256], ["LIMIT", 1]]
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 467], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.13ms)
Completed 422 Unprocessable Entity in 536ms (Views: 4.7ms | ActiveRecord: 14.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$4KS40V2bf9onJtew2L2rz.IBTrEgLpqV8xWvnDnekXdxOQQdvzscy"], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 515], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 515], ["account_id", 1257], ["role", "admin"], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:08:04 UTC], ["updated_at", 2017-03-09 00:08:04 UTC], ["account_id", 1257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1257/invoices" for 127.0.0.1 at 2017-03-09 00:08:04 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"27", "client_id"=>"22", "due_date"=>"03/20/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"471", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"472", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"473", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"474", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"475", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"476", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"477", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"478", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"479", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"480", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1257"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 515], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 515]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1257], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 471], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 477], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 480], ["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.09ms)
Completed 422 Unprocessable Entity in 529ms (Views: 4.5ms | ActiveRecord: 12.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$n828YSXD17NS4gDE2L8SPukvFDrjxfnEo2.i3aWFqVk.e/EofF.FO"], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 516], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 516], ["account_id", 1258], ["role", "admin"], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:08:37 UTC], ["updated_at", 2017-03-09 00:08:37 UTC], ["account_id", 1258]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1258/invoices" for 127.0.0.1 at 2017-03-09 00:08:37 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"28", "client_id"=>"23", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"481", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"482", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"483", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"484", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"485", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"486", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"487", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"488", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"489", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"490", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1258"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 516], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 516]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1258], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
Completed 500 Internal Server Error in 105ms (ActiveRecord: 11.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$N2n2qlGiZEMSwbYpzQ4gVuvw/uA9YHQAWFjQYAPLIjUMKEwOHgkEu"], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 517], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC]]
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 517], ["account_id", 1259], ["role", "admin"], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:09:40 UTC], ["updated_at", 2017-03-09 00:09:40 UTC], ["account_id", 1259]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1259/invoices" for 127.0.0.1 at 2017-03-09 00:09:40 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"29", "client_id"=>"24", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"491", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"492", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"493", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"494", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"495", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"496", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"497", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"498", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"499", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"500", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1259"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 517], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 517]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1259], ["LIMIT", 1]]
  [1m[36mClient Load (0.5ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 492], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 494], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 495], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 496], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 500], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 103ms (ActiveRecord: 11.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$Gyc76MmRzsL48MtzOODPme.PmQD9qBTPlseHv8GoptOEC2hEESLd6"], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 518], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 518], ["account_id", 1260], ["role", "admin"], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:10:31 UTC], ["updated_at", 2017-03-09 00:10:31 UTC], ["account_id", 1260]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1260/invoices" for 127.0.0.1 at 2017-03-09 00:10:31 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"30", "client_id"=>"25", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"501", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"502", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"503", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"504", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"505", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"506", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"507", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"508", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"509", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"510", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1260"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 518], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 518]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1260], ["LIMIT", 1]]
  [1m[36mClient Load (0.2ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.5ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 501], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 509], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 510], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 101ms (ActiveRecord: 11.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$GWbrsfjCciprKWkgPz2xBOEaMjocOtC9PmUzq7GBxQ3FmfHbG7G5S"], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 519], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 519], ["account_id", 1261], ["role", "admin"], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (2.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:12:24 UTC], ["updated_at", 2017-03-09 00:12:24 UTC], ["account_id", 1261]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1261/invoices" for 127.0.0.1 at 2017-03-09 00:12:24 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"31", "client_id"=>"26", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"511", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"512", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"513", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"514", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"515", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"516", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"517", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"518", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"519", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"520", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1261"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 519], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 519]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1261], ["LIMIT", 1]]
  [1m[36mClient Load (0.4ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 511], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 512], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 513], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 515], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 516], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 517], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 518], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 519], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 520], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 98ms (ActiveRecord: 11.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$0dxn5GtUDE/3GsHCqHuQpOjjT53b5fBX.VlFjl4TYHV4dSk.1Gt/y"], ["created_at", 2017-03-09 00:15:00 UTC], ["updated_at", 2017-03-09 00:15:00 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 520], ["created_at", 2017-03-09 00:15:00 UTC], ["updated_at", 2017-03-09 00:15:00 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 520], ["account_id", 1262], ["role", "admin"], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:15:01 UTC], ["updated_at", 2017-03-09 00:15:01 UTC], ["account_id", 1262]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1262/invoices" for 127.0.0.1 at 2017-03-09 00:15:01 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"32", "client_id"=>"27", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"521", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"522", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"523", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"524", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"525", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"526", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"527", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"528", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"529", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"530", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1262"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 520], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 520]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1262], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 521], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 522], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 523], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 525], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 526], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 528], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 529], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 530], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 92ms (ActiveRecord: 10.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$9n.flFYi8T4Cb2JjRmjgPeJPcKmVCLhsnAALiYMfa5JPMMVgd2ucG"], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 521], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 521], ["account_id", 1263], ["role", "admin"], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["account_id", 1263]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1263/invoices" for 127.0.0.1 at 2017-03-09 00:15:21 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"33", "client_id"=>"28", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"531", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"532", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"533", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"534", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"535", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"536", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"537", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"538", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"539", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"540", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1263"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 521], ["LIMIT", 1]]
  [1m[36mAccount Load (0.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 521]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1263], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 531], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 532], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 533], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 534], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 535], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 536], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 537], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 538], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 539], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 540], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (3.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1263]]
  [1m[35mSQL (1.6ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1263], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 28], ["currency_id", 33], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7fb56d35c6c0,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7fb56d35c580,'0.0',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC]]
  [1m[35mSQL (2.7ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 531], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56e173948,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56e1737e0,'0.0',9(18)>], ["price", #<BigDecimal:7fb56e1736f0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56f9fa458,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 532], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56cafe8c0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56cafe758,'0.0',9(18)>], ["price", #<BigDecimal:7fb56cafe5c8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56fa0b9b0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 533], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56f018390,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56f018228,'0.0',9(18)>], ["price", #<BigDecimal:7fb56f018098,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56fa7b8a0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 534], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56e0f36f8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56e0f3478,'0.0',9(18)>], ["price", #<BigDecimal:7fb56e0f3248,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56d3f7490,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 535], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56d45fbd0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56d44fe60,'0.0',9(18)>], ["price", #<BigDecimal:7fb56d44fbe0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56cabc088,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 536], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56fabaaa0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56faba938,'0.0',9(18)>], ["price", #<BigDecimal:7fb56faba690,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56d4576d8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 537], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56e0dff90,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56e0dfe50,'0.0',9(18)>], ["price", #<BigDecimal:7fb56e0df9f0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56e0f93f0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 538], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56cac5a48,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56cac57a0,'0.0',9(18)>], ["price", #<BigDecimal:7fb56cac5480,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56e10a9e8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 539], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56d40f298,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56d40f0e0,'0.0',9(18)>], ["price", #<BigDecimal:7fb56d40edc0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56e16a140,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 1], ["product_id", 540], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fb56fa91e48,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fb56fa91bc8,'0.0',9(18)>], ["price", #<BigDecimal:7fb56fa919c0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:15:21 UTC], ["updated_at", 2017-03-09 00:15:21 UTC], ["line_total", #<BigDecimal:7fb56e189ef0,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (10.5ms)
Completed 200 OK in 161ms (Views: 17.7ms | ActiveRecord: 24.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$G0fF1rcQl5Jz5l1gyLlSa.tMVgCLixX9FTRmnRtrz5.NVXjbCCpZS"], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 522], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 522], ["account_id", 1264], ["role", "admin"], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["account_id", 1264]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1264/invoices" for 127.0.0.1 at 2017-03-09 00:16:18 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"34", "client_id"=>"29", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"541", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"542", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"543", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"544", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"545", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"546", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"547", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"548", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"549", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"550", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1264"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 522], ["LIMIT", 1]]
  [1m[36mAccount Load (1.1ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 522]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1264], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 541], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 542], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 543], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 544], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 545], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 546], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 547], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 548], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 549], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 550], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1264]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1264], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 29], ["currency_id", 34], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7f8322aa2060,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7f8322aa1e08,'0.0',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 541], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f832326e988,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f832326e528,'0.0',9(18)>], ["price", #<BigDecimal:7f832326e3c0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f83219e41b0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 542], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f8323254768,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f8323254510,'0.0',9(18)>], ["price", #<BigDecimal:7f83232541a0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f83219fedf8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 543], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f8322454820,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f8322454618,'0.0',9(18)>], ["price", #<BigDecimal:7f83224544b0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f83231be3d0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 544], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f832324fd08,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f832324fa10,'0.0',9(18)>], ["price", #<BigDecimal:7f832324f880,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f83231d6700,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 545], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f83223fd228,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f83223fd138,'0.0',9(18)>], ["price", #<BigDecimal:7f83223fc710,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f832235cf80,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 546], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f832322e900,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f832322e680,'0.0',9(18)>], ["price", #<BigDecimal:7f832322e4c8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f8322374798,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 547], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f8321a3ec28,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f8321a3e9d0,'0.0',9(18)>], ["price", #<BigDecimal:7f8321a3da30,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f8322395e48,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 548], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f83223cf760,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f83223cf490,'0.0',9(18)>], ["price", #<BigDecimal:7f83223cf350,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f8323226070,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 549], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f83231ffa60,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f83231ff8d0,'0.0',9(18)>], ["price", #<BigDecimal:7f83231ff6c8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f8322b110a0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 2], ["product_id", 550], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f832239da80,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f832239d698,'0.0',9(18)>], ["price", #<BigDecimal:7f832239d440,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:16:18 UTC], ["updated_at", 2017-03-09 00:16:18 UTC], ["line_total", #<BigDecimal:7f832246fc38,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (10.41ms)
Completed 200 OK in 150ms (Views: 16.5ms | ActiveRecord: 19.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$AT/SquKPCvfxQ6.jp8iDyuZbauWSp9b1yZOImKQN47.nA0Kkw9vwa"], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 523], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 523], ["account_id", 1265], ["role", "admin"], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["account_id", 1265]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1265/invoices" for 127.0.0.1 at 2017-03-09 00:17:56 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"35", "client_id"=>"30", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"551", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"552", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"553", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"554", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"555", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"556", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"557", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"558", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"559", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"560", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1265"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 523], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 523]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1265], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 551], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 552], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 553], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 554], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 555], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 556], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 557], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 558], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 559], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 560], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1265]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1265], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 30], ["currency_id", 35], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7fbd67a40700,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7fbd67a40408,'0.0',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 551], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd671dc730,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd671dc410,'0.0',9(18)>], ["price", #<BigDecimal:7fbd66bdb8e0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67a9a188,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 552], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd66b83988,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd66b83690,'0.0',9(18)>], ["price", #<BigDecimal:7fbd66b83578,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67acb6c0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 553], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd67c03a10,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd67c037b8,'0.0',9(18)>], ["price", #<BigDecimal:7fbd67c03448,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67ad8758,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 554], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd67be0da8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd67be0a88,'0.0',9(18)>], ["price", #<BigDecimal:7fbd67be02b8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67b42338,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 555], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd66b60b68,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd66b61400,'0.0',9(18)>], ["price", #<BigDecimal:7fbd66b533a0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67b62840,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 556], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd67ba0f28,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd67ba0d70,'0.0',9(18)>], ["price", #<BigDecimal:7fbd67ba0c30,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67bcb778,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 557], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd67b788c0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd67b78690,'0.0',9(18)>], ["price", #<BigDecimal:7fbd67b78370,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd6730fa80,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 558], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd66b40520,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd66b40340,'0.0',9(18)>], ["price", #<BigDecimal:7fbd66b400e8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67c2b380,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 559], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd67b393a0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd67b391c0,'0.0',9(18)>], ["price", #<BigDecimal:7fbd67b38fe0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd66bc2098,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 3], ["product_id", 560], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbd672e56e0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbd672e5438,'0.0',9(18)>], ["price", #<BigDecimal:7fbd672e4ce0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:17:56 UTC], ["updated_at", 2017-03-09 00:17:56 UTC], ["line_total", #<BigDecimal:7fbd67315de0,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (9.96ms)
Completed 200 OK in 145ms (Views: 16.7ms | ActiveRecord: 20.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:18:01 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.8ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (3.5ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:18:01 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.84ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-09 00:18:01 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.95ms)
Completed 200 OK in 9ms (Views: 2.0ms | ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$dGmyI0GCMzUhkCO/MlWVPe6kDyMx9PwuZXIbJ6OYNgIGecHwXX0MS"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 524], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 524], ["account_id", 1272], ["role", "admin"], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:18:01 UTC], ["updated_at", 2017-03-09 00:18:01 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["account_id", 1272]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1272/invoices" for 127.0.0.1 at 2017-03-09 00:18:02 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"36", "client_id"=>"31", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"561", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"562", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"563", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"564", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"565", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"566", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"567", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"568", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"569", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"570", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1272"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  [1m[36mAccount Load (0.7ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 524]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1272], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 561], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 562], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 563], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 564], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 565], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 566], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 567], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 568], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 569], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 570], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1272]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1272], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 31], ["currency_id", 36], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7fedb776bb80,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7fedb776ba40,'0.0',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 561], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedbd080388,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedbd080270,'0.0',9(18)>], ["price", #<BigDecimal:7fedbd080130,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb83f3060,'0.6E3',9(18)>]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 562], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedbd05bbc8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedbd05bad8,'0.0',9(18)>], ["price", #<BigDecimal:7fedbd05b9e8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb83d94a8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 563], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedbd051600,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedbd0513a8,'0.0',9(18)>], ["price", #<BigDecimal:7fedbd051128,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb83c8900,'0.6E3',9(18)>]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 564], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedbd0482f8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedbd0481b8,'0.0',9(18)>], ["price", #<BigDecimal:7fedbd0480c8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb83c17e0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 565], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedb7bba8d0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedb7bba768,'0.0',9(18)>], ["price", #<BigDecimal:7fedb7bba628,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb83b0008,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 566], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedb7bb0920,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedb7bb0740,'0.0',9(18)>], ["price", #<BigDecimal:7fedb7bb05b0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb83989f8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 567], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedb7ba25a0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedb7ba2460,'0.0',9(18)>], ["price", #<BigDecimal:7fedb7ba22f8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb8381aa0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 568], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedba025918,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedba025800,'0.0',9(18)>], ["price", #<BigDecimal:7fedba0256e8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb836b480,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 569], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedba01c930,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedba01c818,'0.0',9(18)>], ["price", #<BigDecimal:7fedba01c728,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb83590c8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 4], ["product_id", 570], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fedb8473940,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fedb8473850,'0.0',9(18)>], ["price", #<BigDecimal:7fedb8473738,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["line_total", #<BigDecimal:7fedb8342580,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (8.13ms)
Completed 200 OK in 145ms (Views: 12.1ms | ActiveRecord: 19.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:18:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$vc7xGoPCUo4Cd/Y7Zu2aqu0RBY0fHchLS3F52a4aAZX3U0wHhtdbK"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 525], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 525], ["account_id", 1273], ["role", "admin"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 10ms (Views: 1.4ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:18:02 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$/efOcZZGVw8BhgkOHQGp..d5FDbxAWfWnWeZx.YudUjOJpqHj61j2"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 526], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 526], ["account_id", 1274], ["role", "admin"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.16ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:18:02 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 413ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$FGJVw24HccbARe5n6tuEkOaybOqr89KYdoAdcyKuABauwy8N/3nXa"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 527], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 527], ["account_id", 1275], ["role", "admin"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1275/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:18:02 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1275"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 527]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1275]]
[active_model_serializers]   [1m[36mTax Load (0.4ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1275], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.94ms)
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 2.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$96UN7a438l8WO.FDl61MFum8ThjG7t4t8MemKZXJR0CkHbCjIbaMm"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 528], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 528], ["account_id", 1276], ["role", "admin"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1276/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:18:02 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1276"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 528], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 528]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1276], ["LIMIT", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fedc088e158,'0.175E2',18(27)>], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["account_id", 1276]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.44ms)
Completed 200 OK in 24ms (Views: 4.5ms | ActiveRecord: 5.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$5qDUMbKiRIUr5um58QzYVewGMJIX4fq0m9mrRqPZh9kCunygsv8re"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 529], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 529], ["account_id", 1277], ["role", "admin"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 529]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$rChfB6sXKVRjL2fYSzPxPueUjeNgkFevYXWLt7yWAglXs3tc29NvO"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 530], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 530], ["account_id", 1278], ["role", "admin"], ["created_at", 2017-03-09 00:18:02 UTC], ["updated_at", 2017-03-09 00:18:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:19:18 UTC], ["updated_at", 2017-03-09 00:19:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:19:18 UTC], ["updated_at", 2017-03-09 00:19:18 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:19:18 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.67ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.58ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.21ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lTOJ6rdBahSFZTpUrvNGZOifu7kUdIpN1w/yXoaonvpt/qx5bt6xW"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 531], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 531], ["account_id", 1285], ["role", "admin"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1285]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1285/invoices" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"37", "client_id"=>"32", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"571", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"572", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"573", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"574", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"575", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"576", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"577", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"578", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"579", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"580", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1285"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 531], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 531]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1285], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 571], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 572], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 573], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 574], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 575], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 576], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 577], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 578], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 579], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 580], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1285]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1285], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 32], ["currency_id", 37], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7f831a9230c0,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7f831a922f30,'0.0',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 571], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a6dc9d8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a6dc8c0,'0.0',9(18)>], ["price", #<BigDecimal:7f831a6dc7a8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831a34cea8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 572], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a6c75d8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a6bfe50,'0.0',9(18)>], ["price", #<BigDecimal:7f831a6bfd60,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831a31c398,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 573], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a6b6b20,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a6b6a30,'0.0',9(18)>], ["price", #<BigDecimal:7f831a6b6940,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831c236968,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 574], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a6ade30,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a6ad868,'0.0',9(18)>], ["price", #<BigDecimal:7f831a6ad750,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831bac0c60,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 575], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a69d5f8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a69d3c8,'0.0',9(18)>], ["price", #<BigDecimal:7f831a69d210,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831a29f640,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 576], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831c28eaa0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831c28e988,'0.0',9(18)>], ["price", #<BigDecimal:7f831c28e898,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831ba9b668,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 577], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a695f38,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a695e20,'0.0',9(18)>], ["price", #<BigDecimal:7f831a695ce0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831a8dc8c8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 578], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a68d1d0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a68d0e0,'0.0',9(18)>], ["price", #<BigDecimal:7f831a68cfa0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831a8aa288,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 579], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a684490,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a6843a0,'0.0',9(18)>], ["price", #<BigDecimal:7f831a6842b0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831ba820a0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 5], ["product_id", 580], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7f831a6760c0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7f831a675fa8,'0.0',9(18)>], ["price", #<BigDecimal:7f831a675eb8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["line_total", #<BigDecimal:7f831ba0b090,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (14.78ms)
Completed 200 OK in 138ms (Views: 20.2ms | ActiveRecord: 17.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (4.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$1jY2/19fXVYC0LAcMBsgGOxLOyqbgearbJSgyV/J1tShSsHyXR4WK"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 532], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 532], ["account_id", 1286], ["role", "admin"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 21ms (Views: 1.6ms | ActiveRecord: 8.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$IS.WDRoGXaIP9VSj5PA5.ub/REs70jzW56V6PoOZDKwbib6292Coi"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 533], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 533], ["account_id", 1287], ["role", "admin"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.28ms)
Completed 201 Created in 9ms (Views: 0.8ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 426ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$lNXjoCzYjyDVtENnNoddme4C6G.q/qJMAMA8cwJ3PVIcPe3nnlIpG"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 534], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 534], ["account_id", 1288], ["role", "admin"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1288/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1288"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 534], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 534]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1288]]
[active_model_serializers]   [1m[36mTax Load (0.4ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1288], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.08ms)
Completed 200 OK in 13ms (Views: 1.1ms | ActiveRecord: 3.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$uw8fbr7c0WJNjpz73M6DAeqXZia/2J5c17RUhLUTPdAPvN0mThfR2"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 535], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 535], ["account_id", 1289], ["role", "admin"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1289/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:19:19 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1289"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 535], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 535]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1289], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7f831adcbc80,'0.175E2',18(27)>], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["account_id", 1289]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.36ms)
Completed 200 OK in 26ms (Views: 4.0ms | ActiveRecord: 4.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$R4ArU/UX0xemfA4KSADwuuAgudT81AfPMKO4hia88OLX4LbuzCiXS"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 536], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 536], ["account_id", 1290], ["role", "admin"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 536]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$3RYnwiiarLwK2CsmHESl3uSZAPjJwDft0wo46JYw2dwpNFogK6hDq"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 537], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 537], ["account_id", 1291], ["role", "admin"], ["created_at", 2017-03-09 00:19:19 UTC], ["updated_at", 2017-03-09 00:19:19 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.51ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.42ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.15ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$XrkdwcrdF.ufiflk6tMB5.d6DIBaaYvntuJY.1tjkJGVBmgFjC.8."], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 538], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 538], ["account_id", 1298], ["role", "admin"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1298]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1298/invoices" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"38", "client_id"=>"33", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"581", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"582", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"583", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"584", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"585", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"586", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"587", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"588", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"589", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"590", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1298"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 538], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 538]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1298], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.3ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 581], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 582], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 583], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 584], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 585], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 586], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 587], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 588], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 589], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 590], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1298]]
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1298], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 33], ["currency_id", 38], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7fd33a372408,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7fd33a372160,'0.0',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 581], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a4b05b8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a4b0298,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a4b00e0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33a3416f0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 582], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a493300,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a4931e8,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a4930f8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33a313688,'0.6E3',9(18)>]]
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 583], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a48a570,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a48a458,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a48a368,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33a2f1808,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 584], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a481290,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a480ef8,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a480bb0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33a293a50,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 585], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a472510,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a4721a0,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a471ef8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd339ab46b8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 586], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a463718,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a463628,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a463538,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd339a8cd98,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 587], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a45b130,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a45b040,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a45af50,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33a24a580,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 588], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a452b48,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a452a58,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a452968,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33b9d99d0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 589], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a44a150,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a44a038,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a449d40,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33b983ad0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 6], ["product_id", 590], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fd33a440c90,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fd33a440ba0,'0.0',9(18)>], ["price", #<BigDecimal:7fd33a440ab0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["line_total", #<BigDecimal:7fd33b8f1c20,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (13.58ms)
Completed 200 OK in 137ms (Views: 17.8ms | ActiveRecord: 28.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$Hirs6.iqhWd/EtB9QD0dfetxGR4DQK3WVwzsaB7gBQXOHfvTcG/RC"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 539], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 539], ["account_id", 1299], ["role", "admin"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.18ms)
Completed 201 Created in 11ms (Views: 1.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$gbbCxV3.V7tp/.L.0D57beV0zT2Bmozo6ziAqO1fmHvdv5..fswf."], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 540], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 540], ["account_id", 1300], ["role", "admin"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.26ms)
Completed 201 Created in 9ms (Views: 0.7ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 398ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$GhKu4ArZ1PlcUA5JRpY4Q.h04.VVyN9Ofn/L4DKkzUnGQRp8JuES6"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 541], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 541], ["account_id", 1301], ["role", "admin"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1301/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1301"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 541], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 541]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1301]]
[active_model_serializers]   [1m[36mTax Load (0.4ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1301], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.19ms)
Completed 200 OK in 11ms (Views: 1.1ms | ActiveRecord: 3.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$TBK9/R4X1LbBitO.itIifOpbNRoSWe.w.8ASx2.lEGr43a0O9LIeC"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 542], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 542], ["account_id", 1302], ["role", "admin"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1302/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:19:41 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1302"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 542], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 542]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1302], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fd34122d500,'0.175E2',18(27)>], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["account_id", 1302]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.33ms)
Completed 200 OK in 21ms (Views: 3.7ms | ActiveRecord: 3.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$5osZaKR3Jx.zrYabgDzvVOraZglabXblCWj2xtc05UWhyX7bloLGa"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 543], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 543], ["account_id", 1303], ["role", "admin"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 543]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$cG9u8Yg8gwzJxabQHfxRnuCbGcDNkdIZz8FAIwDqct/KBf5Y3P7AS"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 544], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 544], ["account_id", 1304], ["role", "admin"], ["created_at", 2017-03-09 00:19:41 UTC], ["updated_at", 2017-03-09 00:19:41 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:20:02 UTC], ["updated_at", 2017-03-09 00:20:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:20:02 UTC], ["updated_at", 2017-03-09 00:20:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:20:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.47ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:20:02 UTC], ["updated_at", 2017-03-09 00:20:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:20:02 UTC], ["updated_at", 2017-03-09 00:20:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:20:02 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.76ms)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:20:02 UTC], ["updated_at", 2017-03-09 00:20:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:20:02 UTC], ["updated_at", 2017-03-09 00:20:02 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-09 00:20:02 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.22ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$xnMEK.annXD9beIj2l1h8O6npjn/yIHiXS5mZ/Mii4niVj60zC0HG"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 545], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 545], ["account_id", 1311], ["role", "admin"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1311]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1311/invoices" for 127.0.0.1 at 2017-03-09 00:20:03 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"39", "client_id"=>"34", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"591", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"592", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"593", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"594", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"595", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"596", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"597", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"598", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"599", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"600", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1311"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 545], ["LIMIT", 1]]
  [1m[36mAccount Load (0.6ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 545]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1311], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 591], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 592], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 593], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 594], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 595], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 596], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 597], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 598], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 599], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 600], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1311]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1311], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 34], ["currency_id", 39], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7ff72a90dfc0,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7ff72a90bf68,'0.0',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 591], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c1a9ed0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c1a9cc8,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c1a9b88,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72f802a68,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 592], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c191420,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c191240,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c1910b0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72a7c7120,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 593], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c1836e0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c1835f0,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c183500,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72a78e438,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 594], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c179f78,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c179e38,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c179ca8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72a745710,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 595], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c170b08,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c1709f0,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c170900,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72d0099a8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 596], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c160e88,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c160c30,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c160af0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72a6ed880,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 597], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c1530f8,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c152ef0,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c152d60,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72e80edc8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 598], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c14a868,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c14a778,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c14a520,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72a697e80,'0.6E3',9(18)>]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 599], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c141e20,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c141c90,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c141b50,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72a64d7b8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 7], ["product_id", 600], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7ff72c1385a0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7ff72c1384b0,'0.0',9(18)>], ["price", #<BigDecimal:7ff72c1383c0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["line_total", #<BigDecimal:7ff72a5e4178,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (13.31ms)
Completed 200 OK in 128ms (Views: 17.2ms | ActiveRecord: 18.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:20:03 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$VpfFhf/SP6WLMRhxG./FM.qK1jda62T6oByCCaqtXV5TTVHiEDqKK"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 546], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 546], ["account_id", 1312], ["role", "admin"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 12ms (Views: 1.6ms | ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:20:03 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$tOBTJvZKM8bNb8uReGotxOnbfdmbxqODPA2yyo0L8UkZTztKYJtdu"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 547], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 547], ["account_id", 1313], ["role", "admin"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:20:03 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.12ms)
Completed 422 Unprocessable Entity in 408ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$c343py5mVaJVWVVmbrMTJ.AhY0jH1oki89BTcrNbNHFj.svneyj.q"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 548], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 548], ["account_id", 1314], ["role", "admin"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1314/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:20:03 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1314"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 548], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 548]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1314]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1314], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.81ms)
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 3.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$PKM7pACgZ6SwiPsbNY43xu.Tddm36bRFtgtR9OWUrs4cxsu/Ans3S"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 549], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 549], ["account_id", 1315], ["role", "admin"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1315/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:20:03 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1315"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 549], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 549]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1315], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7ff72ad30aa8,'0.175E2',18(27)>], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["account_id", 1315]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.37ms)
Completed 200 OK in 22ms (Views: 3.9ms | ActiveRecord: 5.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$.U9fze8nwLU2oVj/kMf2NudqwtW3X9qF2m50gI90I2fDZlfQb7BGK"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 550], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 550], ["account_id", 1316], ["role", "admin"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.5ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 550]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$YRopKb8UJppdMnEI6a5SHuKmciuDGgG76FYsM1QeEznpsXZvMqUAO"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 551], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 551], ["account_id", 1317], ["role", "admin"], ["created_at", 2017-03-09 00:20:03 UTC], ["updated_at", 2017-03-09 00:20:03 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:20:25 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (1.0ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (2.86ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts" for 127.0.0.1 at 2017-03-09 00:20:25 +0000
Processing by Admin::AccountsController#index as HTML
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.58ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "the shoe shop"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["organization_name", "coffee on a lounge"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/admin/accounts?page=1&size=1" for 127.0.0.1 at 2017-03-09 00:20:25 +0000
Processing by Admin::AccountsController#index as HTML
  Parameters: {"page"=>"1", "size"=>"1"}
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  1 AS count_column FROM "accounts" LIMIT $1 OFFSET $2) subquery_for_count[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers]   [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" ORDER BY "accounts"."updated_at" DESC LIMIT $1 OFFSET $2[0m  [["LIMIT", 1], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (1.33ms)
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$/MOaSe.e5.F6TIGhEBKrsuq7rjfsQJ3N8eDkmkNgN3n0Ml7i1g1NW"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 552], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 552], ["account_id", 1324], ["role", "admin"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-2"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-3"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-4"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-5"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-6"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-7"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-8"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-9"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-10"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "description", "product_type", "reorder_level", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "sample-11"], ["description", "a nice product"], ["product_type", "consumable"], ["reorder_level", 10], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "currencies" ("country", "iso_alpha2", "iso_alpha3", "iso_numeric", "currency_name", "currency_code", "currency_symbol", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["country", "United States of America"], ["iso_alpha2", "US"], ["iso_alpha3", "USA"], ["iso_numeric", "123"], ["currency_name", "United State Dollar"], ["currency_code", "111"], ["currency_symbol", "$"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mClient Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "clients" WHERE "clients"."email" = $1 LIMIT $2[0m  [["email", "petebr@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.1ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "clients" ("name", "email", "phone_number", "address", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["name", "Peter Brown"], ["email", "petebr@mail.com"], ["phone_number", "1112323423"], ["address", "123 street name"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["account_id", 1324]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1324/invoices" for 127.0.0.1 at 2017-03-09 00:20:25 +0000
Processing by InvoicesController#create as HTML
  Parameters: {"invoice"=>{"invoice_date"=>"03/09/2017", "currency_id"=>"40", "client_id"=>"35", "due_date"=>"03/10/2017", "invoice_lines"=>[{"quantity"=>"2", "product_id"=>"601", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"602", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"603", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"604", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"605", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"606", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"607", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"608", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"609", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}, {"quantity"=>"2", "product_id"=>"610", "price"=>"300", "description"=>"a nice product", "discount_flat"=>"0", "discount_percentage"=>"0"}]}, "tenant_id"=>"1324"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 552], ["LIMIT", 1]]
  [1m[36mAccount Load (0.9ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 552]]
Unpermitted parameter: invoice_lines
Unpermitted parameters: invoice_date, currency_id, client_id, due_date
  [1m[36mAccount Load (0.3ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1324], ["LIMIT", 1]]
  [1m[36mClient Load (0.3ms)[0m  [1m[34mSELECT  "clients".* FROM "clients" WHERE "clients"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mCurrency Load (0.4ms)[0m  [1m[34mSELECT  "currencies".* FROM "currencies" WHERE "currencies"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 601], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 602], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 603], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 604], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 605], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 606], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 607], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 608], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 609], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 610], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "invoices" WHERE "invoices"."account_id" = $1[0m  [["account_id", 1324]]
  [1m[35mSQL (1.5ms)[0m  [1m[32mINSERT INTO "invoices" ("account_id", "due_date", "invoice_date", "client_id", "currency_id", "invoice_number", "total_amount", "total_tax", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["account_id", 1324], ["due_date", Tue, 03 Oct 2017], ["invoice_date", Sun, 03 Sep 2017], ["client_id", 35], ["currency_id", 40], ["invoice_number", "INV-000000"], ["total_amount", #<BigDecimal:7fbe38b302b0,'0.6E4',9(18)>], ["total_tax", #<BigDecimal:7fbe38b30008,'0.0',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 601], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe38c2abc0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe38c2a968,'0.0',9(18)>], ["price", #<BigDecimal:7fbe38c2a828,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe38ae1340,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 602], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe38c12de0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe38c12cc8,'0.0',9(18)>], ["price", #<BigDecimal:7fbe38c12bd8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe38ab10a0,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 603], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe38c091f0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe38c090d8,'0.0',9(18)>], ["price", #<BigDecimal:7fbe38c08fc0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe38a83790,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 604], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe38bfbe38,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe38bfbd48,'0.0',9(18)>], ["price", #<BigDecimal:7fbe38bfbc08,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe37a6d630,'0.6E3',9(18)>]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 605], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe38bf1348,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe38bf1168,'0.0',9(18)>], ["price", #<BigDecimal:7fbe38bf0fb0,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe37a0c498,'0.6E3',9(18)>]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 606], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe38be1dd0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe38be1c90,'0.0',9(18)>], ["price", #<BigDecimal:7fbe38be1b00,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe379dd8c8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 607], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe38bd9db0,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe38bd3f50,'0.0',9(18)>], ["price", #<BigDecimal:7fbe38bd3e38,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe383e2f08,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 608], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe37c1f208,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe37c1f078,'0.0',9(18)>], ["price", #<BigDecimal:7fbe37c1ee48,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe38a59be8,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 609], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe37c15d98,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe37c15c08,'0.0',9(18)>], ["price", #<BigDecimal:7fbe37c15b18,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe38a13148,'0.6E3',9(18)>]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "invoice_lines" ("invoice_id", "product_id", "description", "quantity", "discount_percentage", "discount_flat", "price", "created_at", "updated_at", "line_total") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10) RETURNING "id"[0m  [["invoice_id", 8], ["product_id", 610], ["description", "a nice product"], ["quantity", 2], ["discount_percentage", #<BigDecimal:7fbe379bc358,'0.0',9(18)>], ["discount_flat", #<BigDecimal:7fbe379bc240,'0.0',9(18)>], ["price", #<BigDecimal:7fbe379bc0d8,'0.3E3',9(18)>], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["line_total", #<BigDecimal:7fbe389abf20,'0.6E3',9(18)>]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered SingleInvoiceSerializer with ActiveModelSerializers::Adapter::Json (13.87ms)
Completed 200 OK in 127ms (Views: 17.9ms | ActiveRecord: 19.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:20:25 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$w5VlfRuYTv2EZP.O8I7iuudUAgGP31qNpY1BkhuQq6uuJr1tY6VFa"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 553], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 553], ["account_id", 1325], ["role", "admin"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.2ms)
Completed 201 Created in 11ms (Views: 1.5ms | ActiveRecord: 1.9ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:20:25 +0000
Processing by SessionController#register as HTML
  Parameters: {"credentials"=>{"first_name"=>"billy", "last_name"=>"strong", "email"=>"bils@mail.com", "organization_name"=>"The blue fountain", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
Unpermitted parameter: organization_name
Unpermitted parameters: first_name, last_name, email, password, password_confirmation
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "bils@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "bils@mail.com"], ["password_digest", "$2a$04$9HNGabuRCuBBhrWiYXLVXOhijuo0pRJcPE9iUSHDssNTZ5ibV6GP6"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC], ["first_name", "billy"], ["last_name", "strong"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The blue fountain"], ["created_by", 554], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 554], ["account_id", 1326], ["role", "admin"], ["created_at", 2017-03-09 00:20:25 UTC], ["updated_at", 2017-03-09 00:20:25 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.17ms)
Completed 201 Created in 9ms (Views: 0.5ms | ActiveRecord: 1.8ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Started POST "/register" for 127.0.0.1 at 2017-03-09 00:20:25 +0000
Processing by SessionController#register as HTML
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.19ms)
Completed 422 Unprocessable Entity in 383ms (Views: 0.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$ydxi21YgJUCNcDaYB2L8peQxA/FNkDqOoCKxn7m3kGmgHbLBce2Hm"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 555], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 555], ["account_id", 1327], ["role", "admin"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/1327/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:20:26 +0000
Processing by TaxesController#index as HTML
  Parameters: {"page"=>"1", "tenant_id"=>"1327"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 555], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 555]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "taxes" WHERE "taxes"."account_id" = $1[0m  [["account_id", 1327]]
[active_model_serializers]   [1m[36mTax Load (0.3ms)[0m  [1m[34mSELECT  "taxes".* FROM "taxes" WHERE "taxes"."account_id" = $1 ORDER BY "taxes"."updated_at" DESC LIMIT $2 OFFSET $3[0m  [["account_id", 1327], ["LIMIT", 25], ["OFFSET", 0]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Hash (0.79ms)
Completed 200 OK in 11ms (Views: 0.8ms | ActiveRecord: 3.0ms)
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$.mq9Do5KNy7lZgvuD8FY4ut5cFJXNgQ9Lh0VmHc/og4LgnXPN/yiy"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 556], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 556], ["account_id", 1328], ["role", "admin"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/1328/taxes?page=1" for 127.0.0.1 at 2017-03-09 00:20:26 +0000
Processing by TaxesController#create as HTML
  Parameters: {"tax"=>{"name"=>"VAT", "amount"=>"17.5", "description"=>"National health insurance levy"}, "page"=>"1", "tenant_id"=>"1328"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 556], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 556]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTax Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "taxes" WHERE "taxes"."name" = $1 LIMIT $2[0m  [["name", "VAT"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.2ms)[0m  [1m[34mSELECT  "accounts".* FROM "accounts" WHERE "accounts"."id" = $1 LIMIT $2[0m  [["id", 1328], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "taxes" ("name", "description", "amount", "created_at", "updated_at", "account_id") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "VAT"], ["description", "National health insurance levy"], ["amount", #<BigDecimal:7fbe37aec7c8,'0.175E2',18(27)>], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC], ["account_id", 1328]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Tax (0.3ms)
Completed 200 OK in 22ms (Views: 3.5ms | ActiveRecord: 4.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$62KkFBAgLnVv/Zk3kC7q7uetyEd9qvNZ1VJW06ZRav9pW/XRHSvJu"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 557], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 557], ["account_id", 1329], ["role", "admin"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccount Load (0.4ms)[0m  [1m[34mSELECT "accounts".* FROM "accounts" INNER JOIN "account_details" ON "accounts"."id" = "account_details"."account_id" WHERE "account_details"."user_id" = $1[0m  [["user_id", 557]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "accounts"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "account_details"[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "password_digest", "created_at", "updated_at", "first_name", "last_name") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["email", "joe@mail.com"], ["password_digest", "$2a$04$fAG2FYekdvCvV7/OJkkpa.C7NYgK5hNdh9PCNM9I7RJeNUPSGxI9W"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC], ["first_name", "joe"], ["last_name", "bannes"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "accounts" ("organization_name", "created_by", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["organization_name", "The coffee shop"], ["created_by", 558], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "account_details" ("user_id", "account_id", "role", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["user_id", 558], ["account_id", 1330], ["role", "admin"], ["created_at", 2017-03-09 00:20:26 UTC], ["updated_at", 2017-03-09 00:20:26 UTC]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joe@mail.com"], ["LIMIT", 1]]
  [1m[36mAccountDetail Load (0.2ms)[0m  [1m[34mSELECT "account_details".* FROM "account_details" WHERE "account_details"."user_id" = $1[0m  [["user_id", 558]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
